{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/yilia/source/css/style.styl","path":"css/style.styl","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/blank.gif","path":"fancybox/blank.gif","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/fancybox_loading.gif","path":"fancybox/fancybox_loading.gif","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/fancybox_overlay.png","path":"fancybox/fancybox_overlay.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/fancybox_loading@2x.gif","path":"fancybox/fancybox_loading@2x.gif","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/fancybox_sprite.png","path":"fancybox/fancybox_sprite.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/fancybox_sprite@2x.png","path":"fancybox/fancybox_sprite@2x.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/jquery.fancybox.css","path":"fancybox/jquery.fancybox.css","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/coderwall.png","path":"img/coderwall.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/jquery.fancybox.js","path":"fancybox/jquery.fancybox.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/jquery.fancybox.pack.js","path":"fancybox/jquery.fancybox.pack.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/delicious.png","path":"img/delicious.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/douban.png","path":"img/douban.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/facebook.png","path":"img/facebook.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/cool.jpg","path":"img/cool.jpg","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/github.png","path":"img/github.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/linkedin.png","path":"img/linkedin.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/google.png","path":"img/google.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/img-err.png","path":"img/img-err.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/img-loading.png","path":"img/img-loading.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/pinboard.png","path":"img/pinboard.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/mail.png","path":"img/mail.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/pinterest.png","path":"img/pinterest.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/rss.png","path":"img/rss.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/scrollbar_arrow.png","path":"img/scrollbar_arrow.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/stackoverflow.png","path":"img/stackoverflow.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/twitter.png","path":"img/twitter.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/weibo.png","path":"img/weibo.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/js/instagram.js","path":"js/instagram.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/zhihu.png","path":"img/zhihu.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/js/main.js","path":"js/main.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/js/jquery.lazyload.js","path":"js/jquery.lazyload.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/js/mobile.js","path":"js/mobile.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/js/pc.js","path":"js/pc.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/css/fonts/fontawesome-webfont.eot","path":"css/fonts/fontawesome-webfont.eot","modified":1,"renderable":1},{"_id":"themes/yilia/source/css/fonts/fontawesome-webfont.svgz","path":"css/fonts/fontawesome-webfont.svgz","modified":1,"renderable":1},{"_id":"themes/yilia/source/css/fonts/fontawesome-webfont.ttf","path":"css/fonts/fontawesome-webfont.ttf","modified":1,"renderable":1},{"_id":"themes/yilia/source/css/fonts/fontawesome-webfont.woff","path":"css/fonts/fontawesome-webfont.woff","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/helpers/fancybox_buttons.png","path":"fancybox/helpers/fancybox_buttons.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/helpers/jquery.fancybox-buttons.css","path":"fancybox/helpers/jquery.fancybox-buttons.css","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/helpers/jquery.fancybox-buttons.js","path":"fancybox/helpers/jquery.fancybox-buttons.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/helpers/jquery.fancybox-media.js","path":"fancybox/helpers/jquery.fancybox-media.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/helpers/jquery.fancybox-thumbs.css","path":"fancybox/helpers/jquery.fancybox-thumbs.css","modified":1,"renderable":1},{"_id":"themes/yilia/source/fancybox/helpers/jquery.fancybox-thumbs.js","path":"fancybox/helpers/jquery.fancybox-thumbs.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/css/fonts/fontawesome-webfont.svg","path":"css/fonts/fontawesome-webfont.svg","modified":1,"renderable":1}],"Cache":[{"_id":"themes/yilia/.gitignore","hash":"7d65523f2a5afb69d76824dd1dfa62a34faa3197","modified":1473416668000},{"_id":"themes/yilia/_config.yml","hash":"7a122b0dfc657706de247a72821fe3354a8a6ecf","modified":1476540335000},{"_id":"themes/yilia/README.md","hash":"dd311f8e8696bd89cf1790328d12b49d0e6b36da","modified":1473416668000},{"_id":"themes/yilia/package.json","hash":"00357ef6f24eb049074da81809e98f973f528cca","modified":1473416668000},{"_id":"source/_posts/chrome-tab-search.md","hash":"46206dd3b1e282367ec72a0476814621ae25137f","modified":1478078557000},{"_id":"source/_posts/2016年终总结.md","hash":"2272aab7c060a335f9a202f143194a3ddebf0f50","modified":1486609533000},{"_id":"source/_posts/generator-zyy-h5.md","hash":"b8e36e6be265876f5098b700f381df2993937954","modified":1478075584000},{"_id":"source/_posts/dns解析二级域名到github-pages.md","hash":"dbed9d5e35ac4b404ab4a0edbd71965f907a341d","modified":1473648858000},{"_id":"source/_posts/一只蛋糕皮皮猫.md","hash":"491275db71428b64fa35f2ead1d34b64e8b0f793","modified":1487904594000},{"_id":"source/_posts/我的mac工具集.md","hash":"ef7cc26e40d5967277052f08d05aedf6841221ef","modified":1476267698000},{"_id":"source/_posts/h5-summary.md","hash":"1f75e9a660771ba182e8067eed38f7717d06548f","modified":1486609664000},{"_id":"source/_posts/丁香园工作中一些常用的代码.md","hash":"ab6498fabd4b211274922a76d619104d9d68d620","modified":1478078987000},{"_id":"source/_posts/整理与一次团队分享.md","hash":"8915c5bd3b82aef8c9598abeadc4a5f195cadfa0","modified":1473492123000},{"_id":"themes/yilia/languages/default.yml","hash":"9e59cd11b290be84909612beb12d0f93ce737f53","modified":1473416668000},{"_id":"themes/yilia/languages/de.yml","hash":"ecb13af8af81ccc033ae7494cb2f94f84f6466ad","modified":1473416668000},{"_id":"themes/yilia/languages/en.yml","hash":"8fa0a7482188ca56fd3cf19c4a87320f85a76846","modified":1473416668000},{"_id":"themes/yilia/languages/fr-FR.yml","hash":"12cfa96dc412ecb6f8bf4de2690575929464906e","modified":1473416668000},{"_id":"themes/yilia/languages/zh-Hans.yml","hash":"0d7e8da60fd5e5db217e1733ac273ae00fd752ea","modified":1473416668000},{"_id":"themes/yilia/languages/ru.yml","hash":"9997425292031ee8a58a93346ac6d3f38f18e566","modified":1473416668000},{"_id":"themes/yilia/languages/zh-hk.yml","hash":"606dfb34d3fec1d7895a654ff7a5a1de0c6a5c55","modified":1473416668000},{"_id":"themes/yilia/languages/zh-tw.yml","hash":"9e4034870b57d2bb3063c91f8d206a6c4d7b3789","modified":1473416668000},{"_id":"themes/yilia/layout/category.ejs","hash":"765426a9c8236828dc34759e604cc2c52292835a","modified":1473416668000},{"_id":"themes/yilia/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1473416668000},{"_id":"themes/yilia/layout/layout.ejs","hash":"4a5566f704f3246f5ef77badddf18d2e16750328","modified":1473416668000},{"_id":"themes/yilia/layout/index.ejs","hash":"aa1b4456907bdb43e629be3931547e2d29ac58c8","modified":1473416668000},{"_id":"themes/yilia/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1473416668000},{"_id":"themes/yilia/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1473416668000},{"_id":"themes/yilia/layout/tag.ejs","hash":"eaa7b4ccb2ca7befb90142e4e68995fb1ea68b2e","modified":1473416668000},{"_id":"themes/yilia/source/.DS_Store","hash":"f25d6d18541014a944ace33a1c66fe82792dde65","modified":1473429290000},{"_id":"themes/yilia/layout/_partial/after-footer.ejs","hash":"23f22ef7f8f4936d48a62def1d507dc8bbb86670","modified":1473490517000},{"_id":"themes/yilia/layout/_partial/archive-post.ejs","hash":"8dfb6d68aa8a0661d26c32ce1ce1f45815364c3a","modified":1473416668000},{"_id":"themes/yilia/layout/_partial/article.ejs","hash":"aff8f72023148b518f3defb07ca78d7ca14bb732","modified":1473490552000},{"_id":"themes/yilia/layout/_partial/footer.ejs","hash":"f2994e0acd1d606ebf4680afc4fa652e148ccf4e","modified":1473416668000},{"_id":"themes/yilia/layout/_partial/archive.ejs","hash":"a6e94061ac55b9eb55275f87b608d62f6ea35659","modified":1473416668000},{"_id":"themes/yilia/layout/_partial/google-analytics.ejs","hash":"f921e7f9223d7c95165e0f835f353b2938e40c45","modified":1473416668000},{"_id":"themes/yilia/layout/_partial/head.ejs","hash":"f9f67810cebf845c1c4de27cc2d779d43ba58759","modified":1476349913000},{"_id":"themes/yilia/layout/_partial/left-col.ejs","hash":"3f3b8af5d26342bd60de7eac7afec52a9c9604ec","modified":1473648996000},{"_id":"themes/yilia/layout/_partial/header.ejs","hash":"6387a93dad7c3d778eb91e3821852fbf6813880c","modified":1473416668000},{"_id":"themes/yilia/layout/_partial/mathjax.ejs","hash":"98c9ff9d4405cff22ef40f81d800c7ca69b5b0f7","modified":1473420714000},{"_id":"themes/yilia/layout/_partial/mobile-nav.ejs","hash":"fbaddd65b96db56c43bcacbfd0d54ac8ff2cce49","modified":1473490493000},{"_id":"themes/yilia/source/css/.DS_Store","hash":"fc5a428fe40854a0ba66b4cea196c6700a57cae7","modified":1473416668000},{"_id":"themes/yilia/source/css/_extend.styl","hash":"8ab1ad313bd6707d248c5ca1ee9a5eab8d815e42","modified":1473416668000},{"_id":"themes/yilia/source/css/_variables.styl","hash":"b1e1116c01604fa87ae264a39c488ba69ca178cd","modified":1473416668000},{"_id":"themes/yilia/source/css/style.styl","hash":"456e8cfe3b0b0371e81848ea9b0bc7ffd5360921","modified":1473652117000},{"_id":"themes/yilia/source/fancybox/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1473416668000},{"_id":"themes/yilia/source/fancybox/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1473416668000},{"_id":"themes/yilia/source/fancybox/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1473416668000},{"_id":"themes/yilia/source/fancybox/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1473416668000},{"_id":"themes/yilia/source/fancybox/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1473416668000},{"_id":"themes/yilia/source/fancybox/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1473416668000},{"_id":"themes/yilia/source/fancybox/jquery.fancybox.css","hash":"b6aa6692c2e5f8bd74d96827b78570f0c5683c20","modified":1473416668000},{"_id":"themes/yilia/source/img/coderwall.png","hash":"fa84676c4d654e040e51fd34bfcd9f9348cd5331","modified":1473416668000},{"_id":"themes/yilia/source/fancybox/jquery.fancybox.js","hash":"a82597493d75ea989ca586e09173cff332efe41e","modified":1473416668000},{"_id":"themes/yilia/source/fancybox/jquery.fancybox.pack.js","hash":"9e0d51ca1dbe66f6c0c7aefd552dc8122e694a6e","modified":1473416668000},{"_id":"themes/yilia/source/img/delicious.png","hash":"9553a5f5189e4a953e04a58a49dbfa74b86b73dd","modified":1473416668000},{"_id":"themes/yilia/source/img/douban.png","hash":"e2ade003ffadd5826ee66ec23901c2d6e8607e4e","modified":1473416668000},{"_id":"themes/yilia/source/img/facebook.png","hash":"d19ad7a0903daf26817afd8753cd97e0cc714f54","modified":1473416668000},{"_id":"themes/yilia/source/img/cool.jpg","hash":"360f740961157e56e8d122f7ff21c1ce8f38e1f1","modified":1459993971000},{"_id":"themes/yilia/source/img/.DS_Store","hash":"9483fa1dc5c21001060ba18d170709960a09b408","modified":1473429290000},{"_id":"themes/yilia/source/img/github.png","hash":"b84d03b32fa388dcbf149296ebd16dce6223d48d","modified":1473416668000},{"_id":"themes/yilia/source/img/linkedin.png","hash":"e203138fb53c257cb214e97f4e30091b9c568d2c","modified":1473416668000},{"_id":"themes/yilia/source/img/google.png","hash":"61a21fec7346fa3400b747ac9a201cf3d5bc013d","modified":1473416668000},{"_id":"themes/yilia/source/img/img-err.png","hash":"23a63ea26eb3c1d5e677d9883cf36cc1a1a1228b","modified":1473416668000},{"_id":"themes/yilia/source/img/img-loading.png","hash":"a9cd5cd11866824f31e3d1c5e23badfeb3f73031","modified":1473416668000},{"_id":"themes/yilia/source/img/pinboard.png","hash":"0891fbb6d092fa012bf936019923383d84c6aeb0","modified":1473416668000},{"_id":"themes/yilia/source/img/mail.png","hash":"fca8199cc77fdbd700a45bf56d091c82f4a67fe7","modified":1473416668000},{"_id":"themes/yilia/source/img/pinterest.png","hash":"9c72917f8779c083157c6ce7a5d62ed4874f0630","modified":1473416668000},{"_id":"themes/yilia/source/img/rss.png","hash":"430fd47340e75214c081abd05cd7410cf7c71b86","modified":1473416668000},{"_id":"themes/yilia/source/img/scrollbar_arrow.png","hash":"d64a33c4ddfbdb89deeb6f4e3d36eb84dc4777c0","modified":1473416668000},{"_id":"themes/yilia/source/img/stackoverflow.png","hash":"da5dfe9043055c95e479d49c78cd3b020de608f2","modified":1473416668000},{"_id":"themes/yilia/source/img/twitter.png","hash":"14dbb8e62d056525253bc0de13acd1723da7a934","modified":1473416668000},{"_id":"themes/yilia/source/img/weibo.png","hash":"280dae3fd38086158b4a1b57edb94c06b1a5014b","modified":1473416668000},{"_id":"themes/yilia/source/js/instagram.js","hash":"81e13cacf4947118ed1920e59b04ccf6beef6b86","modified":1473416668000},{"_id":"themes/yilia/source/img/zhihu.png","hash":"a6d6ef65e9ac82e613a311810391ebb90d9b1c1d","modified":1473416668000},{"_id":"themes/yilia/source/js/main.js","hash":"38cf368f6c113777523e986904acbfcfd2a918c7","modified":1473651829000},{"_id":"themes/yilia/source/js/jquery.lazyload.js","hash":"0654e5d7429bdd0665c94182ef17514c831586eb","modified":1473416668000},{"_id":"themes/yilia/source/js/mobile.js","hash":"b68cc01d24e80973c48205f551da87f3f3427644","modified":1473416668000},{"_id":"themes/yilia/source/js/pc.js","hash":"a5397d34a04084ee089b4b1e26457ab46ecea63e","modified":1473416668000},{"_id":"themes/yilia/layout/_partial/post/category.ejs","hash":"d4f0e36f9a2167e91082dbd7d52425a06d2bebbf","modified":1473416668000},{"_id":"themes/yilia/layout/_partial/post/duoshuo.ejs","hash":"e8399025ed3b980aedb821c92855889f5f12fd5b","modified":1473416668000},{"_id":"themes/yilia/layout/_partial/post/date.ejs","hash":"c0c988334e857a77ba455a056dfa21809e7e76a5","modified":1473416668000},{"_id":"themes/yilia/layout/_partial/post/nav.ejs","hash":"d19dee2082528e1844bed3aa4e4bd59f15fd7a7a","modified":1473416668000},{"_id":"themes/yilia/layout/_partial/post/share_addthis.ejs","hash":"0ac35bd92e58983c189ac0c35df404ebc6ee826e","modified":1473416668000},{"_id":"themes/yilia/layout/_partial/post/title.ejs","hash":"2f275739b6f1193c123646a5a31f37d48644c667","modified":1473416668000},{"_id":"themes/yilia/layout/_partial/post/share_jia.ejs","hash":"924744aa3c1bce9056ba03cec02e19e095009126","modified":1473416668000},{"_id":"themes/yilia/layout/_partial/post/tag.ejs","hash":"78612cfc091d7d861a70455a0dc8c3036e460879","modified":1473416668000},{"_id":"themes/yilia/source/css/_partial/archive.styl","hash":"8b349f1605024dcdae054e04f02d71a2e84957c2","modified":1473416668000},{"_id":"themes/yilia/source/css/_partial/article.styl","hash":"872fc4e63509fef885c939e5fd70e6ed439beced","modified":1473416668000},{"_id":"themes/yilia/source/css/_partial/footer.styl","hash":"7ca837a4cc34db1c35f01baec85eb10ccc64ea86","modified":1473416668000},{"_id":"themes/yilia/source/css/_partial/header.styl","hash":"cd07bb30930556e67cee98f026b52cdeb3fb0a07","modified":1473652032000},{"_id":"themes/yilia/source/css/_partial/instagram.styl","hash":"8a7b07bf5ea2d3588c0019f722c245bb1a8696af","modified":1473416668000},{"_id":"themes/yilia/source/css/_partial/highlight.styl","hash":"ebddf6a98b9505d6db8e8377159e77d8f69471a3","modified":1473425050000},{"_id":"themes/yilia/source/css/_partial/main.styl","hash":"349504a068438b2c17e7f6f2ca6fadf42158c180","modified":1473652477000},{"_id":"themes/yilia/source/css/_partial/mobile.styl","hash":"3a03b04ef8ac305aa5dbf7b9db99cd9377d07383","modified":1473416668000},{"_id":"themes/yilia/source/css/_partial/page.styl","hash":"720b5b169bc28ccba3794efce9b7cd39f243dec7","modified":1473416668000},{"_id":"themes/yilia/source/css/_partial/mobile-slider.styl","hash":"a9f8520c39027f6bfb5d86bd13f666420eaa6b11","modified":1473650219000},{"_id":"themes/yilia/source/css/_partial/scroll.styl","hash":"5539a38f9acd603d453a0ea0d8ce10893cf83d22","modified":1473416668000},{"_id":"themes/yilia/source/css/_partial/share.styl","hash":"22697b9a9877ab9f018364feb57aeea4a8313c9a","modified":1473416668000},{"_id":"themes/yilia/source/css/_partial/tagcloud.styl","hash":"af0115de5c6455f899a2e09225b50224982c039d","modified":1473416668000},{"_id":"themes/yilia/source/css/_partial/wheelmenu.styl","hash":"74630c56944e27bef53ef0c0e391611a2eec2ed0","modified":1473416668000},{"_id":"themes/yilia/source/css/_util/grid.styl","hash":"1aa883ab432d9e4139c89dcbd40ae2bd1528d029","modified":1473416668000},{"_id":"themes/yilia/source/css/_util/mixin.styl","hash":"429bad87fc156eacf226c5e35b0eafc277f2504b","modified":1473416668000},{"_id":"themes/yilia/source/css/fonts/fontawesome-webfont.eot","hash":"3ce87b82c7a4ffdf65e96765c2ffda10b1a283c6","modified":1473416668000},{"_id":"themes/yilia/source/css/fonts/fontawesome-webfont.svgz","hash":"4bfdd33ed702e32ae01399fcc2652377f78e7626","modified":1473416668000},{"_id":"themes/yilia/source/css/fonts/fontawesome-webfont.ttf","hash":"1480b8101b02da9bc4c60341b5e185e63e585064","modified":1473416668000},{"_id":"themes/yilia/source/css/fonts/fontawesome-webfont.woff","hash":"cafc4ac5761a0a252d33dce4ea3952cf9a38d832","modified":1473416668000},{"_id":"themes/yilia/source/fancybox/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1473416668000},{"_id":"themes/yilia/source/fancybox/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1473416668000},{"_id":"themes/yilia/source/fancybox/helpers/jquery.fancybox-buttons.js","hash":"dc3645529a4bf72983a39fa34c1eb9146e082019","modified":1473416668000},{"_id":"themes/yilia/source/fancybox/helpers/jquery.fancybox-media.js","hash":"294420f9ff20f4e3584d212b0c262a00a96ecdb3","modified":1473416668000},{"_id":"themes/yilia/source/fancybox/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1473416668000},{"_id":"themes/yilia/source/fancybox/helpers/jquery.fancybox-thumbs.js","hash":"47da1ae5401c24b5c17cc18e2730780f5c1a7a0c","modified":1473416668000},{"_id":"themes/yilia/source/css/fonts/fontawesome-webfont.svg","hash":"ba13657479b46daecb6336bfe376f84cef3ae58b","modified":1473416668000},{"_id":"public/2016/12/28/2016年终总结/index.html","hash":"7419134162c368646576f940226f6a0be74b1e6b","modified":1487904613051},{"_id":"public/2016/09/09/我的mac工具集/index.html","hash":"2cebb33a13ab6d095b7bf8bbe1499168c4a99dbb","modified":1487904613065},{"_id":"public/2016/09/28/generator-zyy-h5/index.html","hash":"2bb98c6778e13e16c058a2f8136eaf216b6c07b6","modified":1487904613066},{"_id":"public/2016/09/12/dns解析二级域名到github-pages/index.html","hash":"bff20e7e6fa78cd97974b415c5877a3308a41290","modified":1487904613066},{"_id":"public/archives/2016/09/index.html","hash":"cc946139029facaa2f66edbf408b8c8e49b0a0f6","modified":1487904613066},{"_id":"public/archives/2016/11/index.html","hash":"9f325233f96c9c6e07d776185954a5076775a3c4","modified":1487904613066},{"_id":"public/archives/2016/12/index.html","hash":"c10be88d075240ac219555b1288d811124ca9b3b","modified":1487904613066},{"_id":"public/archives/2017/index.html","hash":"071db4432670265ae6719caedb84743d521b5479","modified":1487904613066},{"_id":"public/tags/个人/index.html","hash":"57f168efb7f4700876536d0c8c9a7ecb4bdbbff7","modified":1487904613066},{"_id":"public/tags/chrome/index.html","hash":"476b5ded6a48355064e1736597df0de3d3e82a32","modified":1487904613066},{"_id":"public/tags/复制粘贴专用/index.html","hash":"2727e09c5f9fe0ca4bdff8d1a319eb7709f57cd9","modified":1487904613066},{"_id":"public/tags/生活/index.html","hash":"f3fcdcb3038033e463d31f7ff511ee79b11d50ff","modified":1487904613066},{"_id":"public/tags/网络/index.html","hash":"16381d6ed9fa6bf3736abf47761fd4454360cc1c","modified":1487904613066},{"_id":"public/archives/2017/02/index.html","hash":"f4ca78ad83d273307e2ec445c75b6be8347d082d","modified":1487904613066},{"_id":"public/tags/mac/index.html","hash":"8f11c398050ae50591da75bbefee417b6f2f2ddb","modified":1487904613066},{"_id":"public/tags/github/index.html","hash":"1524871c0bdeff63c7f2d447401935bd168b4329","modified":1487904613066},{"_id":"public/tags/丁香园/index.html","hash":"ddce751957dc97b21d4924064b0c08e77369e7cf","modified":1487904613066},{"_id":"public/tags/性能/index.html","hash":"1a96660ccafba4523461e443c5f4a3c545fc3526","modified":1487904613067},{"_id":"public/2017/02/09/h5-summary/index.html","hash":"e20d1eab3389b98bea2a6190c5f3812bdd6924ff","modified":1487904613067},{"_id":"public/2016/11/02/chrome-tab-search/index.html","hash":"8a586b293b923e7da17cabf4c34a62f4b15a36e3","modified":1487904613067},{"_id":"public/2016/09/09/丁香园工作中一些常用的代码/index.html","hash":"6cf002df4fbef843aeb35dc541dfc0d731d1f281","modified":1487904613067},{"_id":"public/2016/09/09/整理与一次团队分享/index.html","hash":"3ef1f431bf2424464cb011f848d731998829665d","modified":1487904613067},{"_id":"public/index.html","hash":"f7eb74b093e2ff6004b26d353be2b7209ecd58a9","modified":1487904613067},{"_id":"public/archives/index.html","hash":"1d94826dbeb84fb8ae10506b33d63de6156addac","modified":1487904613067},{"_id":"public/archives/2016/index.html","hash":"bbdc1e80c87164e55c05fc1285cdf801dc9cd7d1","modified":1487904613068},{"_id":"public/tags/前端/index.html","hash":"c6038e73fa9f5caa90665ea81754e8dd11ec71f3","modified":1487904613068},{"_id":"public/2016/12/28/一只蛋糕皮皮猫/index.html","hash":"cb770a996363dbd0090df6acfb922574afc497c2","modified":1487904613071},{"_id":"public/tags/猫/index.html","hash":"a38529ccc83c1d243f0943caf18b2a70e6691b89","modified":1487904613071},{"_id":"public/fancybox/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1487904613095},{"_id":"public/fancybox/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1487904613095},{"_id":"public/fancybox/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1487904613095},{"_id":"public/fancybox/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1487904613095},{"_id":"public/fancybox/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1487904613095},{"_id":"public/fancybox/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1487904613095},{"_id":"public/img/coderwall.png","hash":"fa84676c4d654e040e51fd34bfcd9f9348cd5331","modified":1487904613095},{"_id":"public/img/delicious.png","hash":"9553a5f5189e4a953e04a58a49dbfa74b86b73dd","modified":1487904613095},{"_id":"public/img/douban.png","hash":"e2ade003ffadd5826ee66ec23901c2d6e8607e4e","modified":1487904613095},{"_id":"public/img/facebook.png","hash":"d19ad7a0903daf26817afd8753cd97e0cc714f54","modified":1487904613096},{"_id":"public/img/github.png","hash":"b84d03b32fa388dcbf149296ebd16dce6223d48d","modified":1487904613096},{"_id":"public/img/cool.jpg","hash":"360f740961157e56e8d122f7ff21c1ce8f38e1f1","modified":1487904613096},{"_id":"public/img/linkedin.png","hash":"e203138fb53c257cb214e97f4e30091b9c568d2c","modified":1487904613096},{"_id":"public/img/google.png","hash":"61a21fec7346fa3400b747ac9a201cf3d5bc013d","modified":1487904613097},{"_id":"public/img/img-err.png","hash":"23a63ea26eb3c1d5e677d9883cf36cc1a1a1228b","modified":1487904613097},{"_id":"public/img/img-loading.png","hash":"a9cd5cd11866824f31e3d1c5e23badfeb3f73031","modified":1487904613098},{"_id":"public/img/pinboard.png","hash":"0891fbb6d092fa012bf936019923383d84c6aeb0","modified":1487904613098},{"_id":"public/img/mail.png","hash":"fca8199cc77fdbd700a45bf56d091c82f4a67fe7","modified":1487904613098},{"_id":"public/img/pinterest.png","hash":"9c72917f8779c083157c6ce7a5d62ed4874f0630","modified":1487904613098},{"_id":"public/img/rss.png","hash":"430fd47340e75214c081abd05cd7410cf7c71b86","modified":1487904613098},{"_id":"public/img/scrollbar_arrow.png","hash":"d64a33c4ddfbdb89deeb6f4e3d36eb84dc4777c0","modified":1487904613099},{"_id":"public/img/stackoverflow.png","hash":"da5dfe9043055c95e479d49c78cd3b020de608f2","modified":1487904613099},{"_id":"public/img/twitter.png","hash":"14dbb8e62d056525253bc0de13acd1723da7a934","modified":1487904613099},{"_id":"public/img/weibo.png","hash":"280dae3fd38086158b4a1b57edb94c06b1a5014b","modified":1487904613099},{"_id":"public/img/zhihu.png","hash":"a6d6ef65e9ac82e613a311810391ebb90d9b1c1d","modified":1487904613099},{"_id":"public/css/fonts/fontawesome-webfont.eot","hash":"3ce87b82c7a4ffdf65e96765c2ffda10b1a283c6","modified":1487904613099},{"_id":"public/css/fonts/fontawesome-webfont.svgz","hash":"4bfdd33ed702e32ae01399fcc2652377f78e7626","modified":1487904613099},{"_id":"public/css/fonts/fontawesome-webfont.ttf","hash":"1480b8101b02da9bc4c60341b5e185e63e585064","modified":1487904613099},{"_id":"public/css/fonts/fontawesome-webfont.woff","hash":"cafc4ac5761a0a252d33dce4ea3952cf9a38d832","modified":1487904613099},{"_id":"public/fancybox/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1487904613099},{"_id":"public/css/fonts/fontawesome-webfont.svg","hash":"ba13657479b46daecb6336bfe376f84cef3ae58b","modified":1487904614180},{"_id":"public/fancybox/jquery.fancybox.css","hash":"b6aa6692c2e5f8bd74d96827b78570f0c5683c20","modified":1487904614188},{"_id":"public/js/instagram.js","hash":"f19adbcc0dac33536bc6660598059048ec901882","modified":1487904614188},{"_id":"public/js/main.js","hash":"36032d2ca0c24384ccd588c18fb67e753eab4f55","modified":1487904614188},{"_id":"public/js/jquery.lazyload.js","hash":"0654e5d7429bdd0665c94182ef17514c831586eb","modified":1487904614188},{"_id":"public/js/mobile.js","hash":"b68cc01d24e80973c48205f551da87f3f3427644","modified":1487904614188},{"_id":"public/js/pc.js","hash":"fdbc039fc9ffa70815b5fc4daaa587ae29693f10","modified":1487904614189},{"_id":"public/fancybox/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1487904614189},{"_id":"public/fancybox/helpers/jquery.fancybox-buttons.js","hash":"dc3645529a4bf72983a39fa34c1eb9146e082019","modified":1487904614189},{"_id":"public/fancybox/helpers/jquery.fancybox-media.js","hash":"294420f9ff20f4e3584d212b0c262a00a96ecdb3","modified":1487904614189},{"_id":"public/fancybox/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1487904614189},{"_id":"public/fancybox/helpers/jquery.fancybox-thumbs.js","hash":"47da1ae5401c24b5c17cc18e2730780f5c1a7a0c","modified":1487904614189},{"_id":"public/css/style.css","hash":"375af6afa34152509a8d18e679c19d2bd2090246","modified":1487904614189},{"_id":"public/fancybox/jquery.fancybox.pack.js","hash":"9e0d51ca1dbe66f6c0c7aefd552dc8122e694a6e","modified":1487904614189},{"_id":"public/fancybox/jquery.fancybox.js","hash":"a82597493d75ea989ca586e09173cff332efe41e","modified":1487904614189}],"Category":[],"Data":[],"Page":[],"Post":[{"title":"Chrome的Tab键搜索功能探索","date":"2016-11-02T08:31:33.000Z","_content":"一直在使用chrome的地址栏tab快速搜索功能，一直不知道其实现方式，在一个闲的蛋疼的日子，探索了一下其中的奥秘，并给自己博客加入了tab搜索功能。\n<!--more-->\n## 这个功能是什么？\n\n我们打开浏览器，然后再地址栏输入www.baidu.com，如下图：\n\n![步骤1](http://oddd7fcxh.bkt.clouddn.com/chrome-tab-search/tab-1.jpg)\n\n然后按下tab键，并输入`百度sb`：\n\n![步骤2](http://oddd7fcxh.bkt.clouddn.com/chrome-tab-search/tab-2.jpg)\n\n之后敲下回车就出现了我们想要的结果：\n\n![步骤3](http://oddd7fcxh.bkt.clouddn.com/chrome-tab-search/tab-3.jpg)\n\n是不是很简单呢？其实这是使用了chrome自身的搜索引擎，可以在chrome设置里面添加你自己想要的快捷tab搜索，但是这只对你自己一个人的浏览器生效。\n\n![步骤4](http://oddd7fcxh.bkt.clouddn.com/chrome-tab-search/tab-4.jpg)\n\n** 可是百度是如何做到帮我的浏览器自动添加快捷搜索的呢？**\n\n探索后发现百度是在网页的head里引入了一个type为 `application/opensearchdescription+xml` 的xml文件，如下图：\n\n![步骤5](http://oddd7fcxh.bkt.clouddn.com/chrome-tab-search/tab-5.jpg)\n\n这个xml文件很简单，里面就几行代码：\n\n![步骤6](http://oddd7fcxh.bkt.clouddn.com/chrome-tab-search/tab-6.jpg)\n\n这里面的 `ShortName` 就是按下tab后所要显示的名字，这里面有个`{searchTerms}` 这个便是搜索关键字变量，可按照情况将url标签的链接换成你网站的搜索链接。\n\n在这儿附上我的xml代码:\n\n```html\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<OpenSearchDescription xmlns=\"http://a9.com/-/spec/opensearch/1.1/\">\n  <InputEncoding>utf-8</InputEncoding>\n  <ShortName>赞鱼鱼的博客</ShortName>\n  <Description>做一个最gay的程序猿</Description>\n  <Image height=\"16\" width=\"16\" type=\"image/x-icon\">http://7xljz9.com1.z0.glb.clouddn.com/favicon.ico</Image>\n  <Url type=\"text/html\" template=\"https://www.google.com/webhp#q=site%3Ablog.zanyuyu.com%20{searchTerms}\"/>\n</OpenSearchDescription>\n\n```\n\n*因为hexo不支持站内搜索，所以我将tab搜索指引到了谷歌搜索*\n*知乎，淘宝，微博，A站，B站等N多网站都支持chrome tab搜索*","source":"_posts/chrome-tab-search.md","raw":"---\ntitle: Chrome的Tab键搜索功能探索\ndate: 2016-11-02 16:31:33\ntags:\n    - 前端\n    - 个人\n    - chrome\n---\n一直在使用chrome的地址栏tab快速搜索功能，一直不知道其实现方式，在一个闲的蛋疼的日子，探索了一下其中的奥秘，并给自己博客加入了tab搜索功能。\n<!--more-->\n## 这个功能是什么？\n\n我们打开浏览器，然后再地址栏输入www.baidu.com，如下图：\n\n![步骤1](http://oddd7fcxh.bkt.clouddn.com/chrome-tab-search/tab-1.jpg)\n\n然后按下tab键，并输入`百度sb`：\n\n![步骤2](http://oddd7fcxh.bkt.clouddn.com/chrome-tab-search/tab-2.jpg)\n\n之后敲下回车就出现了我们想要的结果：\n\n![步骤3](http://oddd7fcxh.bkt.clouddn.com/chrome-tab-search/tab-3.jpg)\n\n是不是很简单呢？其实这是使用了chrome自身的搜索引擎，可以在chrome设置里面添加你自己想要的快捷tab搜索，但是这只对你自己一个人的浏览器生效。\n\n![步骤4](http://oddd7fcxh.bkt.clouddn.com/chrome-tab-search/tab-4.jpg)\n\n** 可是百度是如何做到帮我的浏览器自动添加快捷搜索的呢？**\n\n探索后发现百度是在网页的head里引入了一个type为 `application/opensearchdescription+xml` 的xml文件，如下图：\n\n![步骤5](http://oddd7fcxh.bkt.clouddn.com/chrome-tab-search/tab-5.jpg)\n\n这个xml文件很简单，里面就几行代码：\n\n![步骤6](http://oddd7fcxh.bkt.clouddn.com/chrome-tab-search/tab-6.jpg)\n\n这里面的 `ShortName` 就是按下tab后所要显示的名字，这里面有个`{searchTerms}` 这个便是搜索关键字变量，可按照情况将url标签的链接换成你网站的搜索链接。\n\n在这儿附上我的xml代码:\n\n```html\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<OpenSearchDescription xmlns=\"http://a9.com/-/spec/opensearch/1.1/\">\n  <InputEncoding>utf-8</InputEncoding>\n  <ShortName>赞鱼鱼的博客</ShortName>\n  <Description>做一个最gay的程序猿</Description>\n  <Image height=\"16\" width=\"16\" type=\"image/x-icon\">http://7xljz9.com1.z0.glb.clouddn.com/favicon.ico</Image>\n  <Url type=\"text/html\" template=\"https://www.google.com/webhp#q=site%3Ablog.zanyuyu.com%20{searchTerms}\"/>\n</OpenSearchDescription>\n\n```\n\n*因为hexo不支持站内搜索，所以我将tab搜索指引到了谷歌搜索*\n*知乎，淘宝，微博，A站，B站等N多网站都支持chrome tab搜索*","slug":"chrome-tab-search","published":1,"updated":"2016-11-02T09:22:37.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizj7zm640000oz3s9mflqyt8","content":"<p>一直在使用chrome的地址栏tab快速搜索功能，一直不知道其实现方式，在一个闲的蛋疼的日子，探索了一下其中的奥秘，并给自己博客加入了tab搜索功能。<br><a id=\"more\"></a></p>\n<h2 id=\"这个功能是什么？\"><a href=\"#这个功能是什么？\" class=\"headerlink\" title=\"这个功能是什么？\"></a>这个功能是什么？</h2><p>我们打开浏览器，然后再地址栏输入www.baidu.com，如下图：</p>\n<p><img src=\"http://oddd7fcxh.bkt.clouddn.com/chrome-tab-search/tab-1.jpg\" alt=\"步骤1\"></p>\n<p>然后按下tab键，并输入<code>百度sb</code>：</p>\n<p><img src=\"http://oddd7fcxh.bkt.clouddn.com/chrome-tab-search/tab-2.jpg\" alt=\"步骤2\"></p>\n<p>之后敲下回车就出现了我们想要的结果：</p>\n<p><img src=\"http://oddd7fcxh.bkt.clouddn.com/chrome-tab-search/tab-3.jpg\" alt=\"步骤3\"></p>\n<p>是不是很简单呢？其实这是使用了chrome自身的搜索引擎，可以在chrome设置里面添加你自己想要的快捷tab搜索，但是这只对你自己一个人的浏览器生效。</p>\n<p><img src=\"http://oddd7fcxh.bkt.clouddn.com/chrome-tab-search/tab-4.jpg\" alt=\"步骤4\"></p>\n<p><strong> 可是百度是如何做到帮我的浏览器自动添加快捷搜索的呢？</strong></p>\n<p>探索后发现百度是在网页的head里引入了一个type为 <code>application/opensearchdescription+xml</code> 的xml文件，如下图：</p>\n<p><img src=\"http://oddd7fcxh.bkt.clouddn.com/chrome-tab-search/tab-5.jpg\" alt=\"步骤5\"></p>\n<p>这个xml文件很简单，里面就几行代码：</p>\n<p><img src=\"http://oddd7fcxh.bkt.clouddn.com/chrome-tab-search/tab-6.jpg\" alt=\"步骤6\"></p>\n<p>这里面的 <code>ShortName</code> 就是按下tab后所要显示的名字，这里面有个<code>{searchTerms}</code> 这个便是搜索关键字变量，可按照情况将url标签的链接换成你网站的搜索链接。</p>\n<p>在这儿附上我的xml代码:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">OpenSearchDescription</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">\"http://a9.com/-/spec/opensearch/1.1/\"</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">InputEncoding</span>&gt;</span>utf-8<span class=\"tag\">&lt;/<span class=\"name\">InputEncoding</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">ShortName</span>&gt;</span>赞鱼鱼的博客<span class=\"tag\">&lt;/<span class=\"name\">ShortName</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Description</span>&gt;</span>做一个最gay的程序猿<span class=\"tag\">&lt;/<span class=\"name\">Description</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Image</span> <span class=\"attr\">height</span>=<span class=\"string\">\"16\"</span> <span class=\"attr\">width</span>=<span class=\"string\">\"16\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"image/x-icon\"</span>&gt;</span>http://7xljz9.com1.z0.glb.clouddn.com/favicon.ico<span class=\"tag\">&lt;/<span class=\"name\">Image</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Url</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text/html\"</span> <span class=\"attr\">template</span>=<span class=\"string\">\"https://www.google.com/webhp#q=site%3Ablog.zanyuyu.com%20&#123;searchTerms&#125;\"</span>/&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">OpenSearchDescription</span>&gt;</span></div></pre></td></tr></table></figure>\n<p><em>因为hexo不支持站内搜索，所以我将tab搜索指引到了谷歌搜索</em><br><em>知乎，淘宝，微博，A站，B站等N多网站都支持chrome tab搜索</em></p>\n","excerpt":"<p>一直在使用chrome的地址栏tab快速搜索功能，一直不知道其实现方式，在一个闲的蛋疼的日子，探索了一下其中的奥秘，并给自己博客加入了tab搜索功能。<br>","more":"</p>\n<h2 id=\"这个功能是什么？\"><a href=\"#这个功能是什么？\" class=\"headerlink\" title=\"这个功能是什么？\"></a>这个功能是什么？</h2><p>我们打开浏览器，然后再地址栏输入www.baidu.com，如下图：</p>\n<p><img src=\"http://oddd7fcxh.bkt.clouddn.com/chrome-tab-search/tab-1.jpg\" alt=\"步骤1\"></p>\n<p>然后按下tab键，并输入<code>百度sb</code>：</p>\n<p><img src=\"http://oddd7fcxh.bkt.clouddn.com/chrome-tab-search/tab-2.jpg\" alt=\"步骤2\"></p>\n<p>之后敲下回车就出现了我们想要的结果：</p>\n<p><img src=\"http://oddd7fcxh.bkt.clouddn.com/chrome-tab-search/tab-3.jpg\" alt=\"步骤3\"></p>\n<p>是不是很简单呢？其实这是使用了chrome自身的搜索引擎，可以在chrome设置里面添加你自己想要的快捷tab搜索，但是这只对你自己一个人的浏览器生效。</p>\n<p><img src=\"http://oddd7fcxh.bkt.clouddn.com/chrome-tab-search/tab-4.jpg\" alt=\"步骤4\"></p>\n<p><strong> 可是百度是如何做到帮我的浏览器自动添加快捷搜索的呢？</strong></p>\n<p>探索后发现百度是在网页的head里引入了一个type为 <code>application/opensearchdescription+xml</code> 的xml文件，如下图：</p>\n<p><img src=\"http://oddd7fcxh.bkt.clouddn.com/chrome-tab-search/tab-5.jpg\" alt=\"步骤5\"></p>\n<p>这个xml文件很简单，里面就几行代码：</p>\n<p><img src=\"http://oddd7fcxh.bkt.clouddn.com/chrome-tab-search/tab-6.jpg\" alt=\"步骤6\"></p>\n<p>这里面的 <code>ShortName</code> 就是按下tab后所要显示的名字，这里面有个<code>{searchTerms}</code> 这个便是搜索关键字变量，可按照情况将url标签的链接换成你网站的搜索链接。</p>\n<p>在这儿附上我的xml代码:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">OpenSearchDescription</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">\"http://a9.com/-/spec/opensearch/1.1/\"</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">InputEncoding</span>&gt;</span>utf-8<span class=\"tag\">&lt;/<span class=\"name\">InputEncoding</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">ShortName</span>&gt;</span>赞鱼鱼的博客<span class=\"tag\">&lt;/<span class=\"name\">ShortName</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Description</span>&gt;</span>做一个最gay的程序猿<span class=\"tag\">&lt;/<span class=\"name\">Description</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Image</span> <span class=\"attr\">height</span>=<span class=\"string\">\"16\"</span> <span class=\"attr\">width</span>=<span class=\"string\">\"16\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"image/x-icon\"</span>&gt;</span>http://7xljz9.com1.z0.glb.clouddn.com/favicon.ico<span class=\"tag\">&lt;/<span class=\"name\">Image</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Url</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text/html\"</span> <span class=\"attr\">template</span>=<span class=\"string\">\"https://www.google.com/webhp#q=site%3Ablog.zanyuyu.com%20&#123;searchTerms&#125;\"</span>/&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">OpenSearchDescription</span>&gt;</span></div></pre></td></tr></table></figure>\n<p><em>因为hexo不支持站内搜索，所以我将tab搜索指引到了谷歌搜索</em><br><em>知乎，淘宝，微博，A站，B站等N多网站都支持chrome tab搜索</em></p>"},{"title":"2016年终总结","date":"2016-12-28T04:28:33.000Z","_content":"\n时间过得超快，2016年转眼间就剩下那么几天，到了年尾了，写下本文以回顾我大四到现在以来独自去往杭州一年载的成长与改变。\n\n<!--more-->\n\n# 开发\n### 大四上学期-云衣间\n    一会儿来写\n\n# 生活\n\n# 总结\n\n# 2017寄望\n","source":"_posts/2016年终总结.md","raw":"---\ntitle: 2016年终总结\ndate: 2016-12-28 12:28:33\ntags:\n    - 前端\n    - 个人\n    - 生活\n---\n\n时间过得超快，2016年转眼间就剩下那么几天，到了年尾了，写下本文以回顾我大四到现在以来独自去往杭州一年载的成长与改变。\n\n<!--more-->\n\n# 开发\n### 大四上学期-云衣间\n    一会儿来写\n\n# 生活\n\n# 总结\n\n# 2017寄望\n","slug":"2016年终总结","published":1,"updated":"2017-02-09T03:05:33.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizj7zm690001oz3sshql7286","content":"<p>时间过得超快，2016年转眼间就剩下那么几天，到了年尾了，写下本文以回顾我大四到现在以来独自去往杭州一年载的成长与改变。</p>\n<a id=\"more\"></a>\n<h1 id=\"开发\"><a href=\"#开发\" class=\"headerlink\" title=\"开发\"></a>开发</h1><h3 id=\"大四上学期-云衣间\"><a href=\"#大四上学期-云衣间\" class=\"headerlink\" title=\"大四上学期-云衣间\"></a>大四上学期-云衣间</h3><pre><code>一会儿来写\n</code></pre><h1 id=\"生活\"><a href=\"#生活\" class=\"headerlink\" title=\"生活\"></a>生活</h1><h1 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h1><h1 id=\"2017寄望\"><a href=\"#2017寄望\" class=\"headerlink\" title=\"2017寄望\"></a>2017寄望</h1>","excerpt":"<p>时间过得超快，2016年转眼间就剩下那么几天，到了年尾了，写下本文以回顾我大四到现在以来独自去往杭州一年载的成长与改变。</p>","more":"<h1 id=\"开发\"><a href=\"#开发\" class=\"headerlink\" title=\"开发\"></a>开发</h1><h3 id=\"大四上学期-云衣间\"><a href=\"#大四上学期-云衣间\" class=\"headerlink\" title=\"大四上学期-云衣间\"></a>大四上学期-云衣间</h3><pre><code>一会儿来写\n</code></pre><h1 id=\"生活\"><a href=\"#生活\" class=\"headerlink\" title=\"生活\"></a>生活</h1><h1 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h1><h1 id=\"2017寄望\"><a href=\"#2017寄望\" class=\"headerlink\" title=\"2017寄望\"></a>2017寄望</h1>"},{"title":"赞鱼鱼的H5脚手架","date":"2016-09-28T09:59:21.000Z","_content":"\n在一个风雨交加的午后，基于工作干完后，闲的蛋疼，想着日后H5必定很火，会有很多H5的项目要做，为了方便今后的开发，告别复制粘贴，特此用yeoman写了一个由gulp和webpack打包的H5脚手架,[H5脚手架github地址](https://github.com/zanseven007/generator-zyy-h5)。\n\n<!--more-->\n\n本想使用gulp-tinypng打包压缩一下图片，无奈速度太慢以及其他一些bug只好放弃，还是老实的去[tinypng官网](https://tinypng.com)压缩吧。\n\n# 基于Webpack和Gulp的H5小项目生成器\n\n> - H5 日益普及，为了方便日后开发的方便，特此写一个模板生成器为日后使用\n> - 在HTML中支持使用 @@include 引入一个 .inc 文件\n> - 在CSS文件中可以使用 sass 进行开发\n> - 在JS当中利用webpack合并了公共模块，可以有任意个入口文件\n> - 开发时可自动启动 Chrome 浏览器，并且打开本地3000端口来调试\n\n## 使用yoeman创建模板\n安装 yo\n\n```\nnpm install -g yo\n```\n安装H5模板生成器\n\n```\nnpm install -g generator-zyy-h5\n```\n新建一个项目目录并进入\n\n```\nmkdir my-new-h5 && cd $_\n```\n使用H5模板\n\n```\nyo zyy-h5\n```\n\n## 使用模板\n开发\n\n```\ngulp dev\n```\n发布(会压缩css和js，并增加md5)\n```\ngulp dist\n```\n\n## ISSUE\n\n**node-sass安装失败解决办法**：因为在安装`node-sass`的时候它把github Releases里的文件都托管在`s3.amazonaws.com`上面，而这个网址在国内总是网络不稳定，所以我们通过淘宝镜像去下载这个文件。\n\n直接运行下面的命令即可\n\n```\nSASS_BINARY_SITE=https://npm.taobao.org/mirrors/node-sass/ npm install node-sass\n```\n\n## License\nMIT © [zanseven007](https://github.com/zanseven007)\n","source":"_posts/generator-zyy-h5.md","raw":"---\ntitle: 赞鱼鱼的H5脚手架\ndate: 2016-09-28 17:59:21\ntags:     \n    - 前端\n    - 个人\n    - 复制粘贴专用\n---\n\n在一个风雨交加的午后，基于工作干完后，闲的蛋疼，想着日后H5必定很火，会有很多H5的项目要做，为了方便今后的开发，告别复制粘贴，特此用yeoman写了一个由gulp和webpack打包的H5脚手架,[H5脚手架github地址](https://github.com/zanseven007/generator-zyy-h5)。\n\n<!--more-->\n\n本想使用gulp-tinypng打包压缩一下图片，无奈速度太慢以及其他一些bug只好放弃，还是老实的去[tinypng官网](https://tinypng.com)压缩吧。\n\n# 基于Webpack和Gulp的H5小项目生成器\n\n> - H5 日益普及，为了方便日后开发的方便，特此写一个模板生成器为日后使用\n> - 在HTML中支持使用 @@include 引入一个 .inc 文件\n> - 在CSS文件中可以使用 sass 进行开发\n> - 在JS当中利用webpack合并了公共模块，可以有任意个入口文件\n> - 开发时可自动启动 Chrome 浏览器，并且打开本地3000端口来调试\n\n## 使用yoeman创建模板\n安装 yo\n\n```\nnpm install -g yo\n```\n安装H5模板生成器\n\n```\nnpm install -g generator-zyy-h5\n```\n新建一个项目目录并进入\n\n```\nmkdir my-new-h5 && cd $_\n```\n使用H5模板\n\n```\nyo zyy-h5\n```\n\n## 使用模板\n开发\n\n```\ngulp dev\n```\n发布(会压缩css和js，并增加md5)\n```\ngulp dist\n```\n\n## ISSUE\n\n**node-sass安装失败解决办法**：因为在安装`node-sass`的时候它把github Releases里的文件都托管在`s3.amazonaws.com`上面，而这个网址在国内总是网络不稳定，所以我们通过淘宝镜像去下载这个文件。\n\n直接运行下面的命令即可\n\n```\nSASS_BINARY_SITE=https://npm.taobao.org/mirrors/node-sass/ npm install node-sass\n```\n\n## License\nMIT © [zanseven007](https://github.com/zanseven007)\n","slug":"generator-zyy-h5","published":1,"updated":"2016-11-02T08:33:04.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizj7zm6g0003oz3scbcy3hhf","content":"<p>在一个风雨交加的午后，基于工作干完后，闲的蛋疼，想着日后H5必定很火，会有很多H5的项目要做，为了方便今后的开发，告别复制粘贴，特此用yeoman写了一个由gulp和webpack打包的H5脚手架,<a href=\"https://github.com/zanseven007/generator-zyy-h5\" target=\"_blank\" rel=\"external\">H5脚手架github地址</a>。</p>\n<a id=\"more\"></a>\n<p>本想使用gulp-tinypng打包压缩一下图片，无奈速度太慢以及其他一些bug只好放弃，还是老实的去<a href=\"https://tinypng.com\" target=\"_blank\" rel=\"external\">tinypng官网</a>压缩吧。</p>\n<h1 id=\"基于Webpack和Gulp的H5小项目生成器\"><a href=\"#基于Webpack和Gulp的H5小项目生成器\" class=\"headerlink\" title=\"基于Webpack和Gulp的H5小项目生成器\"></a>基于Webpack和Gulp的H5小项目生成器</h1><blockquote>\n<ul>\n<li>H5 日益普及，为了方便日后开发的方便，特此写一个模板生成器为日后使用</li>\n<li>在HTML中支持使用 @@include 引入一个 .inc 文件</li>\n<li>在CSS文件中可以使用 sass 进行开发</li>\n<li>在JS当中利用webpack合并了公共模块，可以有任意个入口文件</li>\n<li>开发时可自动启动 Chrome 浏览器，并且打开本地3000端口来调试</li>\n</ul>\n</blockquote>\n<h2 id=\"使用yoeman创建模板\"><a href=\"#使用yoeman创建模板\" class=\"headerlink\" title=\"使用yoeman创建模板\"></a>使用yoeman创建模板</h2><p>安装 yo</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">npm install -g yo</div></pre></td></tr></table></figure>\n<p>安装H5模板生成器</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">npm install -g generator-zyy-h5</div></pre></td></tr></table></figure>\n<p>新建一个项目目录并进入</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">mkdir my-new-h5 &amp;&amp; cd $_</div></pre></td></tr></table></figure>\n<p>使用H5模板</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">yo zyy-h5</div></pre></td></tr></table></figure>\n<h2 id=\"使用模板\"><a href=\"#使用模板\" class=\"headerlink\" title=\"使用模板\"></a>使用模板</h2><p>开发</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">gulp dev</div></pre></td></tr></table></figure>\n<p>发布(会压缩css和js，并增加md5)<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">gulp dist</div></pre></td></tr></table></figure></p>\n<h2 id=\"ISSUE\"><a href=\"#ISSUE\" class=\"headerlink\" title=\"ISSUE\"></a>ISSUE</h2><p><strong>node-sass安装失败解决办法</strong>：因为在安装<code>node-sass</code>的时候它把github Releases里的文件都托管在<code>s3.amazonaws.com</code>上面，而这个网址在国内总是网络不稳定，所以我们通过淘宝镜像去下载这个文件。</p>\n<p>直接运行下面的命令即可</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">SASS_BINARY_SITE=https://npm.taobao.org/mirrors/node-sass/ npm install node-sass</div></pre></td></tr></table></figure>\n<h2 id=\"License\"><a href=\"#License\" class=\"headerlink\" title=\"License\"></a>License</h2><p>MIT © <a href=\"https://github.com/zanseven007\" target=\"_blank\" rel=\"external\">zanseven007</a></p>\n","excerpt":"<p>在一个风雨交加的午后，基于工作干完后，闲的蛋疼，想着日后H5必定很火，会有很多H5的项目要做，为了方便今后的开发，告别复制粘贴，特此用yeoman写了一个由gulp和webpack打包的H5脚手架,<a href=\"https://github.com/zanseven007/generator-zyy-h5\">H5脚手架github地址</a>。</p>","more":"<p>本想使用gulp-tinypng打包压缩一下图片，无奈速度太慢以及其他一些bug只好放弃，还是老实的去<a href=\"https://tinypng.com\">tinypng官网</a>压缩吧。</p>\n<h1 id=\"基于Webpack和Gulp的H5小项目生成器\"><a href=\"#基于Webpack和Gulp的H5小项目生成器\" class=\"headerlink\" title=\"基于Webpack和Gulp的H5小项目生成器\"></a>基于Webpack和Gulp的H5小项目生成器</h1><blockquote>\n<ul>\n<li>H5 日益普及，为了方便日后开发的方便，特此写一个模板生成器为日后使用</li>\n<li>在HTML中支持使用 @@include 引入一个 .inc 文件</li>\n<li>在CSS文件中可以使用 sass 进行开发</li>\n<li>在JS当中利用webpack合并了公共模块，可以有任意个入口文件</li>\n<li>开发时可自动启动 Chrome 浏览器，并且打开本地3000端口来调试</li>\n</ul>\n</blockquote>\n<h2 id=\"使用yoeman创建模板\"><a href=\"#使用yoeman创建模板\" class=\"headerlink\" title=\"使用yoeman创建模板\"></a>使用yoeman创建模板</h2><p>安装 yo</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">npm install -g yo</div></pre></td></tr></table></figure>\n<p>安装H5模板生成器</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">npm install -g generator-zyy-h5</div></pre></td></tr></table></figure>\n<p>新建一个项目目录并进入</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">mkdir my-new-h5 &amp;&amp; cd $_</div></pre></td></tr></table></figure>\n<p>使用H5模板</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">yo zyy-h5</div></pre></td></tr></table></figure>\n<h2 id=\"使用模板\"><a href=\"#使用模板\" class=\"headerlink\" title=\"使用模板\"></a>使用模板</h2><p>开发</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">gulp dev</div></pre></td></tr></table></figure>\n<p>发布(会压缩css和js，并增加md5)<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">gulp dist</div></pre></td></tr></table></figure></p>\n<h2 id=\"ISSUE\"><a href=\"#ISSUE\" class=\"headerlink\" title=\"ISSUE\"></a>ISSUE</h2><p><strong>node-sass安装失败解决办法</strong>：因为在安装<code>node-sass</code>的时候它把github Releases里的文件都托管在<code>s3.amazonaws.com</code>上面，而这个网址在国内总是网络不稳定，所以我们通过淘宝镜像去下载这个文件。</p>\n<p>直接运行下面的命令即可</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">SASS_BINARY_SITE=https://npm.taobao.org/mirrors/node-sass/ npm install node-sass</div></pre></td></tr></table></figure>\n<h2 id=\"License\"><a href=\"#License\" class=\"headerlink\" title=\"License\"></a>License</h2><p>MIT © <a href=\"https://github.com/zanseven007\">zanseven007</a></p>"},{"title":"dns解析二级域名到github pages","date":"2016-09-12T02:13:17.000Z","_content":"\n今天把原先放在github pages上的简历网站，博客网站都转到了自己的域名www.zanyuyu.com的二级域名下（简历：[赞鱼鱼的简历](http://resume.zanyuyu.com)和博客：[赞鱼鱼的填坑生活](http://blog.zanyuyu.com)）, 趁着现在工作没任务，把实现过程写下来。\n\n<!--more-->\n\n### 配置CNAME\n\n如果要将github pages 提供的默认域名解析到自己的域名，就需要在github 仓库下新建一个CANME文件如下图所示：\n\n![CNAME](http://oddd7fcxh.bkt.clouddn.com/CNAME.png)\n\n之后在CNAME文件中填写你自己的域名:\n\n![CANME-content](http://oddd7fcxh.bkt.clouddn.com/CNAME-content.png)\n\n最后只需要去你使用的DNS解析网站添加一条记录值即可：\n\n![dsn-setting](http://oddd7fcxh.bkt.clouddn.com/dns-setting.png)\n*注意的是记录类型需要选择为CNAME*\n\n之后就需要稍等10分钟左右就可以使用[blog.zanyuyu.com](http://blog.zanyuyu.com) 来访问 原来的zanseven007.github.io/blog-page了。","source":"_posts/dns解析二级域名到github-pages.md","raw":"---\ntitle: dns解析二级域名到github pages\ndate: 2016-09-12 10:13:17\ntags:\n    - 前端\n    - github\n    - 网络\n---\n\n今天把原先放在github pages上的简历网站，博客网站都转到了自己的域名www.zanyuyu.com的二级域名下（简历：[赞鱼鱼的简历](http://resume.zanyuyu.com)和博客：[赞鱼鱼的填坑生活](http://blog.zanyuyu.com)）, 趁着现在工作没任务，把实现过程写下来。\n\n<!--more-->\n\n### 配置CNAME\n\n如果要将github pages 提供的默认域名解析到自己的域名，就需要在github 仓库下新建一个CANME文件如下图所示：\n\n![CNAME](http://oddd7fcxh.bkt.clouddn.com/CNAME.png)\n\n之后在CNAME文件中填写你自己的域名:\n\n![CANME-content](http://oddd7fcxh.bkt.clouddn.com/CNAME-content.png)\n\n最后只需要去你使用的DNS解析网站添加一条记录值即可：\n\n![dsn-setting](http://oddd7fcxh.bkt.clouddn.com/dns-setting.png)\n*注意的是记录类型需要选择为CNAME*\n\n之后就需要稍等10分钟左右就可以使用[blog.zanyuyu.com](http://blog.zanyuyu.com) 来访问 原来的zanseven007.github.io/blog-page了。","slug":"dns解析二级域名到github-pages","published":1,"updated":"2016-09-12T02:54:18.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizj7zm6h0004oz3spdlcu0y3","content":"<p>今天把原先放在github pages上的简历网站，博客网站都转到了自己的域名www.zanyuyu.com的二级域名下（简历：<a href=\"http://resume.zanyuyu.com\" target=\"_blank\" rel=\"external\">赞鱼鱼的简历</a>和博客：<a href=\"http://blog.zanyuyu.com\" target=\"_blank\" rel=\"external\">赞鱼鱼的填坑生活</a>）, 趁着现在工作没任务，把实现过程写下来。</p>\n<a id=\"more\"></a>\n<h3 id=\"配置CNAME\"><a href=\"#配置CNAME\" class=\"headerlink\" title=\"配置CNAME\"></a>配置CNAME</h3><p>如果要将github pages 提供的默认域名解析到自己的域名，就需要在github 仓库下新建一个CANME文件如下图所示：</p>\n<p><img src=\"http://oddd7fcxh.bkt.clouddn.com/CNAME.png\" alt=\"CNAME\"></p>\n<p>之后在CNAME文件中填写你自己的域名:</p>\n<p><img src=\"http://oddd7fcxh.bkt.clouddn.com/CNAME-content.png\" alt=\"CANME-content\"></p>\n<p>最后只需要去你使用的DNS解析网站添加一条记录值即可：</p>\n<p><img src=\"http://oddd7fcxh.bkt.clouddn.com/dns-setting.png\" alt=\"dsn-setting\"><br><em>注意的是记录类型需要选择为CNAME</em></p>\n<p>之后就需要稍等10分钟左右就可以使用<a href=\"http://blog.zanyuyu.com\" target=\"_blank\" rel=\"external\">blog.zanyuyu.com</a> 来访问 原来的zanseven007.github.io/blog-page了。</p>\n","excerpt":"<p>今天把原先放在github pages上的简历网站，博客网站都转到了自己的域名www.zanyuyu.com的二级域名下（简历：<a href=\"http://resume.zanyuyu.com\">赞鱼鱼的简历</a>和博客：<a href=\"http://blog.zanyuyu.com\">赞鱼鱼的填坑生活</a>）, 趁着现在工作没任务，把实现过程写下来。</p>","more":"<h3 id=\"配置CNAME\"><a href=\"#配置CNAME\" class=\"headerlink\" title=\"配置CNAME\"></a>配置CNAME</h3><p>如果要将github pages 提供的默认域名解析到自己的域名，就需要在github 仓库下新建一个CANME文件如下图所示：</p>\n<p><img src=\"http://oddd7fcxh.bkt.clouddn.com/CNAME.png\" alt=\"CNAME\"></p>\n<p>之后在CNAME文件中填写你自己的域名:</p>\n<p><img src=\"http://oddd7fcxh.bkt.clouddn.com/CNAME-content.png\" alt=\"CANME-content\"></p>\n<p>最后只需要去你使用的DNS解析网站添加一条记录值即可：</p>\n<p><img src=\"http://oddd7fcxh.bkt.clouddn.com/dns-setting.png\" alt=\"dsn-setting\"><br><em>注意的是记录类型需要选择为CNAME</em></p>\n<p>之后就需要稍等10分钟左右就可以使用<a href=\"http://blog.zanyuyu.com\">blog.zanyuyu.com</a> 来访问 原来的zanseven007.github.io/blog-page了。</p>"},{"title":"一只蛋糕皮皮猫","date":"2016-12-28T04:28:33.000Z","_content":"\n一个猫瘾患者和一只人瘾患猫的故事。\n\n<!--more-->\n\n## 问答环节\n\n### 问：你是谁？\n我是一只美短加白小奶喵，我的大名叫做蛋糕，小名叫皮皮，英文名叫 Snow（Jon Snow）\n\n### 问：男 or 女\n\n母\n\n### 问：家世如何？\n\n我有一个妹妹--酸奶 在铲屎官 [DIYgod](http://www.weibo.com/anotherhome) 那儿生活着，她这周末会来看我\n\n### 问：你的爱好呢？\n\n我的爱好是睡觉，在暖和的地方一直睡。\n\n## 爆照环节\n\n### 先放上人生目标\n\n![戒猫图](https://github.com/zanseven007/blog/tree/master/public/img/cat/cat0.jpeg)\n\n### 50天\n\n在回家的出租车上忍不住从好奇心，从包里钻了出来，四处张望，一副好奇脸----我在哪儿？我要去哪儿？我是谁？\n![50天出租车上](https://github.com/zanseven007/blog/tree/master/public/img/cat/cat1.jpeg)\n\n----\n\n到家后可能累了直接就睡了\n![到家就睡了](https://github.com/zanseven007/blog/tree/master/public/img/cat/cat1.jpeg)\n\n----\n\n睡着睡着又换了一个更温暖的地方接着睡--裤裆,仿佛一只顶裆猫\n![到家就睡了](https://github.com/zanseven007/blog/tree/master/public/img/cat/cat3.jpeg)\n\n*未完待续...*\n","source":"_posts/一只蛋糕皮皮猫.md","raw":"---\ntitle: 一只蛋糕皮皮猫\ndate: 2016-12-28 12:28:33\ntags:\n    - 猫\n    - 个人\n    - 生活\n---\n\n一个猫瘾患者和一只人瘾患猫的故事。\n\n<!--more-->\n\n## 问答环节\n\n### 问：你是谁？\n我是一只美短加白小奶喵，我的大名叫做蛋糕，小名叫皮皮，英文名叫 Snow（Jon Snow）\n\n### 问：男 or 女\n\n母\n\n### 问：家世如何？\n\n我有一个妹妹--酸奶 在铲屎官 [DIYgod](http://www.weibo.com/anotherhome) 那儿生活着，她这周末会来看我\n\n### 问：你的爱好呢？\n\n我的爱好是睡觉，在暖和的地方一直睡。\n\n## 爆照环节\n\n### 先放上人生目标\n\n![戒猫图](https://github.com/zanseven007/blog/tree/master/public/img/cat/cat0.jpeg)\n\n### 50天\n\n在回家的出租车上忍不住从好奇心，从包里钻了出来，四处张望，一副好奇脸----我在哪儿？我要去哪儿？我是谁？\n![50天出租车上](https://github.com/zanseven007/blog/tree/master/public/img/cat/cat1.jpeg)\n\n----\n\n到家后可能累了直接就睡了\n![到家就睡了](https://github.com/zanseven007/blog/tree/master/public/img/cat/cat1.jpeg)\n\n----\n\n睡着睡着又换了一个更温暖的地方接着睡--裤裆,仿佛一只顶裆猫\n![到家就睡了](https://github.com/zanseven007/blog/tree/master/public/img/cat/cat3.jpeg)\n\n*未完待续...*\n","slug":"一只蛋糕皮皮猫","published":1,"updated":"2017-02-24T02:49:54.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizj7zm6l0005oz3sb2woldcw","content":"<p>一个猫瘾患者和一只人瘾患猫的故事。</p>\n<a id=\"more\"></a>\n<h2 id=\"问答环节\"><a href=\"#问答环节\" class=\"headerlink\" title=\"问答环节\"></a>问答环节</h2><h3 id=\"问：你是谁？\"><a href=\"#问：你是谁？\" class=\"headerlink\" title=\"问：你是谁？\"></a>问：你是谁？</h3><p>我是一只美短加白小奶喵，我的大名叫做蛋糕，小名叫皮皮，英文名叫 Snow（Jon Snow）</p>\n<h3 id=\"问：男-or-女\"><a href=\"#问：男-or-女\" class=\"headerlink\" title=\"问：男 or 女\"></a>问：男 or 女</h3><p>母</p>\n<h3 id=\"问：家世如何？\"><a href=\"#问：家世如何？\" class=\"headerlink\" title=\"问：家世如何？\"></a>问：家世如何？</h3><p>我有一个妹妹–酸奶 在铲屎官 <a href=\"http://www.weibo.com/anotherhome\" target=\"_blank\" rel=\"external\">DIYgod</a> 那儿生活着，她这周末会来看我</p>\n<h3 id=\"问：你的爱好呢？\"><a href=\"#问：你的爱好呢？\" class=\"headerlink\" title=\"问：你的爱好呢？\"></a>问：你的爱好呢？</h3><p>我的爱好是睡觉，在暖和的地方一直睡。</p>\n<h2 id=\"爆照环节\"><a href=\"#爆照环节\" class=\"headerlink\" title=\"爆照环节\"></a>爆照环节</h2><h3 id=\"先放上人生目标\"><a href=\"#先放上人生目标\" class=\"headerlink\" title=\"先放上人生目标\"></a>先放上人生目标</h3><p><img src=\"https://github.com/zanseven007/blog/tree/master/public/img/cat/cat0.jpeg\" alt=\"戒猫图\"></p>\n<h3 id=\"50天\"><a href=\"#50天\" class=\"headerlink\" title=\"50天\"></a>50天</h3><p>在回家的出租车上忍不住从好奇心，从包里钻了出来，四处张望，一副好奇脸—-我在哪儿？我要去哪儿？我是谁？<br><img src=\"https://github.com/zanseven007/blog/tree/master/public/img/cat/cat1.jpeg\" alt=\"50天出租车上\"></p>\n<hr>\n<p>到家后可能累了直接就睡了<br><img src=\"https://github.com/zanseven007/blog/tree/master/public/img/cat/cat1.jpeg\" alt=\"到家就睡了\"></p>\n<hr>\n<p>睡着睡着又换了一个更温暖的地方接着睡–裤裆,仿佛一只顶裆猫<br><img src=\"https://github.com/zanseven007/blog/tree/master/public/img/cat/cat3.jpeg\" alt=\"到家就睡了\"></p>\n<p><em>未完待续…</em></p>\n","excerpt":"<p>一个猫瘾患者和一只人瘾患猫的故事。</p>","more":"<h2 id=\"问答环节\"><a href=\"#问答环节\" class=\"headerlink\" title=\"问答环节\"></a>问答环节</h2><h3 id=\"问：你是谁？\"><a href=\"#问：你是谁？\" class=\"headerlink\" title=\"问：你是谁？\"></a>问：你是谁？</h3><p>我是一只美短加白小奶喵，我的大名叫做蛋糕，小名叫皮皮，英文名叫 Snow（Jon Snow）</p>\n<h3 id=\"问：男-or-女\"><a href=\"#问：男-or-女\" class=\"headerlink\" title=\"问：男 or 女\"></a>问：男 or 女</h3><p>母</p>\n<h3 id=\"问：家世如何？\"><a href=\"#问：家世如何？\" class=\"headerlink\" title=\"问：家世如何？\"></a>问：家世如何？</h3><p>我有一个妹妹–酸奶 在铲屎官 <a href=\"http://www.weibo.com/anotherhome\">DIYgod</a> 那儿生活着，她这周末会来看我</p>\n<h3 id=\"问：你的爱好呢？\"><a href=\"#问：你的爱好呢？\" class=\"headerlink\" title=\"问：你的爱好呢？\"></a>问：你的爱好呢？</h3><p>我的爱好是睡觉，在暖和的地方一直睡。</p>\n<h2 id=\"爆照环节\"><a href=\"#爆照环节\" class=\"headerlink\" title=\"爆照环节\"></a>爆照环节</h2><h3 id=\"先放上人生目标\"><a href=\"#先放上人生目标\" class=\"headerlink\" title=\"先放上人生目标\"></a>先放上人生目标</h3><p><img src=\"https://github.com/zanseven007/blog/tree/master/public/img/cat/cat0.jpeg\" alt=\"戒猫图\"></p>\n<h3 id=\"50天\"><a href=\"#50天\" class=\"headerlink\" title=\"50天\"></a>50天</h3><p>在回家的出租车上忍不住从好奇心，从包里钻了出来，四处张望，一副好奇脸—-我在哪儿？我要去哪儿？我是谁？<br><img src=\"https://github.com/zanseven007/blog/tree/master/public/img/cat/cat1.jpeg\" alt=\"50天出租车上\"></p>\n<hr>\n<p>到家后可能累了直接就睡了<br><img src=\"https://github.com/zanseven007/blog/tree/master/public/img/cat/cat1.jpeg\" alt=\"到家就睡了\"></p>\n<hr>\n<p>睡着睡着又换了一个更温暖的地方接着睡–裤裆,仿佛一只顶裆猫<br><img src=\"https://github.com/zanseven007/blog/tree/master/public/img/cat/cat3.jpeg\" alt=\"到家就睡了\"></p>\n<p><em>未完待续…</em></p>"},{"title":"我的mac工具集","date":"2016-09-09T08:02:56.000Z","_content":"\n# 我的mac工具集\n整理了我开发和日常使用环境中一些十分棒，能提升mac使用满足感的一些玩意儿\n<!--more-->\n\n- 输入法\n + 搜狗输入法\n- 浏览器\n + Chrome\n- Chrome插件\n + LiveReload (在开发环境中配置livereload插件，配合浏览器插件可以自动刷新修改内容)\n + Octotree （github和gitlab网站插件，可以显示Code tree）\n + Momentum （可以让新开tab页变的很酷）\n + AngularJS batarang \n + Clear Cache\n + HTML5 Outliner\n + JSONView （格式化JSON数据）\n + Avatars for Github （github动态列表显示头像）\n + LastPass \n + Proxy SwitchySharp (代理切换)\n + Egret Inspector （白鹭引擎游戏开发调试器）\n + Google翻译 （google人工智能翻译，你懂的）\n + 广告终结者\n + 二维码（生成及识别）\n + 惠惠购物助手\n- 办公软件\n + Microsoft Office\n- 下载\n + 迅雷\n + uTorrent\n- 音乐\n + 网易云音乐\n- Markdown\n + Mou\n- 社交\n + QQ\n + 微信\n + YoMail\n- 终端\n + iTerm+OhMyZsh\n- 压缩\n + BetterZip\n- 编辑器\n + Sublime Text\n- 编辑器插件\n + DocBlockr\n + Emmet\n + jQuery\n + jQueryDocs\n + SideBarEnhancements\n + Babel\n + ColorPicker\n + WakaTime\n- 抓包\n + Charles\n- 切图\n + Photoshop cc\n + Sketch\n + cutterman(ps插件，快速切图)\n- ftp\n + FileZilla\n- 虚拟机\n + Parallels Desktop\n- 游戏开发\n + EgretEngine\n + Egret Wing3\n- 效率\n + iStat (在top显示网络上传下载速度，CPU内存使用情况等)\n + Reeder（RSS阅读）\n + Paste（保留剪贴板数据，可以随时调用之前的剪贴板内容）\n + Divvy（屏幕分屏）\n + Dash（程序猿文档）\n + Bartender 2（top菜单栏图片整理）\n + Go2Shell（在finder中直接唤起该目录下的终端）\n + GoAgentX（墙墙墙）\n + Dr.cleaner（清理Mac）\n + PopClip \n + 截图\n + 我的印象笔记\n- \n\n## 其他\n### 安装homebrew\n```code\nruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"\n```\n### 安装node\n```code\nbrew install node\n```\n### 配置git，生成新的 ssh 公钥,复制~/.ssh/.pub到管理后台\n```code\nssh-keygen -t rsa -C \"{your_email@email.com}\"\n```\n","source":"_posts/我的mac工具集.md","raw":"---\ntitle: 我的mac工具集\ndate: 2016-09-09 16:02:56\ntags:\n    - 前端\n    - 个人\n    - mac\n---\n\n# 我的mac工具集\n整理了我开发和日常使用环境中一些十分棒，能提升mac使用满足感的一些玩意儿\n<!--more-->\n\n- 输入法\n + 搜狗输入法\n- 浏览器\n + Chrome\n- Chrome插件\n + LiveReload (在开发环境中配置livereload插件，配合浏览器插件可以自动刷新修改内容)\n + Octotree （github和gitlab网站插件，可以显示Code tree）\n + Momentum （可以让新开tab页变的很酷）\n + AngularJS batarang \n + Clear Cache\n + HTML5 Outliner\n + JSONView （格式化JSON数据）\n + Avatars for Github （github动态列表显示头像）\n + LastPass \n + Proxy SwitchySharp (代理切换)\n + Egret Inspector （白鹭引擎游戏开发调试器）\n + Google翻译 （google人工智能翻译，你懂的）\n + 广告终结者\n + 二维码（生成及识别）\n + 惠惠购物助手\n- 办公软件\n + Microsoft Office\n- 下载\n + 迅雷\n + uTorrent\n- 音乐\n + 网易云音乐\n- Markdown\n + Mou\n- 社交\n + QQ\n + 微信\n + YoMail\n- 终端\n + iTerm+OhMyZsh\n- 压缩\n + BetterZip\n- 编辑器\n + Sublime Text\n- 编辑器插件\n + DocBlockr\n + Emmet\n + jQuery\n + jQueryDocs\n + SideBarEnhancements\n + Babel\n + ColorPicker\n + WakaTime\n- 抓包\n + Charles\n- 切图\n + Photoshop cc\n + Sketch\n + cutterman(ps插件，快速切图)\n- ftp\n + FileZilla\n- 虚拟机\n + Parallels Desktop\n- 游戏开发\n + EgretEngine\n + Egret Wing3\n- 效率\n + iStat (在top显示网络上传下载速度，CPU内存使用情况等)\n + Reeder（RSS阅读）\n + Paste（保留剪贴板数据，可以随时调用之前的剪贴板内容）\n + Divvy（屏幕分屏）\n + Dash（程序猿文档）\n + Bartender 2（top菜单栏图片整理）\n + Go2Shell（在finder中直接唤起该目录下的终端）\n + GoAgentX（墙墙墙）\n + Dr.cleaner（清理Mac）\n + PopClip \n + 截图\n + 我的印象笔记\n- \n\n## 其他\n### 安装homebrew\n```code\nruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"\n```\n### 安装node\n```code\nbrew install node\n```\n### 配置git，生成新的 ssh 公钥,复制~/.ssh/.pub到管理后台\n```code\nssh-keygen -t rsa -C \"{your_email@email.com}\"\n```\n","slug":"我的mac工具集","published":1,"updated":"2016-10-12T10:21:38.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizj7zm6o0007oz3sp0z9egkj","content":"<h1 id=\"我的mac工具集\"><a href=\"#我的mac工具集\" class=\"headerlink\" title=\"我的mac工具集\"></a>我的mac工具集</h1><p>整理了我开发和日常使用环境中一些十分棒，能提升mac使用满足感的一些玩意儿<br><a id=\"more\"></a></p>\n<ul>\n<li>输入法<ul>\n<li>搜狗输入法</li>\n</ul>\n</li>\n<li>浏览器<ul>\n<li>Chrome</li>\n</ul>\n</li>\n<li>Chrome插件<ul>\n<li>LiveReload (在开发环境中配置livereload插件，配合浏览器插件可以自动刷新修改内容)</li>\n<li>Octotree （github和gitlab网站插件，可以显示Code tree）</li>\n<li>Momentum （可以让新开tab页变的很酷）</li>\n<li>AngularJS batarang </li>\n<li>Clear Cache</li>\n<li>HTML5 Outliner</li>\n<li>JSONView （格式化JSON数据）</li>\n<li>Avatars for Github （github动态列表显示头像）</li>\n<li>LastPass </li>\n<li>Proxy SwitchySharp (代理切换)</li>\n<li>Egret Inspector （白鹭引擎游戏开发调试器）</li>\n<li>Google翻译 （google人工智能翻译，你懂的）</li>\n<li>广告终结者</li>\n<li>二维码（生成及识别）</li>\n<li>惠惠购物助手</li>\n</ul>\n</li>\n<li>办公软件<ul>\n<li>Microsoft Office</li>\n</ul>\n</li>\n<li>下载<ul>\n<li>迅雷</li>\n<li>uTorrent</li>\n</ul>\n</li>\n<li>音乐<ul>\n<li>网易云音乐</li>\n</ul>\n</li>\n<li>Markdown<ul>\n<li>Mou</li>\n</ul>\n</li>\n<li>社交<ul>\n<li>QQ</li>\n<li>微信</li>\n<li>YoMail</li>\n</ul>\n</li>\n<li>终端<ul>\n<li>iTerm+OhMyZsh</li>\n</ul>\n</li>\n<li>压缩<ul>\n<li>BetterZip</li>\n</ul>\n</li>\n<li>编辑器<ul>\n<li>Sublime Text</li>\n</ul>\n</li>\n<li>编辑器插件<ul>\n<li>DocBlockr</li>\n<li>Emmet</li>\n<li>jQuery</li>\n<li>jQueryDocs</li>\n<li>SideBarEnhancements</li>\n<li>Babel</li>\n<li>ColorPicker</li>\n<li>WakaTime</li>\n</ul>\n</li>\n<li>抓包<ul>\n<li>Charles</li>\n</ul>\n</li>\n<li>切图<ul>\n<li>Photoshop cc</li>\n<li>Sketch</li>\n<li>cutterman(ps插件，快速切图)</li>\n</ul>\n</li>\n<li>ftp<ul>\n<li>FileZilla</li>\n</ul>\n</li>\n<li>虚拟机<ul>\n<li>Parallels Desktop</li>\n</ul>\n</li>\n<li>游戏开发<ul>\n<li>EgretEngine</li>\n<li>Egret Wing3</li>\n</ul>\n</li>\n<li>效率<ul>\n<li>iStat (在top显示网络上传下载速度，CPU内存使用情况等)</li>\n<li>Reeder（RSS阅读）</li>\n<li>Paste（保留剪贴板数据，可以随时调用之前的剪贴板内容）</li>\n<li>Divvy（屏幕分屏）</li>\n<li>Dash（程序猿文档）</li>\n<li>Bartender 2（top菜单栏图片整理）</li>\n<li>Go2Shell（在finder中直接唤起该目录下的终端）</li>\n<li>GoAgentX（墙墙墙）</li>\n<li>Dr.cleaner（清理Mac）</li>\n<li>PopClip </li>\n<li>截图</li>\n<li>我的印象笔记</li>\n</ul>\n</li>\n<li></li>\n</ul>\n<h2 id=\"其他\"><a href=\"#其他\" class=\"headerlink\" title=\"其他\"></a>其他</h2><h3 id=\"安装homebrew\"><a href=\"#安装homebrew\" class=\"headerlink\" title=\"安装homebrew\"></a>安装homebrew</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</div></pre></td></tr></table></figure>\n<h3 id=\"安装node\"><a href=\"#安装node\" class=\"headerlink\" title=\"安装node\"></a>安装node</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">brew install node</div></pre></td></tr></table></figure>\n<h3 id=\"配置git，生成新的-ssh-公钥-复制-ssh-pub到管理后台\"><a href=\"#配置git，生成新的-ssh-公钥-复制-ssh-pub到管理后台\" class=\"headerlink\" title=\"配置git，生成新的 ssh 公钥,复制~/.ssh/.pub到管理后台\"></a>配置git，生成新的 ssh 公钥,复制~/.ssh/.pub到管理后台</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">ssh-keygen -t rsa -C &quot;&#123;your_email@email.com&#125;&quot;</div></pre></td></tr></table></figure>\n","excerpt":"<h1 id=\"我的mac工具集\"><a href=\"#我的mac工具集\" class=\"headerlink\" title=\"我的mac工具集\"></a>我的mac工具集</h1><p>整理了我开发和日常使用环境中一些十分棒，能提升mac使用满足感的一些玩意儿<br>","more":"</p>\n<ul>\n<li>输入法<ul>\n<li>搜狗输入法</li>\n</ul>\n</li>\n<li>浏览器<ul>\n<li>Chrome</li>\n</ul>\n</li>\n<li>Chrome插件<ul>\n<li>LiveReload (在开发环境中配置livereload插件，配合浏览器插件可以自动刷新修改内容)</li>\n<li>Octotree （github和gitlab网站插件，可以显示Code tree）</li>\n<li>Momentum （可以让新开tab页变的很酷）</li>\n<li>AngularJS batarang </li>\n<li>Clear Cache</li>\n<li>HTML5 Outliner</li>\n<li>JSONView （格式化JSON数据）</li>\n<li>Avatars for Github （github动态列表显示头像）</li>\n<li>LastPass </li>\n<li>Proxy SwitchySharp (代理切换)</li>\n<li>Egret Inspector （白鹭引擎游戏开发调试器）</li>\n<li>Google翻译 （google人工智能翻译，你懂的）</li>\n<li>广告终结者</li>\n<li>二维码（生成及识别）</li>\n<li>惠惠购物助手</li>\n</ul>\n</li>\n<li>办公软件<ul>\n<li>Microsoft Office</li>\n</ul>\n</li>\n<li>下载<ul>\n<li>迅雷</li>\n<li>uTorrent</li>\n</ul>\n</li>\n<li>音乐<ul>\n<li>网易云音乐</li>\n</ul>\n</li>\n<li>Markdown<ul>\n<li>Mou</li>\n</ul>\n</li>\n<li>社交<ul>\n<li>QQ</li>\n<li>微信</li>\n<li>YoMail</li>\n</ul>\n</li>\n<li>终端<ul>\n<li>iTerm+OhMyZsh</li>\n</ul>\n</li>\n<li>压缩<ul>\n<li>BetterZip</li>\n</ul>\n</li>\n<li>编辑器<ul>\n<li>Sublime Text</li>\n</ul>\n</li>\n<li>编辑器插件<ul>\n<li>DocBlockr</li>\n<li>Emmet</li>\n<li>jQuery</li>\n<li>jQueryDocs</li>\n<li>SideBarEnhancements</li>\n<li>Babel</li>\n<li>ColorPicker</li>\n<li>WakaTime</li>\n</ul>\n</li>\n<li>抓包<ul>\n<li>Charles</li>\n</ul>\n</li>\n<li>切图<ul>\n<li>Photoshop cc</li>\n<li>Sketch</li>\n<li>cutterman(ps插件，快速切图)</li>\n</ul>\n</li>\n<li>ftp<ul>\n<li>FileZilla</li>\n</ul>\n</li>\n<li>虚拟机<ul>\n<li>Parallels Desktop</li>\n</ul>\n</li>\n<li>游戏开发<ul>\n<li>EgretEngine</li>\n<li>Egret Wing3</li>\n</ul>\n</li>\n<li>效率<ul>\n<li>iStat (在top显示网络上传下载速度，CPU内存使用情况等)</li>\n<li>Reeder（RSS阅读）</li>\n<li>Paste（保留剪贴板数据，可以随时调用之前的剪贴板内容）</li>\n<li>Divvy（屏幕分屏）</li>\n<li>Dash（程序猿文档）</li>\n<li>Bartender 2（top菜单栏图片整理）</li>\n<li>Go2Shell（在finder中直接唤起该目录下的终端）</li>\n<li>GoAgentX（墙墙墙）</li>\n<li>Dr.cleaner（清理Mac）</li>\n<li>PopClip </li>\n<li>截图</li>\n<li>我的印象笔记</li>\n</ul>\n</li>\n<li></li>\n</ul>\n<h2 id=\"其他\"><a href=\"#其他\" class=\"headerlink\" title=\"其他\"></a>其他</h2><h3 id=\"安装homebrew\"><a href=\"#安装homebrew\" class=\"headerlink\" title=\"安装homebrew\"></a>安装homebrew</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</div></pre></td></tr></table></figure>\n<h3 id=\"安装node\"><a href=\"#安装node\" class=\"headerlink\" title=\"安装node\"></a>安装node</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">brew install node</div></pre></td></tr></table></figure>\n<h3 id=\"配置git，生成新的-ssh-公钥-复制-ssh-pub到管理后台\"><a href=\"#配置git，生成新的-ssh-公钥-复制-ssh-pub到管理后台\" class=\"headerlink\" title=\"配置git，生成新的 ssh 公钥,复制~/.ssh/.pub到管理后台\"></a>配置git，生成新的 ssh 公钥,复制~/.ssh/.pub到管理后台</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">ssh-keygen -t rsa -C &quot;&#123;your_email@email.com&#125;&quot;</div></pre></td></tr></table></figure>"},{"title":"H5使用总结和小技巧","date":"2017-02-09T02:14:11.000Z","_content":"\n偶然间看见 github 大神总结的 H5知识，学习了一波\n\n<!--more-->\n\n### H5项目常见问题及注意事项\n\n#### Meta基础知识： \n- H5页面窗口自动调整到设备宽度，并禁止用户缩放页面\n``` Javascript\n//一、HTML页面结构\n<meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no\" />\n// width    设置viewport宽度，为一个正整数，或字符串‘device-width’\n// height   设置viewport高度，一般设置了宽度，会自动解析出高度，可以不用设置\n// initial-scale    默认缩放比例，为一个数字，可以带小数\n// minimum-scale    允许用户最小缩放比例，为一个数字，可以带小数\n// maximum-scale    允许用户最大缩放比例，为一个数字，可以带小数\n// user-scalable    是否允许手动缩放\n\n//二、JS动态判断\nvar phoneWidth =  parseInt(window.screen.width);\nvar phoneScale = phoneWidth/640;\nvar ua = navigator.userAgent;\nif (/Android (\\d+\\.\\d+)/.test(ua)){\n\tvar version = parseFloat(RegExp.$1);\n\tif(version>2.3){\n\t\tdocument.write('<meta name=\"viewport\" content=\"width=640, minimum-scale = '+phoneScale+', maximum-scale = '+phoneScale+', target-densitydpi=device-dpi\">');\n\t}else{\n\t\tdocument.write('<meta name=\"viewport\" content=\"width=640, target-densitydpi=device-dpi\">');\n\t}\n} else {\n\tdocument.write('<meta name=\"viewport\" content=\"width=640, user-scalable=no, target-densitydpi=device-dpi\">');\n}\n```\n\n\n\n\n- H5空白页基本meta标签\n```\n<!-- 设置缩放 -->\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1, user-scalable=no, minimal-ui\" />\n<!-- 可隐藏地址栏，仅针对IOS的Safari（注：IOS7.0版本以后，safari上已看不到效果） -->\n<meta name=\"apple-mobile-web-app-capable\" content=\"yes\" />\n<!-- 仅针对IOS的Safari顶端状态条的样式（可选default/black/black-translucent ） -->\n<meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black\" />\n<!-- IOS中禁用将数字识别为电话号码/忽略Android平台中对邮箱地址的识别 -->\n<meta name=\"format-detection\"content=\"telephone=no, email=no\" />\n```\n\n- PC端基础meta标签\n```\n<!-- 页面关键词-->\n<meta name=\"keywords\" content=\"your tags\" />\n<!-- 页面描述-->\n<meta name=\"description\" content=\"150 words\" />\n<!-- 搜索引擎索引方式：robotterms是一组使用逗号(,)分割的值，通常有如下几种取值：none，noindex，nofollow，all，index和follow。确保正确使用nofollow和noindex属性值。-->\n<meta name=\"robots\" content=\"index,follow\" />\n<!--\n    all：文件将被检索，且页面上的链接可以被查询；\n    none：文件将不被检索，且页面上的链接不可以被查询；\n    index：文件将被检索；\n    follow：页面上的链接可以被查询；\n    noindex：文件将不被检索；\n    nofollow：页面上的链接不可以被查询。\n -->\n \n <!-- 页面重定向和刷新：content内的数字代表时间（秒），既多少时间后刷新。如果加url,则会重定向到指定网页（搜索引擎能够自动检测，也很容易被引擎视作误导而受到惩罚）。-->\n <meta http-equiv=\"refresh\" content=\"0;url=\" />\n \n```\n\n- 页面缓存设置\n```\n<!-- 清除缓存 -->\n<meta http-equiv=\"pragma\" content=\"no-cache\">\n<meta http-equiv=\"cache-control\" content=\"no-cache\">\n<meta http-equiv=\"expires\" content=\"0\">   \n```\n\n- 其他meta标签\n```\n<!-- 启用360浏览器的极速模式(webkit) -->\n<meta name=\"renderer\" content=\"webkit\">\n<!-- 避免IE使用兼容模式 -->\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n<!-- 针对手持设备优化，主要是针对一些老的不识别viewport的浏览器，比如黑莓 -->\n<meta name=\"HandheldFriendly\" content=\"true\">\n<!-- 微软的老式浏览器 -->\n<meta name=\"MobileOptimized\" content=\"320\">\n<!-- uc强制竖屏 -->\n<meta name=\"screen-orientation\" content=\"portrait\">\n<!-- QQ强制竖屏 -->\n<meta name=\"x5-orientation\" content=\"portrait\">\n<!-- UC强制全屏 -->\n<meta name=\"full-screen\" content=\"yes\">\n<!-- QQ强制全屏 -->\n<meta name=\"x5-fullscreen\" content=\"true\">\n<!-- UC应用模式 -->\n<meta name=\"browsermode\" content=\"application\">\n<!-- QQ应用模式 -->\n<meta name=\"x5-page-mode\" content=\"app\">\n<!-- windows phone 点击无高光 -->\n<meta name=\"msapplication-tap-highlight\" content=\"no\">\n\n<meta name=\"author\" content=\"author name\" /> <!-- 定义网页作者 -->\n<meta name=\"google\" content=\"index,follow\" />\n<meta name=\"googlebot\" content=\"index,follow\" />\n<meta name=\"verify\" content=\"index,follow\" />\n```\n\n\n#### 常见问题：\n- 移动端如何定义字体font-family\n``` CSS\n@ --------------------------------------中文字体的英文名称\n@ 宋体      SimSun\n@ 黑体      SimHei\n@ 微信雅黑   Microsoft Yahei\n@ 微软正黑体 Microsoft JhengHei\n@ 新宋体    NSimSun\n@ 新细明体  MingLiU\n@ 细明体    MingLiU\n@ 标楷体    DFKai-SB\n@ 仿宋     FangSong\n@ 楷体     KaiTi\n@ 仿宋_GB2312  FangSong_GB2312\n@ 楷体_GB2312  KaiTi_GB2312  \n@\n@ 说明：中文字体多数使用宋体、雅黑，英文用Helvetica\n\nbody { font-family: Microsoft Yahei,SimSun,Helvetica; } \n```\n\n\n- 打电话发短信写邮件怎么实现\n``` HTML\n// 一、打电话\n<a href=\"tel:0755-10086\">打电话给:0755-10086</a>\n\n//  二、发短信，winphone系统无效\n<a href=\"sms:10086\">发短信给: 10086</a>\n\n// 三、写邮件\n//注：在添加这些功能时，第一个功能以\"?\"开头，后面的以\"&\"开头\n//1.普通邮件\n<a href=\"mailto:863139978@qq.com\">点击我发邮件</a>\n//2.收件地址后添加?cc=开头，可添加抄送地址（Android存在兼容问题）\n<a href=\"mailto:863139978@qq.com?cc=zhangqian0406@yeah.net\">点击我发邮件</a>\n//3.跟着抄送地址后，写上&bcc=,可添加密件抄送地址（Android存在兼容问题）\n<a href=\"mailto:863139978@qq.com?cc=zhangqian0406@yeah.net&bcc=384900096@qq.com\">点击我发邮件</a>\n//4.包含多个收件人、抄送、密件抄送人，用分号(;)隔开多个邮件人的地址\n<a href=\"mailto:863139978@qq.com;384900096@qq.com\">点击我发邮件</a>\n//5.包含主题，用?subject=\n<a href=\"mailto:863139978@qq.com?subject=邮件主题\">点击我发邮件</a>\n//6.包含内容，用?body=;如内容包含文本，使用%0A给文本换行 \n<a href=\"mailto:863139978@qq.com?body=邮件主题内容%0A腾讯诚信%0A期待您的到来\">点击我发邮件</a>\n//7.内容包含链接，含http(s)://等的文本自动转化为链接\n<a href=\"mailto:863139978@qq.com?body=http://www.baidu.com\">点击我发邮件</a>\n//8.内容包含图片（PC不支持）\n<a href=\"mailto:863139978@qq.com?body=<img src='images/1.jpg' />\">点击我发邮件</a>\n//9.完整示例\n<a href=\"mailto:863139978@qq.com;384900096@qq.com?cc=zhangqian0406@yeah.net&bcc=993233461@qq.com&subject=[邮件主题]&body=腾讯诚邀您参与%0A%0Ahttp://www.baidu.com%0A%0A<img src='images/1.jpg' />\">点击我发邮件</a>\n```\n\n\n- 移动端touch事件（区分webkit和winphone）\n```\n/* 当用户手指放在移动设备在屏幕上滑动会触发的touch事件 */\n// 以下支持webkit\ntouchstart——当手指触碰屏幕时候发生。不管当前有多少只手指\ntouchmove——当手指在屏幕上滑动时连续触发。通常我们再滑屏页面，会调用event的preventDefault()可以阻止默认情况的发生：阻止页面滚动\ntouchend——当手指离开屏幕时触发\ntouchcancel——系统停止跟踪触摸时候会触发。例如在触摸过程中突然页面alert()一个提示框，此时会触发该事件，这个事件比较少用\n\n//TouchEvent说明：\ntouches：屏幕上所有手指的信息\ntargetTouches：手指在目标区域的手指信息\nchangedTouches：最近一次触发该事件的手指信息\ntouchend时，touches与targetTouches信息会被删除，changedTouches保存的最后一次的信息，最好用于计算手指信息\n\n//参数信息(changedTouches[0])\nclientX、clientY在显示区的坐标\ntarget：当前元素\n\n//事件响应顺序\nontouchstart  > ontouchmove  > ontouchend > onclick\n\n// 以下支持winphone 8\nMSPointerDown——当手指触碰屏幕时候发生。不管当前有多少只手指\nMSPointerMove——当手指在屏幕上滑动时连续触发。通常我们再滑屏页面，会调用css的html{-ms-touch-action: none;}可以阻止默认情况的发生：阻止页面滚动\nMSPointerUp——当手指离开屏幕时触发\n```\n\n\n- 移动端click屏幕产生200-300ms的延时响应\n```\n说明：移动设备上的web网页是有300ms延迟的，玩玩会造成按钮点击延迟甚至是点击失效。\n\n以下是历史原因，来源一个公司内一个同事的分享：\n2007年苹果发布首款iphone上IOS系统搭载的safari为了将适用于PC端上大屏幕的网页能比较好的展示在手机端上，使用了双击缩放(double tap to zoom)的方案，比如你在手机上用浏览器打开一个PC上的网页，你可能在看到页面内容虽然可以撑满整个屏幕，但是字体、图片都很小看不清，此时可以快速双击屏幕上的某一部分，你就能看清该部分放大后的内容，再次双击后能回到原始状态。\n\n双击缩放是指用手指在屏幕上快速点击两次，iOS 自带的 Safari 浏览器会将网页缩放至原始比例。\n\n原因就出在浏览器需要如何判断快速点击上，当用户在屏幕上单击某一个元素时候，例如跳转链接<a href=\"#\"></a>，此处浏览器会先捕获该次单击，但浏览器不能决定用户是单纯要点击链接还是要双击该部分区域进行缩放操作，所以，捕获第一次单击后，浏览器会先Hold一段时间t，如果在t时间区间里用户未进行下一次点击，则浏览器会做单击跳转链接的处理，如果t时间里用户进行了第二次单击操作，则浏览器会禁止跳转，转而进行对该部分区域页面的缩放操作。那么这个时间区间t有多少呢？在IOS safari下，大概为300毫秒。这就是延迟的由来。造成的后果用户纯粹单击页面，页面需要过一段时间才响应，给用户慢体验感觉，对于web开发者来说是，页面js捕获click事件的回调函数处理，需要300ms后才生效，也就间接导致影响其他业务逻辑的处理。\n\n//解决方案：\nfastclick可以解决在手机上点击事件的300ms延迟\nzepto的touch模块，tap事件也是为了解决在click的延迟问题\n```\n\n\n- Rentina显示屏原理及设计方案\n```\n说明：retina屏是一种具备超高像素密度的液晶屏，同样大小的屏幕上显示的像素点由1个变为多个，如在同样带下的屏幕上，苹果设备的retina显示屏中，像素点1个变为4个。\n在高清显示屏中的位图被放大，图片会变得模糊，因此移动端的视觉稿通常会设计为传统PC的2倍。\n那么，前端的应对方案是：设计稿切出来的图片长宽保证为偶数，并使用backgroud-size把图片缩小为原来的1/2\n\n//例如图片宽高为：200px*200px，那么写法如下\n.css{width:100px;height:100px;background-size:100px 100px;}\n//其它元素的取值为原来的1/2，例如视觉稿40px的字体，使用样式的写法为20px\n.css{font-size:20px}\n\n//image-set设计Rentina背景图\nimage-set,webkit私有属性，也是CSS4的属性，为解决Rentina屏幕下的图像而生。\n.css {\n\tbackground: url(images/bg.jpg) no-repeat center;\n\tbackground: -webkit-image-set(\n\turl(images/bg.jpg) 1x,     //支持image-set普通屏\n\turl(images/bg-2x.jpg) 2x); //支持image-set的Rentinan\n}\n```\n\n\n- 点击元素产生背景或边框怎么去掉\n```\n//ios用户点击一个链接，会出现一个半透明灰色遮罩, 如果想要禁用，可设置-webkit-tap-highlight-color的alpha值为0去除灰色半透明遮罩；\n//android用户点击一个链接，会出现一个边框或者半透明灰色遮罩, 不同生产商定义出来额效果不一样，可设置-webkit-tap-highlight-color的alpha值为0去除部分机器自带的效果；\n//winphone系统,点击标签产生的灰色半透明背景，能通过设置<meta name=\"msapplication-tap-highlight\" content=\"no\">去掉；\n//特殊说明：有些机型去除不了，如小米2。对于按钮类还有个办法，不使用a或者input标签，直接用div标签\na,button,input,textarea { \n\t-webkit-tap-highlight-color: rgba(0,0,0,0); \n\t-webkit-user-modify:read-write-plaintext-only; //-webkit-user-modify有个副作用，就是输入法不再能够输入多个字符\n}   \n// 也可以 \n* { -webkit-tap-highlight-color: rgba(0,0,0,0); }\n//winphone下\n<meta name=\"msapplication-tap-highlight\" content=\"no\">\n```\n\n\n- 美化表单元素\n``` CSS\n//一、使用appearance改变webkit浏览器的默认外观\ninput,select { -webkit-appearance:none; appearance: none; }\n\n//二、winphone下，使用伪元素改变表单元素默认外观\n//1.禁用select默认箭头，::-ms-expand修改表单控件下拉箭头，设置隐藏并使用背景图片来修饰\nselect::-ms-expand { display:none; }\n\n//2.禁用radio和checkbox默认样式，::-ms-check修改表单复选框或单选框默认图标，设置隐藏并使用背景图片来修饰\ninput[type=radio]::-ms-check,\ninput[type=checkbox]::-ms-check { display:none; }\n\n//3.禁用pc端表单输入框默认清除按钮，::-ms-clear修改清除按钮，设置隐藏并使用背景图片来修饰\ninput[type=text]::-ms-clear,\ninput[type=tel]::-ms-clear,\ninput[type=number]::-ms-clear { display:none; }\n```\n\n\n- 移动端字体单位font-size选择px还是rem\n```\n// 如需适配多种移动设备，建议使用rem。以下为参考值：\nhtml { font-size: 62.5%; }   //10*16 = 62.5%\n//设置12px字体   这里注意在rem前要加上对应的px值，解决不支持rem的浏览器的兼容问题，做到优雅降级\nbody { font-size:12px; font-size:1.2rem; }     \n```\n\n\n- 超实用的CSS样式\n```\n//去掉webkit的滚动条——display: none;\n//其他参数\n::-webkit-scrollba //滚动条整体部分\n::-webkit-scrollbar-thumb   //滚动条内的小方块\n::-webkit-scrollbar-track   //滚动条轨道\n::-webkit-scrollbar-button  //滚动条轨道两端按钮\n::-webkit-scrollbar-track-piece  //滚动条中间部分，内置轨道\n::-webkit-scrollbar-corner       //边角，两个滚动条交汇处\n::-webkit-resizer            //两个滚动条的交汇处上用于通过拖动调整元素大小的小控件\n\n// 禁止长按链接与图片弹出菜单\na,img { -webkit-touch-callout: none }    \n\n// 禁止ios和android用户选中文字\nhtml,body {-webkit-user-select:none; user-select: none; }\n\n// 改变输入框placeholder的颜色值\n::-webkit-input-placeholder { /* WebKit browsers */\ncolor: #999; }\n:-moz-placeholder { /* Mozilla Firefox 4 to 18 */\ncolor: #999; }\n::-moz-placeholder { /* Mozilla Firefox 19+ */\ncolor: #999; }\n:-ms-input-placeholder { /* Internet Explorer 10+ */\ncolor: #999; }\ninput:focus::-webkit-input-placeholder{ color:#999; }\n\n// android上去掉语音输入按钮\ninput::-webkit-input-speech-button {display: none}\n\n// 阻止windows Phone的默认触摸事件\n/*说明：winphone下默认触摸事件事件使用e.preventDefault是无效的，可通过样式来禁用，如：*/\nhtml { -ms-touch-action:none; } //禁止winphone默认触摸事件\n```\n\n\n- 取消input在ios下，输入的时候英文首字母的默认大写\n``` HTML\n<input autocapitalize=\"off\" autocorrect=\"off\" />\n```\n\n\n- 手机拍照和上传图片\n```\n//IOS有拍照、录像、选取本地图片功能，部分Android只有选择本地图片功能。Winphone不支持\n<input type=\"file\" accept=\"images/*\" />\n<input type=\"file\" accept=\"video/*\" />\n```\n\n\n- 屏幕旋转的事件和样式\n``` JS&CSs\n//JS处理\nfunction orientInit(){\n\tvar orientChk = document.documentElement.clientWidth > document.documentElement.clientHeight?'landscape':'portrait';\n\tif(orientChk =='lapdscape'){\n\t\t//这里是横屏下需要执行的事件\n\t}else{\n\t\t//这里是竖屏下需要执行的事件\n\t}\n}\n\norientInit();\nwindow.addEventListener('onorientationchange' in window?'orientationchange':'resize', function(){\n\tsetTimeout(orientInit, 100);\n},false)\t\n\n//CSS处理\n//竖屏时样式\n@media all and (orientation:portrait){   }\n//横屏时样式\n@media all and (orientation:landscape){   }\n```\n\n\n- audio元素和video元素在ios和andriod中无法自动播放\n```\n//音频，写法一\n<audio src=\"music/bg.mp3\" autoplay loop controls>你的浏览器还不支持哦</audio>\n\n//音频，写法二\n<audio controls=\"controls\">\t\n\t<source src=\"music/bg.ogg\" type=\"audio/ogg\"></source>\n\t<source src=\"music/bg.mp3\" type=\"audio/mpeg\"></source>\n\t优先播放音乐bg.ogg，不支持在播放bg.mp3\n</audio>\n\n//JS绑定自动播放（操作window时，播放音乐）\n$(window).one('touchstart', function(){\n\tmusic.play();\n})\n\n//微信下兼容处理\ndocument.addEventListener(\"WeixinJSBridgeReady\", function () {\n    music.play();\n}, false);\n\n//小结\n//1.audio元素的autoplay属性在IOS及Android上无法使用，在PC端正常\n//2.audio元素没有设置controls时，在IOS及Android会占据空间大小，而在PC端Chrome是不会占据任何空间\n```\n\n- 重力感应事件\n```\n// 运用HTML5的deviceMotion，调用重力感应事件\nif(window.DeviceMotionEvent){\n\tdocument.addEventListener('devicemotion', deviceMotionHandler, false)\n}\t\n\nvar speed = 30;\nvar x = y = z = lastX = lastY = lastZ = 0;\nfunction deviceMotionHandler(eventData){\n\tvar acceleration = event.accelerationIncludingGravity;\n\tx = acceleration.x;\n\ty = acceleration.y; \n\tz = acceleration.z;\n\tif(Math.abs(x-lastX)>speed || Math.abs(y-lastY)>speed || Math.abs(z-lastZ)>speed ){\n\t\t//这里是摇动后要执行的方法 \n\t\tyaoAfter();\n\t}\n\tlastX = x;\n\tlastY = y;\n\tlastZ = z;\n}\n\nfunction yaoAfter(){\n\t//do something\n}\n\n//说明：说见案例摇一摇效果中yao.js\n```\n\n\n- 微信浏览器用户调整字体大小后页面矬了，怎么阻止用户调整\n```\n//以下代码可使Android机页面不再受用户字体缩放强制改变大小，但是会有1S左右延时，期间可以考虑loading来处理\nif (typeof(WeixinJSBridge) == \"undefined\") {\n\tdocument.addEventListener(\"WeixinJSBridgeReady\", function (e) {\n\t    setTimeout(function(){\n\t\t    WeixinJSBridge.invoke('setFontSizeCallback', { 'fontSize':0}, function(res){\n\t\t\t    alert(JSON.stringify(res));\n\t\t    })\n\t    }, 0)\n\t});\n}else{\t\n    setTimeout(function(){\n\t    WeixinJSBridge.invoke('setFontSizeCallback', { 'fontSize':0}, function(res){\n\t\t    alert(JSON.stringify(res));\n\t    })\n    }, 0)\t\n}\n\n//IOS下可使用 -webkit-text-size-adjust禁止用户调整字体大小\nbody { -webkit-text-size-adjust:100%!important; }\n\n//最好的解决方案：最好使用rem或百分比布局\n```\n\n- 定位的坑\n```\n//fixed定位\n//1.ios下fixed元素容易定位出错，软键盘弹出时，影响fixed元素定位\n//2.android下fixed表现要比iOS更好，软键盘弹出时，不会影响fixed元素定位\n//3.ios4下不支持position:fixed\n//解决方案：使用[Iscroll](http://cubiq.org/iscroll-5)，如：\n<div id=\"wrapper\">\n        <ul>\n               <li></li>\n               .....\n        </ul>\n</div>\n<script src=\"iscroll.js\"></script>\n<script>\n\tvar myscroll;\n\tfunction loaded(){\n\t\tmyscroll=new iScroll(\"wrapper\");\n\t}\n\twindow.addEventListener(\"DOMContentLoaded\",loaded,false);\n</script>\n\n\n//position定位\n//Android下弹出软键盘弹出时，影响absolute元素定位\n//解决方案:\nvar ua = navigator.userAgent.indexOf('Android');\nif(ua>-1){\n\t$('.ipt').on('focus', function(){\n\t\t$('.css').css({'visibility':'hidden'})\n\t}).on('blur', function(){\n\t\t$('.css').css({'visibility':'visible'})\n\t})\n}\n\n```\n\n\n- 播放视频不全屏\n``` HTML\n<!--\n1.ios7+支持自动播放\n2.支持Airplay的设备（如：音箱、Apple TV)播放\nx-webkit-airplay=\"true\" \n3.播放视频不全屏\nwebkit-playsinline=\"true\" \n-->\n<video x-webkit-airplay=\"true\" webkit-playsinline=\"true\" preload=\"auto\" autoplay src=\"http://\"></video>\n```\n\n- JS判断设备\n```\nfunction deviceType(){\n\tvar ua = navigator.userAgent;\n\tvar agent = [\"Android\", \"iPhone\", \"SymbianOS\", \"Windows Phone\", \"iPad\", \"iPod\"];\t\n\tfor(var i=0; i<len,len = agent.length; i++){\n\t\tif(ua.indexOf(agent[i])>0){\t\t\t\n\t\t\tbreak;\n\t\t}\n\t}\n}\ndeviceType();\nwindow.addEventListener('resize', function(){\n\tdeviceType();\n})\n```\n\n- JS判断微信浏览器\n```\nfunction isWeixin(){\n\tvar ua = navigator.userAgent.toLowerCase();\n\tif(ua.match(/MicroMessenger/i)=='micromessenger'){\n\t\treturn true;\n\t}else{\n\t\treturn false;\n\t}\n}\n```\n\n\n- android 2.3 bug\n```\n//1.@-webkit-keyframes 需要以0%开始100%结束，0%的百分号不能去掉\n//2.after和before伪类无法使用动画animation\n//3.border-radius不支持%单位，如要兼容，可以给radius设置一下较大的值\n//4.translate百分比的写法和scale在一起会导致失效，例如：\n-webkit-transform: translate(-50%,-50%) scale(-0.5, 1)\n```\n\n- android 4.x bug\n```\n//1.三星 Galaxy S4中自带浏览器不支持border-radius缩写\n//2.同时设置border-radius和背景色的时候，背景色会溢出到圆角以外部分\n//3.部分手机(如三星)，a链接支持鼠标:visited事件，也就是说链接访问后文字变为紫色\n//4.android无法同时播放多音频audio\n```\n\n\n- 消除transition闪屏\n``` CSS\n.css {\n\t-webkit-transform-style: preserve-3d;\n\t-webkit-backface-visibility: hidden;\n\t-webkit-perspective: 1000;\n}\n```\n\n\n- 开启硬件加速\n``` CSS\n//目前，像Chrome/Filefox/Safari/IE9+以及最新版本Opera都支持硬件加速，当检测到某个DOM元素应用了某些CSS规则时就会自动开启，从而解决页面闪白，保证动画流畅。\n.css {\n\t-webkit-transform: translate3d(0,0,0);\n\t-moz-transform: translate3d(0,0,0);\n\t-ms-transform: translate3d(0,0,0);\n\ttransform: translate3d(0,0,0);\n}\n```\n\n\n- 渲染优化\n```\n//1.禁止使用iframe（阻塞父文档onload事件）\n//2.禁止使用gif图片实现loading效果（降低CPU消耗，提升渲染性能）\n//使用CSS3代码代替JS动画；\n//开启GPU加速；\n//使用base64位编码图片(不小图而言，大图不建议使用)\n\t// 对于一些小图标，可以使用base64位编码，以减少网络请求。但不建议大图使用，比较耗费CPU。小图标优势在于：\n\t//1.减少HTTP请求；\n\t//2.避免文件跨域；\n\t//3.修改及时生效；\n``` \n\n\n- 腾讯方案\n``` javascript\nvar autoScale = function(){\n    var ratio = 320/504,   //这是设计稿的宽高比（504是Iphone的高度去掉标题栏高度）\n        winW = document.getElement.clientWidth,\n        winH = document.getElement.clientHeight,\n        ratio2 = winW/winH,\n        scale;\n    if(ratio<ratio2){\n        scale = (winH/504).toString().substring(0, 6);\n    }else{\n        scale = (winW/320).toString().substring(0, 6);  \n    }\n    var cssText = '-webkit-transform: scale('+scale+');-webkit-transform-origin: top; opacity:1;'  \n    $('.wrap').attr('style', cssText);\n}\nsetTimeout(function(){\n    if(document.documentElement.clientWidth/document.documentElement.clientHeight !== 320/504){\n        autoScale();\n    }else{\n        $('.page').css({'opacity': 1});\n    }\n}, 300)  //添加一定时长以确保宽高获取正确\nwindow.addEventListener('onorientationchange' in window?'orientationchange':'resize', autoScale, false){\n        detectOrientatioin();\n}   //切换横竖屏\n\nfunction detectOrientatioin(){\n    if(window.orientation==180 || window.orientation==0){\n        //竖屏\n    }\n    if(window.orientation==90 || window.orientation==-90){\n        //横屏\n    }\n}\n```\n\n\n#### 常用的移动端框架\nzepto.js\n\t- [官网](http://zeptojs.com/)\n\t- [中文网](http://www.css88.com/doc/zeptojs_api/)\n\t- [浏览器检测](https://github.com/madrobby/zepto/blob/master/src/detect.js)\n\t- [tap事件](https://github.com/madrobby/zepto/blob/master/src/touch.js)\n\t\n\n\n","source":"_posts/h5-summary.md","raw":"---\ntitle: H5使用总结和小技巧\ndate: 2017-02-09 10:14:11\ntags:\n    - 前端\n    - 复制粘贴专用\n    - 个人\n---\n\n偶然间看见 github 大神总结的 H5知识，学习了一波\n\n<!--more-->\n\n### H5项目常见问题及注意事项\n\n#### Meta基础知识： \n- H5页面窗口自动调整到设备宽度，并禁止用户缩放页面\n``` Javascript\n//一、HTML页面结构\n<meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no\" />\n// width    设置viewport宽度，为一个正整数，或字符串‘device-width’\n// height   设置viewport高度，一般设置了宽度，会自动解析出高度，可以不用设置\n// initial-scale    默认缩放比例，为一个数字，可以带小数\n// minimum-scale    允许用户最小缩放比例，为一个数字，可以带小数\n// maximum-scale    允许用户最大缩放比例，为一个数字，可以带小数\n// user-scalable    是否允许手动缩放\n\n//二、JS动态判断\nvar phoneWidth =  parseInt(window.screen.width);\nvar phoneScale = phoneWidth/640;\nvar ua = navigator.userAgent;\nif (/Android (\\d+\\.\\d+)/.test(ua)){\n\tvar version = parseFloat(RegExp.$1);\n\tif(version>2.3){\n\t\tdocument.write('<meta name=\"viewport\" content=\"width=640, minimum-scale = '+phoneScale+', maximum-scale = '+phoneScale+', target-densitydpi=device-dpi\">');\n\t}else{\n\t\tdocument.write('<meta name=\"viewport\" content=\"width=640, target-densitydpi=device-dpi\">');\n\t}\n} else {\n\tdocument.write('<meta name=\"viewport\" content=\"width=640, user-scalable=no, target-densitydpi=device-dpi\">');\n}\n```\n\n\n\n\n- H5空白页基本meta标签\n```\n<!-- 设置缩放 -->\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1, user-scalable=no, minimal-ui\" />\n<!-- 可隐藏地址栏，仅针对IOS的Safari（注：IOS7.0版本以后，safari上已看不到效果） -->\n<meta name=\"apple-mobile-web-app-capable\" content=\"yes\" />\n<!-- 仅针对IOS的Safari顶端状态条的样式（可选default/black/black-translucent ） -->\n<meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black\" />\n<!-- IOS中禁用将数字识别为电话号码/忽略Android平台中对邮箱地址的识别 -->\n<meta name=\"format-detection\"content=\"telephone=no, email=no\" />\n```\n\n- PC端基础meta标签\n```\n<!-- 页面关键词-->\n<meta name=\"keywords\" content=\"your tags\" />\n<!-- 页面描述-->\n<meta name=\"description\" content=\"150 words\" />\n<!-- 搜索引擎索引方式：robotterms是一组使用逗号(,)分割的值，通常有如下几种取值：none，noindex，nofollow，all，index和follow。确保正确使用nofollow和noindex属性值。-->\n<meta name=\"robots\" content=\"index,follow\" />\n<!--\n    all：文件将被检索，且页面上的链接可以被查询；\n    none：文件将不被检索，且页面上的链接不可以被查询；\n    index：文件将被检索；\n    follow：页面上的链接可以被查询；\n    noindex：文件将不被检索；\n    nofollow：页面上的链接不可以被查询。\n -->\n \n <!-- 页面重定向和刷新：content内的数字代表时间（秒），既多少时间后刷新。如果加url,则会重定向到指定网页（搜索引擎能够自动检测，也很容易被引擎视作误导而受到惩罚）。-->\n <meta http-equiv=\"refresh\" content=\"0;url=\" />\n \n```\n\n- 页面缓存设置\n```\n<!-- 清除缓存 -->\n<meta http-equiv=\"pragma\" content=\"no-cache\">\n<meta http-equiv=\"cache-control\" content=\"no-cache\">\n<meta http-equiv=\"expires\" content=\"0\">   \n```\n\n- 其他meta标签\n```\n<!-- 启用360浏览器的极速模式(webkit) -->\n<meta name=\"renderer\" content=\"webkit\">\n<!-- 避免IE使用兼容模式 -->\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n<!-- 针对手持设备优化，主要是针对一些老的不识别viewport的浏览器，比如黑莓 -->\n<meta name=\"HandheldFriendly\" content=\"true\">\n<!-- 微软的老式浏览器 -->\n<meta name=\"MobileOptimized\" content=\"320\">\n<!-- uc强制竖屏 -->\n<meta name=\"screen-orientation\" content=\"portrait\">\n<!-- QQ强制竖屏 -->\n<meta name=\"x5-orientation\" content=\"portrait\">\n<!-- UC强制全屏 -->\n<meta name=\"full-screen\" content=\"yes\">\n<!-- QQ强制全屏 -->\n<meta name=\"x5-fullscreen\" content=\"true\">\n<!-- UC应用模式 -->\n<meta name=\"browsermode\" content=\"application\">\n<!-- QQ应用模式 -->\n<meta name=\"x5-page-mode\" content=\"app\">\n<!-- windows phone 点击无高光 -->\n<meta name=\"msapplication-tap-highlight\" content=\"no\">\n\n<meta name=\"author\" content=\"author name\" /> <!-- 定义网页作者 -->\n<meta name=\"google\" content=\"index,follow\" />\n<meta name=\"googlebot\" content=\"index,follow\" />\n<meta name=\"verify\" content=\"index,follow\" />\n```\n\n\n#### 常见问题：\n- 移动端如何定义字体font-family\n``` CSS\n@ --------------------------------------中文字体的英文名称\n@ 宋体      SimSun\n@ 黑体      SimHei\n@ 微信雅黑   Microsoft Yahei\n@ 微软正黑体 Microsoft JhengHei\n@ 新宋体    NSimSun\n@ 新细明体  MingLiU\n@ 细明体    MingLiU\n@ 标楷体    DFKai-SB\n@ 仿宋     FangSong\n@ 楷体     KaiTi\n@ 仿宋_GB2312  FangSong_GB2312\n@ 楷体_GB2312  KaiTi_GB2312  \n@\n@ 说明：中文字体多数使用宋体、雅黑，英文用Helvetica\n\nbody { font-family: Microsoft Yahei,SimSun,Helvetica; } \n```\n\n\n- 打电话发短信写邮件怎么实现\n``` HTML\n// 一、打电话\n<a href=\"tel:0755-10086\">打电话给:0755-10086</a>\n\n//  二、发短信，winphone系统无效\n<a href=\"sms:10086\">发短信给: 10086</a>\n\n// 三、写邮件\n//注：在添加这些功能时，第一个功能以\"?\"开头，后面的以\"&\"开头\n//1.普通邮件\n<a href=\"mailto:863139978@qq.com\">点击我发邮件</a>\n//2.收件地址后添加?cc=开头，可添加抄送地址（Android存在兼容问题）\n<a href=\"mailto:863139978@qq.com?cc=zhangqian0406@yeah.net\">点击我发邮件</a>\n//3.跟着抄送地址后，写上&bcc=,可添加密件抄送地址（Android存在兼容问题）\n<a href=\"mailto:863139978@qq.com?cc=zhangqian0406@yeah.net&bcc=384900096@qq.com\">点击我发邮件</a>\n//4.包含多个收件人、抄送、密件抄送人，用分号(;)隔开多个邮件人的地址\n<a href=\"mailto:863139978@qq.com;384900096@qq.com\">点击我发邮件</a>\n//5.包含主题，用?subject=\n<a href=\"mailto:863139978@qq.com?subject=邮件主题\">点击我发邮件</a>\n//6.包含内容，用?body=;如内容包含文本，使用%0A给文本换行 \n<a href=\"mailto:863139978@qq.com?body=邮件主题内容%0A腾讯诚信%0A期待您的到来\">点击我发邮件</a>\n//7.内容包含链接，含http(s)://等的文本自动转化为链接\n<a href=\"mailto:863139978@qq.com?body=http://www.baidu.com\">点击我发邮件</a>\n//8.内容包含图片（PC不支持）\n<a href=\"mailto:863139978@qq.com?body=<img src='images/1.jpg' />\">点击我发邮件</a>\n//9.完整示例\n<a href=\"mailto:863139978@qq.com;384900096@qq.com?cc=zhangqian0406@yeah.net&bcc=993233461@qq.com&subject=[邮件主题]&body=腾讯诚邀您参与%0A%0Ahttp://www.baidu.com%0A%0A<img src='images/1.jpg' />\">点击我发邮件</a>\n```\n\n\n- 移动端touch事件（区分webkit和winphone）\n```\n/* 当用户手指放在移动设备在屏幕上滑动会触发的touch事件 */\n// 以下支持webkit\ntouchstart——当手指触碰屏幕时候发生。不管当前有多少只手指\ntouchmove——当手指在屏幕上滑动时连续触发。通常我们再滑屏页面，会调用event的preventDefault()可以阻止默认情况的发生：阻止页面滚动\ntouchend——当手指离开屏幕时触发\ntouchcancel——系统停止跟踪触摸时候会触发。例如在触摸过程中突然页面alert()一个提示框，此时会触发该事件，这个事件比较少用\n\n//TouchEvent说明：\ntouches：屏幕上所有手指的信息\ntargetTouches：手指在目标区域的手指信息\nchangedTouches：最近一次触发该事件的手指信息\ntouchend时，touches与targetTouches信息会被删除，changedTouches保存的最后一次的信息，最好用于计算手指信息\n\n//参数信息(changedTouches[0])\nclientX、clientY在显示区的坐标\ntarget：当前元素\n\n//事件响应顺序\nontouchstart  > ontouchmove  > ontouchend > onclick\n\n// 以下支持winphone 8\nMSPointerDown——当手指触碰屏幕时候发生。不管当前有多少只手指\nMSPointerMove——当手指在屏幕上滑动时连续触发。通常我们再滑屏页面，会调用css的html{-ms-touch-action: none;}可以阻止默认情况的发生：阻止页面滚动\nMSPointerUp——当手指离开屏幕时触发\n```\n\n\n- 移动端click屏幕产生200-300ms的延时响应\n```\n说明：移动设备上的web网页是有300ms延迟的，玩玩会造成按钮点击延迟甚至是点击失效。\n\n以下是历史原因，来源一个公司内一个同事的分享：\n2007年苹果发布首款iphone上IOS系统搭载的safari为了将适用于PC端上大屏幕的网页能比较好的展示在手机端上，使用了双击缩放(double tap to zoom)的方案，比如你在手机上用浏览器打开一个PC上的网页，你可能在看到页面内容虽然可以撑满整个屏幕，但是字体、图片都很小看不清，此时可以快速双击屏幕上的某一部分，你就能看清该部分放大后的内容，再次双击后能回到原始状态。\n\n双击缩放是指用手指在屏幕上快速点击两次，iOS 自带的 Safari 浏览器会将网页缩放至原始比例。\n\n原因就出在浏览器需要如何判断快速点击上，当用户在屏幕上单击某一个元素时候，例如跳转链接<a href=\"#\"></a>，此处浏览器会先捕获该次单击，但浏览器不能决定用户是单纯要点击链接还是要双击该部分区域进行缩放操作，所以，捕获第一次单击后，浏览器会先Hold一段时间t，如果在t时间区间里用户未进行下一次点击，则浏览器会做单击跳转链接的处理，如果t时间里用户进行了第二次单击操作，则浏览器会禁止跳转，转而进行对该部分区域页面的缩放操作。那么这个时间区间t有多少呢？在IOS safari下，大概为300毫秒。这就是延迟的由来。造成的后果用户纯粹单击页面，页面需要过一段时间才响应，给用户慢体验感觉，对于web开发者来说是，页面js捕获click事件的回调函数处理，需要300ms后才生效，也就间接导致影响其他业务逻辑的处理。\n\n//解决方案：\nfastclick可以解决在手机上点击事件的300ms延迟\nzepto的touch模块，tap事件也是为了解决在click的延迟问题\n```\n\n\n- Rentina显示屏原理及设计方案\n```\n说明：retina屏是一种具备超高像素密度的液晶屏，同样大小的屏幕上显示的像素点由1个变为多个，如在同样带下的屏幕上，苹果设备的retina显示屏中，像素点1个变为4个。\n在高清显示屏中的位图被放大，图片会变得模糊，因此移动端的视觉稿通常会设计为传统PC的2倍。\n那么，前端的应对方案是：设计稿切出来的图片长宽保证为偶数，并使用backgroud-size把图片缩小为原来的1/2\n\n//例如图片宽高为：200px*200px，那么写法如下\n.css{width:100px;height:100px;background-size:100px 100px;}\n//其它元素的取值为原来的1/2，例如视觉稿40px的字体，使用样式的写法为20px\n.css{font-size:20px}\n\n//image-set设计Rentina背景图\nimage-set,webkit私有属性，也是CSS4的属性，为解决Rentina屏幕下的图像而生。\n.css {\n\tbackground: url(images/bg.jpg) no-repeat center;\n\tbackground: -webkit-image-set(\n\turl(images/bg.jpg) 1x,     //支持image-set普通屏\n\turl(images/bg-2x.jpg) 2x); //支持image-set的Rentinan\n}\n```\n\n\n- 点击元素产生背景或边框怎么去掉\n```\n//ios用户点击一个链接，会出现一个半透明灰色遮罩, 如果想要禁用，可设置-webkit-tap-highlight-color的alpha值为0去除灰色半透明遮罩；\n//android用户点击一个链接，会出现一个边框或者半透明灰色遮罩, 不同生产商定义出来额效果不一样，可设置-webkit-tap-highlight-color的alpha值为0去除部分机器自带的效果；\n//winphone系统,点击标签产生的灰色半透明背景，能通过设置<meta name=\"msapplication-tap-highlight\" content=\"no\">去掉；\n//特殊说明：有些机型去除不了，如小米2。对于按钮类还有个办法，不使用a或者input标签，直接用div标签\na,button,input,textarea { \n\t-webkit-tap-highlight-color: rgba(0,0,0,0); \n\t-webkit-user-modify:read-write-plaintext-only; //-webkit-user-modify有个副作用，就是输入法不再能够输入多个字符\n}   \n// 也可以 \n* { -webkit-tap-highlight-color: rgba(0,0,0,0); }\n//winphone下\n<meta name=\"msapplication-tap-highlight\" content=\"no\">\n```\n\n\n- 美化表单元素\n``` CSS\n//一、使用appearance改变webkit浏览器的默认外观\ninput,select { -webkit-appearance:none; appearance: none; }\n\n//二、winphone下，使用伪元素改变表单元素默认外观\n//1.禁用select默认箭头，::-ms-expand修改表单控件下拉箭头，设置隐藏并使用背景图片来修饰\nselect::-ms-expand { display:none; }\n\n//2.禁用radio和checkbox默认样式，::-ms-check修改表单复选框或单选框默认图标，设置隐藏并使用背景图片来修饰\ninput[type=radio]::-ms-check,\ninput[type=checkbox]::-ms-check { display:none; }\n\n//3.禁用pc端表单输入框默认清除按钮，::-ms-clear修改清除按钮，设置隐藏并使用背景图片来修饰\ninput[type=text]::-ms-clear,\ninput[type=tel]::-ms-clear,\ninput[type=number]::-ms-clear { display:none; }\n```\n\n\n- 移动端字体单位font-size选择px还是rem\n```\n// 如需适配多种移动设备，建议使用rem。以下为参考值：\nhtml { font-size: 62.5%; }   //10*16 = 62.5%\n//设置12px字体   这里注意在rem前要加上对应的px值，解决不支持rem的浏览器的兼容问题，做到优雅降级\nbody { font-size:12px; font-size:1.2rem; }     \n```\n\n\n- 超实用的CSS样式\n```\n//去掉webkit的滚动条——display: none;\n//其他参数\n::-webkit-scrollba //滚动条整体部分\n::-webkit-scrollbar-thumb   //滚动条内的小方块\n::-webkit-scrollbar-track   //滚动条轨道\n::-webkit-scrollbar-button  //滚动条轨道两端按钮\n::-webkit-scrollbar-track-piece  //滚动条中间部分，内置轨道\n::-webkit-scrollbar-corner       //边角，两个滚动条交汇处\n::-webkit-resizer            //两个滚动条的交汇处上用于通过拖动调整元素大小的小控件\n\n// 禁止长按链接与图片弹出菜单\na,img { -webkit-touch-callout: none }    \n\n// 禁止ios和android用户选中文字\nhtml,body {-webkit-user-select:none; user-select: none; }\n\n// 改变输入框placeholder的颜色值\n::-webkit-input-placeholder { /* WebKit browsers */\ncolor: #999; }\n:-moz-placeholder { /* Mozilla Firefox 4 to 18 */\ncolor: #999; }\n::-moz-placeholder { /* Mozilla Firefox 19+ */\ncolor: #999; }\n:-ms-input-placeholder { /* Internet Explorer 10+ */\ncolor: #999; }\ninput:focus::-webkit-input-placeholder{ color:#999; }\n\n// android上去掉语音输入按钮\ninput::-webkit-input-speech-button {display: none}\n\n// 阻止windows Phone的默认触摸事件\n/*说明：winphone下默认触摸事件事件使用e.preventDefault是无效的，可通过样式来禁用，如：*/\nhtml { -ms-touch-action:none; } //禁止winphone默认触摸事件\n```\n\n\n- 取消input在ios下，输入的时候英文首字母的默认大写\n``` HTML\n<input autocapitalize=\"off\" autocorrect=\"off\" />\n```\n\n\n- 手机拍照和上传图片\n```\n//IOS有拍照、录像、选取本地图片功能，部分Android只有选择本地图片功能。Winphone不支持\n<input type=\"file\" accept=\"images/*\" />\n<input type=\"file\" accept=\"video/*\" />\n```\n\n\n- 屏幕旋转的事件和样式\n``` JS&CSs\n//JS处理\nfunction orientInit(){\n\tvar orientChk = document.documentElement.clientWidth > document.documentElement.clientHeight?'landscape':'portrait';\n\tif(orientChk =='lapdscape'){\n\t\t//这里是横屏下需要执行的事件\n\t}else{\n\t\t//这里是竖屏下需要执行的事件\n\t}\n}\n\norientInit();\nwindow.addEventListener('onorientationchange' in window?'orientationchange':'resize', function(){\n\tsetTimeout(orientInit, 100);\n},false)\t\n\n//CSS处理\n//竖屏时样式\n@media all and (orientation:portrait){   }\n//横屏时样式\n@media all and (orientation:landscape){   }\n```\n\n\n- audio元素和video元素在ios和andriod中无法自动播放\n```\n//音频，写法一\n<audio src=\"music/bg.mp3\" autoplay loop controls>你的浏览器还不支持哦</audio>\n\n//音频，写法二\n<audio controls=\"controls\">\t\n\t<source src=\"music/bg.ogg\" type=\"audio/ogg\"></source>\n\t<source src=\"music/bg.mp3\" type=\"audio/mpeg\"></source>\n\t优先播放音乐bg.ogg，不支持在播放bg.mp3\n</audio>\n\n//JS绑定自动播放（操作window时，播放音乐）\n$(window).one('touchstart', function(){\n\tmusic.play();\n})\n\n//微信下兼容处理\ndocument.addEventListener(\"WeixinJSBridgeReady\", function () {\n    music.play();\n}, false);\n\n//小结\n//1.audio元素的autoplay属性在IOS及Android上无法使用，在PC端正常\n//2.audio元素没有设置controls时，在IOS及Android会占据空间大小，而在PC端Chrome是不会占据任何空间\n```\n\n- 重力感应事件\n```\n// 运用HTML5的deviceMotion，调用重力感应事件\nif(window.DeviceMotionEvent){\n\tdocument.addEventListener('devicemotion', deviceMotionHandler, false)\n}\t\n\nvar speed = 30;\nvar x = y = z = lastX = lastY = lastZ = 0;\nfunction deviceMotionHandler(eventData){\n\tvar acceleration = event.accelerationIncludingGravity;\n\tx = acceleration.x;\n\ty = acceleration.y; \n\tz = acceleration.z;\n\tif(Math.abs(x-lastX)>speed || Math.abs(y-lastY)>speed || Math.abs(z-lastZ)>speed ){\n\t\t//这里是摇动后要执行的方法 \n\t\tyaoAfter();\n\t}\n\tlastX = x;\n\tlastY = y;\n\tlastZ = z;\n}\n\nfunction yaoAfter(){\n\t//do something\n}\n\n//说明：说见案例摇一摇效果中yao.js\n```\n\n\n- 微信浏览器用户调整字体大小后页面矬了，怎么阻止用户调整\n```\n//以下代码可使Android机页面不再受用户字体缩放强制改变大小，但是会有1S左右延时，期间可以考虑loading来处理\nif (typeof(WeixinJSBridge) == \"undefined\") {\n\tdocument.addEventListener(\"WeixinJSBridgeReady\", function (e) {\n\t    setTimeout(function(){\n\t\t    WeixinJSBridge.invoke('setFontSizeCallback', { 'fontSize':0}, function(res){\n\t\t\t    alert(JSON.stringify(res));\n\t\t    })\n\t    }, 0)\n\t});\n}else{\t\n    setTimeout(function(){\n\t    WeixinJSBridge.invoke('setFontSizeCallback', { 'fontSize':0}, function(res){\n\t\t    alert(JSON.stringify(res));\n\t    })\n    }, 0)\t\n}\n\n//IOS下可使用 -webkit-text-size-adjust禁止用户调整字体大小\nbody { -webkit-text-size-adjust:100%!important; }\n\n//最好的解决方案：最好使用rem或百分比布局\n```\n\n- 定位的坑\n```\n//fixed定位\n//1.ios下fixed元素容易定位出错，软键盘弹出时，影响fixed元素定位\n//2.android下fixed表现要比iOS更好，软键盘弹出时，不会影响fixed元素定位\n//3.ios4下不支持position:fixed\n//解决方案：使用[Iscroll](http://cubiq.org/iscroll-5)，如：\n<div id=\"wrapper\">\n        <ul>\n               <li></li>\n               .....\n        </ul>\n</div>\n<script src=\"iscroll.js\"></script>\n<script>\n\tvar myscroll;\n\tfunction loaded(){\n\t\tmyscroll=new iScroll(\"wrapper\");\n\t}\n\twindow.addEventListener(\"DOMContentLoaded\",loaded,false);\n</script>\n\n\n//position定位\n//Android下弹出软键盘弹出时，影响absolute元素定位\n//解决方案:\nvar ua = navigator.userAgent.indexOf('Android');\nif(ua>-1){\n\t$('.ipt').on('focus', function(){\n\t\t$('.css').css({'visibility':'hidden'})\n\t}).on('blur', function(){\n\t\t$('.css').css({'visibility':'visible'})\n\t})\n}\n\n```\n\n\n- 播放视频不全屏\n``` HTML\n<!--\n1.ios7+支持自动播放\n2.支持Airplay的设备（如：音箱、Apple TV)播放\nx-webkit-airplay=\"true\" \n3.播放视频不全屏\nwebkit-playsinline=\"true\" \n-->\n<video x-webkit-airplay=\"true\" webkit-playsinline=\"true\" preload=\"auto\" autoplay src=\"http://\"></video>\n```\n\n- JS判断设备\n```\nfunction deviceType(){\n\tvar ua = navigator.userAgent;\n\tvar agent = [\"Android\", \"iPhone\", \"SymbianOS\", \"Windows Phone\", \"iPad\", \"iPod\"];\t\n\tfor(var i=0; i<len,len = agent.length; i++){\n\t\tif(ua.indexOf(agent[i])>0){\t\t\t\n\t\t\tbreak;\n\t\t}\n\t}\n}\ndeviceType();\nwindow.addEventListener('resize', function(){\n\tdeviceType();\n})\n```\n\n- JS判断微信浏览器\n```\nfunction isWeixin(){\n\tvar ua = navigator.userAgent.toLowerCase();\n\tif(ua.match(/MicroMessenger/i)=='micromessenger'){\n\t\treturn true;\n\t}else{\n\t\treturn false;\n\t}\n}\n```\n\n\n- android 2.3 bug\n```\n//1.@-webkit-keyframes 需要以0%开始100%结束，0%的百分号不能去掉\n//2.after和before伪类无法使用动画animation\n//3.border-radius不支持%单位，如要兼容，可以给radius设置一下较大的值\n//4.translate百分比的写法和scale在一起会导致失效，例如：\n-webkit-transform: translate(-50%,-50%) scale(-0.5, 1)\n```\n\n- android 4.x bug\n```\n//1.三星 Galaxy S4中自带浏览器不支持border-radius缩写\n//2.同时设置border-radius和背景色的时候，背景色会溢出到圆角以外部分\n//3.部分手机(如三星)，a链接支持鼠标:visited事件，也就是说链接访问后文字变为紫色\n//4.android无法同时播放多音频audio\n```\n\n\n- 消除transition闪屏\n``` CSS\n.css {\n\t-webkit-transform-style: preserve-3d;\n\t-webkit-backface-visibility: hidden;\n\t-webkit-perspective: 1000;\n}\n```\n\n\n- 开启硬件加速\n``` CSS\n//目前，像Chrome/Filefox/Safari/IE9+以及最新版本Opera都支持硬件加速，当检测到某个DOM元素应用了某些CSS规则时就会自动开启，从而解决页面闪白，保证动画流畅。\n.css {\n\t-webkit-transform: translate3d(0,0,0);\n\t-moz-transform: translate3d(0,0,0);\n\t-ms-transform: translate3d(0,0,0);\n\ttransform: translate3d(0,0,0);\n}\n```\n\n\n- 渲染优化\n```\n//1.禁止使用iframe（阻塞父文档onload事件）\n//2.禁止使用gif图片实现loading效果（降低CPU消耗，提升渲染性能）\n//使用CSS3代码代替JS动画；\n//开启GPU加速；\n//使用base64位编码图片(不小图而言，大图不建议使用)\n\t// 对于一些小图标，可以使用base64位编码，以减少网络请求。但不建议大图使用，比较耗费CPU。小图标优势在于：\n\t//1.减少HTTP请求；\n\t//2.避免文件跨域；\n\t//3.修改及时生效；\n``` \n\n\n- 腾讯方案\n``` javascript\nvar autoScale = function(){\n    var ratio = 320/504,   //这是设计稿的宽高比（504是Iphone的高度去掉标题栏高度）\n        winW = document.getElement.clientWidth,\n        winH = document.getElement.clientHeight,\n        ratio2 = winW/winH,\n        scale;\n    if(ratio<ratio2){\n        scale = (winH/504).toString().substring(0, 6);\n    }else{\n        scale = (winW/320).toString().substring(0, 6);  \n    }\n    var cssText = '-webkit-transform: scale('+scale+');-webkit-transform-origin: top; opacity:1;'  \n    $('.wrap').attr('style', cssText);\n}\nsetTimeout(function(){\n    if(document.documentElement.clientWidth/document.documentElement.clientHeight !== 320/504){\n        autoScale();\n    }else{\n        $('.page').css({'opacity': 1});\n    }\n}, 300)  //添加一定时长以确保宽高获取正确\nwindow.addEventListener('onorientationchange' in window?'orientationchange':'resize', autoScale, false){\n        detectOrientatioin();\n}   //切换横竖屏\n\nfunction detectOrientatioin(){\n    if(window.orientation==180 || window.orientation==0){\n        //竖屏\n    }\n    if(window.orientation==90 || window.orientation==-90){\n        //横屏\n    }\n}\n```\n\n\n#### 常用的移动端框架\nzepto.js\n\t- [官网](http://zeptojs.com/)\n\t- [中文网](http://www.css88.com/doc/zeptojs_api/)\n\t- [浏览器检测](https://github.com/madrobby/zepto/blob/master/src/detect.js)\n\t- [tap事件](https://github.com/madrobby/zepto/blob/master/src/touch.js)\n\t\n\n\n","slug":"h5-summary","published":1,"updated":"2017-02-09T03:07:44.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizj7zm6p0008oz3scdsnrvxo","content":"<p>偶然间看见 github 大神总结的 H5知识，学习了一波</p>\n<a id=\"more\"></a>\n<h3 id=\"H5项目常见问题及注意事项\"><a href=\"#H5项目常见问题及注意事项\" class=\"headerlink\" title=\"H5项目常见问题及注意事项\"></a>H5项目常见问题及注意事项</h3><h4 id=\"Meta基础知识：\"><a href=\"#Meta基础知识：\" class=\"headerlink\" title=\"Meta基础知识：\"></a>Meta基础知识：</h4><ul>\n<li><p>H5页面窗口自动调整到设备宽度，并禁止用户缩放页面</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//一、HTML页面结构</span></div><div class=\"line\">&lt;meta name=<span class=\"string\">\"viewport\"</span> content=<span class=\"string\">\"width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no\"</span> /&gt;</div><div class=\"line\"><span class=\"comment\">// width    设置viewport宽度，为一个正整数，或字符串‘device-width’</span></div><div class=\"line\"><span class=\"comment\">// height   设置viewport高度，一般设置了宽度，会自动解析出高度，可以不用设置</span></div><div class=\"line\"><span class=\"comment\">// initial-scale    默认缩放比例，为一个数字，可以带小数</span></div><div class=\"line\"><span class=\"comment\">// minimum-scale    允许用户最小缩放比例，为一个数字，可以带小数</span></div><div class=\"line\"><span class=\"comment\">// maximum-scale    允许用户最大缩放比例，为一个数字，可以带小数</span></div><div class=\"line\"><span class=\"comment\">// user-scalable    是否允许手动缩放</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//二、JS动态判断</span></div><div class=\"line\"><span class=\"keyword\">var</span> phoneWidth =  <span class=\"built_in\">parseInt</span>(<span class=\"built_in\">window</span>.screen.width);</div><div class=\"line\"><span class=\"keyword\">var</span> phoneScale = phoneWidth/<span class=\"number\">640</span>;</div><div class=\"line\"><span class=\"keyword\">var</span> ua = navigator.userAgent;</div><div class=\"line\"><span class=\"keyword\">if</span> (<span class=\"regexp\">/Android (\\d+\\.\\d+)/</span>.test(ua))&#123;</div><div class=\"line\">\t<span class=\"keyword\">var</span> version = <span class=\"built_in\">parseFloat</span>(<span class=\"built_in\">RegExp</span>.$<span class=\"number\">1</span>);</div><div class=\"line\">\t<span class=\"keyword\">if</span>(version&gt;<span class=\"number\">2.3</span>)&#123;</div><div class=\"line\">\t\t<span class=\"built_in\">document</span>.write(<span class=\"string\">'&lt;meta name=\"viewport\" content=\"width=640, minimum-scale = '</span>+phoneScale+<span class=\"string\">', maximum-scale = '</span>+phoneScale+<span class=\"string\">', target-densitydpi=device-dpi\"&gt;'</span>);</div><div class=\"line\">\t&#125;<span class=\"keyword\">else</span>&#123;</div><div class=\"line\">\t\t<span class=\"built_in\">document</span>.write(<span class=\"string\">'&lt;meta name=\"viewport\" content=\"width=640, target-densitydpi=device-dpi\"&gt;'</span>);</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125; <span class=\"keyword\">else</span> &#123;</div><div class=\"line\">\t<span class=\"built_in\">document</span>.write(<span class=\"string\">'&lt;meta name=\"viewport\" content=\"width=640, user-scalable=no, target-densitydpi=device-dpi\"&gt;'</span>);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>H5空白页基本meta标签</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;!-- 设置缩放 --&gt;</div><div class=\"line\">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, user-scalable=no, minimal-ui&quot; /&gt;</div><div class=\"line\">&lt;!-- 可隐藏地址栏，仅针对IOS的Safari（注：IOS7.0版本以后，safari上已看不到效果） --&gt;</div><div class=\"line\">&lt;meta name=&quot;apple-mobile-web-app-capable&quot; content=&quot;yes&quot; /&gt;</div><div class=\"line\">&lt;!-- 仅针对IOS的Safari顶端状态条的样式（可选default/black/black-translucent ） --&gt;</div><div class=\"line\">&lt;meta name=&quot;apple-mobile-web-app-status-bar-style&quot; content=&quot;black&quot; /&gt;</div><div class=\"line\">&lt;!-- IOS中禁用将数字识别为电话号码/忽略Android平台中对邮箱地址的识别 --&gt;</div><div class=\"line\">&lt;meta name=&quot;format-detection&quot;content=&quot;telephone=no, email=no&quot; /&gt;</div></pre></td></tr></table></figure>\n</li>\n<li><p>PC端基础meta标签</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;!-- 页面关键词--&gt;</div><div class=\"line\">&lt;meta name=&quot;keywords&quot; content=&quot;your tags&quot; /&gt;</div><div class=\"line\">&lt;!-- 页面描述--&gt;</div><div class=\"line\">&lt;meta name=&quot;description&quot; content=&quot;150 words&quot; /&gt;</div><div class=\"line\">&lt;!-- 搜索引擎索引方式：robotterms是一组使用逗号(,)分割的值，通常有如下几种取值：none，noindex，nofollow，all，index和follow。确保正确使用nofollow和noindex属性值。--&gt;</div><div class=\"line\">&lt;meta name=&quot;robots&quot; content=&quot;index,follow&quot; /&gt;</div><div class=\"line\">&lt;!--</div><div class=\"line\">    all：文件将被检索，且页面上的链接可以被查询；</div><div class=\"line\">    none：文件将不被检索，且页面上的链接不可以被查询；</div><div class=\"line\">    index：文件将被检索；</div><div class=\"line\">    follow：页面上的链接可以被查询；</div><div class=\"line\">    noindex：文件将不被检索；</div><div class=\"line\">    nofollow：页面上的链接不可以被查询。</div><div class=\"line\"> --&gt;</div><div class=\"line\"> </div><div class=\"line\"> &lt;!-- 页面重定向和刷新：content内的数字代表时间（秒），既多少时间后刷新。如果加url,则会重定向到指定网页（搜索引擎能够自动检测，也很容易被引擎视作误导而受到惩罚）。--&gt;</div><div class=\"line\"> &lt;meta http-equiv=&quot;refresh&quot; content=&quot;0;url=&quot; /&gt;</div></pre></td></tr></table></figure>\n</li>\n<li><p>页面缓存设置</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;!-- 清除缓存 --&gt;</div><div class=\"line\">&lt;meta http-equiv=&quot;pragma&quot; content=&quot;no-cache&quot;&gt;</div><div class=\"line\">&lt;meta http-equiv=&quot;cache-control&quot; content=&quot;no-cache&quot;&gt;</div><div class=\"line\">&lt;meta http-equiv=&quot;expires&quot; content=&quot;0&quot;&gt;</div></pre></td></tr></table></figure>\n</li>\n<li><p>其他meta标签</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;!-- 启用360浏览器的极速模式(webkit) --&gt;</div><div class=\"line\">&lt;meta name=&quot;renderer&quot; content=&quot;webkit&quot;&gt;</div><div class=\"line\">&lt;!-- 避免IE使用兼容模式 --&gt;</div><div class=\"line\">&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</div><div class=\"line\">&lt;!-- 针对手持设备优化，主要是针对一些老的不识别viewport的浏览器，比如黑莓 --&gt;</div><div class=\"line\">&lt;meta name=&quot;HandheldFriendly&quot; content=&quot;true&quot;&gt;</div><div class=\"line\">&lt;!-- 微软的老式浏览器 --&gt;</div><div class=\"line\">&lt;meta name=&quot;MobileOptimized&quot; content=&quot;320&quot;&gt;</div><div class=\"line\">&lt;!-- uc强制竖屏 --&gt;</div><div class=\"line\">&lt;meta name=&quot;screen-orientation&quot; content=&quot;portrait&quot;&gt;</div><div class=\"line\">&lt;!-- QQ强制竖屏 --&gt;</div><div class=\"line\">&lt;meta name=&quot;x5-orientation&quot; content=&quot;portrait&quot;&gt;</div><div class=\"line\">&lt;!-- UC强制全屏 --&gt;</div><div class=\"line\">&lt;meta name=&quot;full-screen&quot; content=&quot;yes&quot;&gt;</div><div class=\"line\">&lt;!-- QQ强制全屏 --&gt;</div><div class=\"line\">&lt;meta name=&quot;x5-fullscreen&quot; content=&quot;true&quot;&gt;</div><div class=\"line\">&lt;!-- UC应用模式 --&gt;</div><div class=\"line\">&lt;meta name=&quot;browsermode&quot; content=&quot;application&quot;&gt;</div><div class=\"line\">&lt;!-- QQ应用模式 --&gt;</div><div class=\"line\">&lt;meta name=&quot;x5-page-mode&quot; content=&quot;app&quot;&gt;</div><div class=\"line\">&lt;!-- windows phone 点击无高光 --&gt;</div><div class=\"line\">&lt;meta name=&quot;msapplication-tap-highlight&quot; content=&quot;no&quot;&gt;</div><div class=\"line\"></div><div class=\"line\">&lt;meta name=&quot;author&quot; content=&quot;author name&quot; /&gt; &lt;!-- 定义网页作者 --&gt;</div><div class=\"line\">&lt;meta name=&quot;google&quot; content=&quot;index,follow&quot; /&gt;</div><div class=\"line\">&lt;meta name=&quot;googlebot&quot; content=&quot;index,follow&quot; /&gt;</div><div class=\"line\">&lt;meta name=&quot;verify&quot; content=&quot;index,follow&quot; /&gt;</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<h4 id=\"常见问题：\"><a href=\"#常见问题：\" class=\"headerlink\" title=\"常见问题：\"></a>常见问题：</h4><ul>\n<li><p>移动端如何定义字体font-family</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\">@ --------------------------------------中文字体的英文名称</div><div class=\"line\">@ 宋体      SimSun</div><div class=\"line\">@ 黑体      SimHei</div><div class=\"line\">@ 微信雅黑   Microsoft Yahei</div><div class=\"line\">@ 微软正黑体 Microsoft JhengHei</div><div class=\"line\">@ 新宋体    NSimSun</div><div class=\"line\">@ 新细明体  MingLiU</div><div class=\"line\">@ 细明体    MingLiU</div><div class=\"line\">@ 标楷体    DFKai-SB</div><div class=\"line\">@ 仿宋     FangSong</div><div class=\"line\">@ 楷体     KaiTi</div><div class=\"line\">@ 仿宋_GB2312  FangSong_GB2312</div><div class=\"line\">@ 楷体_GB2312  KaiTi_GB2312  </div><div class=\"line\">@</div><div class=\"line\">@ 说明：中文字体多数使用宋体、雅黑，英文用Helvetica</div><div class=\"line\"></div><div class=\"line\">body &#123; <span class=\"selector-tag\">font-family</span>: <span class=\"selector-tag\">Microsoft</span> <span class=\"selector-tag\">Yahei</span>,<span class=\"selector-tag\">SimSun</span>,<span class=\"selector-tag\">Helvetica</span>; &#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>打电话发短信写邮件怎么实现</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">// 一、打电话</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"tel:0755-10086\"</span>&gt;</span>打电话给:0755-10086<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\">//  二、发短信，winphone系统无效</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"sms:10086\"</span>&gt;</span>发短信给: 10086<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\">// 三、写邮件</div><div class=\"line\">//注：在添加这些功能时，第一个功能以\"?\"开头，后面的以\"&amp;\"开头</div><div class=\"line\">//1.普通邮件</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"mailto:863139978@qq.com\"</span>&gt;</span>点击我发邮件<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">//2.收件地址后添加?cc=开头，可添加抄送地址（Android存在兼容问题）</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"mailto:863139978@qq.com?cc=zhangqian0406@yeah.net\"</span>&gt;</span>点击我发邮件<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">//3.跟着抄送地址后，写上&amp;bcc=,可添加密件抄送地址（Android存在兼容问题）</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"mailto:863139978@qq.com?cc=zhangqian0406@yeah.net&amp;bcc=384900096@qq.com\"</span>&gt;</span>点击我发邮件<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">//4.包含多个收件人、抄送、密件抄送人，用分号(;)隔开多个邮件人的地址</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"mailto:863139978@qq.com;384900096@qq.com\"</span>&gt;</span>点击我发邮件<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">//5.包含主题，用?subject=</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"mailto:863139978@qq.com?subject=邮件主题\"</span>&gt;</span>点击我发邮件<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">//6.包含内容，用?body=;如内容包含文本，使用%0A给文本换行 </div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"mailto:863139978@qq.com?body=邮件主题内容%0A腾讯诚信%0A期待您的到来\"</span>&gt;</span>点击我发邮件<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">//7.内容包含链接，含http(s)://等的文本自动转化为链接</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"mailto:863139978@qq.com?body=http://www.baidu.com\"</span>&gt;</span>点击我发邮件<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">//8.内容包含图片（PC不支持）</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"mailto:863139978@qq.com?body=&lt;img src='images/1.jpg' /&gt;\"</span>&gt;</span>点击我发邮件<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">//9.完整示例</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"mailto:863139978@qq.com;384900096@qq.com?cc=zhangqian0406@yeah.net&amp;bcc=993233461@qq.com&amp;subject=[邮件主题]&amp;body=腾讯诚邀您参与%0A%0Ahttp://www.baidu.com%0A%0A&lt;img src='images/1.jpg' /&gt;\"</span>&gt;</span>点击我发邮件<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div></pre></td></tr></table></figure>\n</li>\n<li><p>移动端touch事件（区分webkit和winphone）</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div></pre></td><td class=\"code\"><pre><div class=\"line\">/* 当用户手指放在移动设备在屏幕上滑动会触发的touch事件 */</div><div class=\"line\">// 以下支持webkit</div><div class=\"line\">touchstart——当手指触碰屏幕时候发生。不管当前有多少只手指</div><div class=\"line\">touchmove——当手指在屏幕上滑动时连续触发。通常我们再滑屏页面，会调用event的preventDefault()可以阻止默认情况的发生：阻止页面滚动</div><div class=\"line\">touchend——当手指离开屏幕时触发</div><div class=\"line\">touchcancel——系统停止跟踪触摸时候会触发。例如在触摸过程中突然页面alert()一个提示框，此时会触发该事件，这个事件比较少用</div><div class=\"line\"></div><div class=\"line\">//TouchEvent说明：</div><div class=\"line\">touches：屏幕上所有手指的信息</div><div class=\"line\">targetTouches：手指在目标区域的手指信息</div><div class=\"line\">changedTouches：最近一次触发该事件的手指信息</div><div class=\"line\">touchend时，touches与targetTouches信息会被删除，changedTouches保存的最后一次的信息，最好用于计算手指信息</div><div class=\"line\"></div><div class=\"line\">//参数信息(changedTouches[0])</div><div class=\"line\">clientX、clientY在显示区的坐标</div><div class=\"line\">target：当前元素</div><div class=\"line\"></div><div class=\"line\">//事件响应顺序</div><div class=\"line\">ontouchstart  &gt; ontouchmove  &gt; ontouchend &gt; onclick</div><div class=\"line\"></div><div class=\"line\">// 以下支持winphone 8</div><div class=\"line\">MSPointerDown——当手指触碰屏幕时候发生。不管当前有多少只手指</div><div class=\"line\">MSPointerMove——当手指在屏幕上滑动时连续触发。通常我们再滑屏页面，会调用css的html&#123;-ms-touch-action: none;&#125;可以阻止默认情况的发生：阻止页面滚动</div><div class=\"line\">MSPointerUp——当手指离开屏幕时触发</div></pre></td></tr></table></figure>\n</li>\n<li><p>移动端click屏幕产生200-300ms的延时响应</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">说明：移动设备上的web网页是有300ms延迟的，玩玩会造成按钮点击延迟甚至是点击失效。</div><div class=\"line\"></div><div class=\"line\">以下是历史原因，来源一个公司内一个同事的分享：</div><div class=\"line\">2007年苹果发布首款iphone上IOS系统搭载的safari为了将适用于PC端上大屏幕的网页能比较好的展示在手机端上，使用了双击缩放(double tap to zoom)的方案，比如你在手机上用浏览器打开一个PC上的网页，你可能在看到页面内容虽然可以撑满整个屏幕，但是字体、图片都很小看不清，此时可以快速双击屏幕上的某一部分，你就能看清该部分放大后的内容，再次双击后能回到原始状态。</div><div class=\"line\"></div><div class=\"line\">双击缩放是指用手指在屏幕上快速点击两次，iOS 自带的 Safari 浏览器会将网页缩放至原始比例。</div><div class=\"line\"></div><div class=\"line\">原因就出在浏览器需要如何判断快速点击上，当用户在屏幕上单击某一个元素时候，例如跳转链接&lt;a href=&quot;#&quot;&gt;&lt;/a&gt;，此处浏览器会先捕获该次单击，但浏览器不能决定用户是单纯要点击链接还是要双击该部分区域进行缩放操作，所以，捕获第一次单击后，浏览器会先Hold一段时间t，如果在t时间区间里用户未进行下一次点击，则浏览器会做单击跳转链接的处理，如果t时间里用户进行了第二次单击操作，则浏览器会禁止跳转，转而进行对该部分区域页面的缩放操作。那么这个时间区间t有多少呢？在IOS safari下，大概为300毫秒。这就是延迟的由来。造成的后果用户纯粹单击页面，页面需要过一段时间才响应，给用户慢体验感觉，对于web开发者来说是，页面js捕获click事件的回调函数处理，需要300ms后才生效，也就间接导致影响其他业务逻辑的处理。</div><div class=\"line\"></div><div class=\"line\">//解决方案：</div><div class=\"line\">fastclick可以解决在手机上点击事件的300ms延迟</div><div class=\"line\">zepto的touch模块，tap事件也是为了解决在click的延迟问题</div></pre></td></tr></table></figure>\n</li>\n<li><p>Rentina显示屏原理及设计方案</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\">说明：retina屏是一种具备超高像素密度的液晶屏，同样大小的屏幕上显示的像素点由1个变为多个，如在同样带下的屏幕上，苹果设备的retina显示屏中，像素点1个变为4个。</div><div class=\"line\">在高清显示屏中的位图被放大，图片会变得模糊，因此移动端的视觉稿通常会设计为传统PC的2倍。</div><div class=\"line\">那么，前端的应对方案是：设计稿切出来的图片长宽保证为偶数，并使用backgroud-size把图片缩小为原来的1/2</div><div class=\"line\"></div><div class=\"line\">//例如图片宽高为：200px*200px，那么写法如下</div><div class=\"line\">.css&#123;width:100px;height:100px;background-size:100px 100px;&#125;</div><div class=\"line\">//其它元素的取值为原来的1/2，例如视觉稿40px的字体，使用样式的写法为20px</div><div class=\"line\">.css&#123;font-size:20px&#125;</div><div class=\"line\"></div><div class=\"line\">//image-set设计Rentina背景图</div><div class=\"line\">image-set,webkit私有属性，也是CSS4的属性，为解决Rentina屏幕下的图像而生。</div><div class=\"line\">.css &#123;</div><div class=\"line\">\tbackground: url(images/bg.jpg) no-repeat center;</div><div class=\"line\">\tbackground: -webkit-image-set(</div><div class=\"line\">\turl(images/bg.jpg) 1x,     //支持image-set普通屏</div><div class=\"line\">\turl(images/bg-2x.jpg) 2x); //支持image-set的Rentinan</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>点击元素产生背景或边框怎么去掉</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">//ios用户点击一个链接，会出现一个半透明灰色遮罩, 如果想要禁用，可设置-webkit-tap-highlight-color的alpha值为0去除灰色半透明遮罩；</div><div class=\"line\">//android用户点击一个链接，会出现一个边框或者半透明灰色遮罩, 不同生产商定义出来额效果不一样，可设置-webkit-tap-highlight-color的alpha值为0去除部分机器自带的效果；</div><div class=\"line\">//winphone系统,点击标签产生的灰色半透明背景，能通过设置&lt;meta name=&quot;msapplication-tap-highlight&quot; content=&quot;no&quot;&gt;去掉；</div><div class=\"line\">//特殊说明：有些机型去除不了，如小米2。对于按钮类还有个办法，不使用a或者input标签，直接用div标签</div><div class=\"line\">a,button,input,textarea &#123; </div><div class=\"line\">\t-webkit-tap-highlight-color: rgba(0,0,0,0); </div><div class=\"line\">\t-webkit-user-modify:read-write-plaintext-only; //-webkit-user-modify有个副作用，就是输入法不再能够输入多个字符</div><div class=\"line\">&#125;   </div><div class=\"line\">// 也可以 </div><div class=\"line\">* &#123; -webkit-tap-highlight-color: rgba(0,0,0,0); &#125;</div><div class=\"line\">//winphone下</div><div class=\"line\">&lt;meta name=&quot;msapplication-tap-highlight&quot; content=&quot;no&quot;&gt;</div></pre></td></tr></table></figure>\n</li>\n<li><p>美化表单元素</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">//一、使用appearance改变webkit浏览器的默认外观</div><div class=\"line\">input,select &#123; -webkit-appearance:none; appearance: none; &#125;</div><div class=\"line\"></div><div class=\"line\">//二、winphone下，使用伪元素改变表单元素默认外观</div><div class=\"line\">//1.禁用select默认箭头，::-ms-expand修改表单控件下拉箭头，设置隐藏并使用背景图片来修饰</div><div class=\"line\">select::-ms-expand &#123; display:none; &#125;</div><div class=\"line\"></div><div class=\"line\">//2.禁用radio和checkbox默认样式，::-ms-check修改表单复选框或单选框默认图标，设置隐藏并使用背景图片来修饰</div><div class=\"line\">input[type=radio]::-ms-check,</div><div class=\"line\">input[type=checkbox]::-ms-check &#123; display:none; &#125;</div><div class=\"line\"></div><div class=\"line\">//3.禁用pc端表单输入框默认清除按钮，::-ms-clear修改清除按钮，设置隐藏并使用背景图片来修饰</div><div class=\"line\">input[type=text]::-ms-clear,</div><div class=\"line\">input[type=tel]::-ms-clear,</div><div class=\"line\">input[type=number]::-ms-clear &#123; display:none; &#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>移动端字体单位font-size选择px还是rem</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">// 如需适配多种移动设备，建议使用rem。以下为参考值：</div><div class=\"line\">html &#123; font-size: 62.5%; &#125;   //10*16 = 62.5%</div><div class=\"line\">//设置12px字体   这里注意在rem前要加上对应的px值，解决不支持rem的浏览器的兼容问题，做到优雅降级</div><div class=\"line\">body &#123; font-size:12px; font-size:1.2rem; &#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>超实用的CSS样式</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div></pre></td><td class=\"code\"><pre><div class=\"line\">//去掉webkit的滚动条——display: none;</div><div class=\"line\">//其他参数</div><div class=\"line\">::-webkit-scrollba //滚动条整体部分</div><div class=\"line\">::-webkit-scrollbar-thumb   //滚动条内的小方块</div><div class=\"line\">::-webkit-scrollbar-track   //滚动条轨道</div><div class=\"line\">::-webkit-scrollbar-button  //滚动条轨道两端按钮</div><div class=\"line\">::-webkit-scrollbar-track-piece  //滚动条中间部分，内置轨道</div><div class=\"line\">::-webkit-scrollbar-corner       //边角，两个滚动条交汇处</div><div class=\"line\">::-webkit-resizer            //两个滚动条的交汇处上用于通过拖动调整元素大小的小控件</div><div class=\"line\"></div><div class=\"line\">// 禁止长按链接与图片弹出菜单</div><div class=\"line\">a,img &#123; -webkit-touch-callout: none &#125;    </div><div class=\"line\"></div><div class=\"line\">// 禁止ios和android用户选中文字</div><div class=\"line\">html,body &#123;-webkit-user-select:none; user-select: none; &#125;</div><div class=\"line\"></div><div class=\"line\">// 改变输入框placeholder的颜色值</div><div class=\"line\">::-webkit-input-placeholder &#123; /* WebKit browsers */</div><div class=\"line\">color: #999; &#125;</div><div class=\"line\">:-moz-placeholder &#123; /* Mozilla Firefox 4 to 18 */</div><div class=\"line\">color: #999; &#125;</div><div class=\"line\">::-moz-placeholder &#123; /* Mozilla Firefox 19+ */</div><div class=\"line\">color: #999; &#125;</div><div class=\"line\">:-ms-input-placeholder &#123; /* Internet Explorer 10+ */</div><div class=\"line\">color: #999; &#125;</div><div class=\"line\">input:focus::-webkit-input-placeholder&#123; color:#999; &#125;</div><div class=\"line\"></div><div class=\"line\">// android上去掉语音输入按钮</div><div class=\"line\">input::-webkit-input-speech-button &#123;display: none&#125;</div><div class=\"line\"></div><div class=\"line\">// 阻止windows Phone的默认触摸事件</div><div class=\"line\">/*说明：winphone下默认触摸事件事件使用e.preventDefault是无效的，可通过样式来禁用，如：*/</div><div class=\"line\">html &#123; -ms-touch-action:none; &#125; //禁止winphone默认触摸事件</div></pre></td></tr></table></figure>\n</li>\n<li><p>取消input在ios下，输入的时候英文首字母的默认大写</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">autocapitalize</span>=<span class=\"string\">\"off\"</span> <span class=\"attr\">autocorrect</span>=<span class=\"string\">\"off\"</span> /&gt;</span></div></pre></td></tr></table></figure>\n</li>\n<li><p>手机拍照和上传图片</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">//IOS有拍照、录像、选取本地图片功能，部分Android只有选择本地图片功能。Winphone不支持</div><div class=\"line\">&lt;input type=&quot;file&quot; accept=&quot;images/*&quot; /&gt;</div><div class=\"line\">&lt;input type=&quot;file&quot; accept=&quot;video/*&quot; /&gt;</div></pre></td></tr></table></figure>\n</li>\n<li><p>屏幕旋转的事件和样式</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">//JS处理</div><div class=\"line\">function orientInit()&#123;</div><div class=\"line\">\tvar orientChk = document.documentElement.clientWidth &gt; document.documentElement.clientHeight?&apos;landscape&apos;:&apos;portrait&apos;;</div><div class=\"line\">\tif(orientChk ==&apos;lapdscape&apos;)&#123;</div><div class=\"line\">\t\t//这里是横屏下需要执行的事件</div><div class=\"line\">\t&#125;else&#123;</div><div class=\"line\">\t\t//这里是竖屏下需要执行的事件</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">orientInit();</div><div class=\"line\">window.addEventListener(&apos;onorientationchange&apos; in window?&apos;orientationchange&apos;:&apos;resize&apos;, function()&#123;</div><div class=\"line\">\tsetTimeout(orientInit, 100);</div><div class=\"line\">&#125;,false)\t</div><div class=\"line\"></div><div class=\"line\">//CSS处理</div><div class=\"line\">//竖屏时样式</div><div class=\"line\">@media all and (orientation:portrait)&#123;   &#125;</div><div class=\"line\">//横屏时样式</div><div class=\"line\">@media all and (orientation:landscape)&#123;   &#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>audio元素和video元素在ios和andriod中无法自动播放</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div></pre></td><td class=\"code\"><pre><div class=\"line\">//音频，写法一</div><div class=\"line\">&lt;audio src=&quot;music/bg.mp3&quot; autoplay loop controls&gt;你的浏览器还不支持哦&lt;/audio&gt;</div><div class=\"line\"></div><div class=\"line\">//音频，写法二</div><div class=\"line\">&lt;audio controls=&quot;controls&quot;&gt;\t</div><div class=\"line\">\t&lt;source src=&quot;music/bg.ogg&quot; type=&quot;audio/ogg&quot;&gt;&lt;/source&gt;</div><div class=\"line\">\t&lt;source src=&quot;music/bg.mp3&quot; type=&quot;audio/mpeg&quot;&gt;&lt;/source&gt;</div><div class=\"line\">\t优先播放音乐bg.ogg，不支持在播放bg.mp3</div><div class=\"line\">&lt;/audio&gt;</div><div class=\"line\"></div><div class=\"line\">//JS绑定自动播放（操作window时，播放音乐）</div><div class=\"line\">$(window).one(&apos;touchstart&apos;, function()&#123;</div><div class=\"line\">\tmusic.play();</div><div class=\"line\">&#125;)</div><div class=\"line\"></div><div class=\"line\">//微信下兼容处理</div><div class=\"line\">document.addEventListener(&quot;WeixinJSBridgeReady&quot;, function () &#123;</div><div class=\"line\">    music.play();</div><div class=\"line\">&#125;, false);</div><div class=\"line\"></div><div class=\"line\">//小结</div><div class=\"line\">//1.audio元素的autoplay属性在IOS及Android上无法使用，在PC端正常</div><div class=\"line\">//2.audio元素没有设置controls时，在IOS及Android会占据空间大小，而在PC端Chrome是不会占据任何空间</div></pre></td></tr></table></figure>\n</li>\n<li><p>重力感应事件</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">// 运用HTML5的deviceMotion，调用重力感应事件</div><div class=\"line\">if(window.DeviceMotionEvent)&#123;</div><div class=\"line\">\tdocument.addEventListener(&apos;devicemotion&apos;, deviceMotionHandler, false)</div><div class=\"line\">&#125;\t</div><div class=\"line\"></div><div class=\"line\">var speed = 30;</div><div class=\"line\">var x = y = z = lastX = lastY = lastZ = 0;</div><div class=\"line\">function deviceMotionHandler(eventData)&#123;</div><div class=\"line\">\tvar acceleration = event.accelerationIncludingGravity;</div><div class=\"line\">\tx = acceleration.x;</div><div class=\"line\">\ty = acceleration.y; </div><div class=\"line\">\tz = acceleration.z;</div><div class=\"line\">\tif(Math.abs(x-lastX)&gt;speed || Math.abs(y-lastY)&gt;speed || Math.abs(z-lastZ)&gt;speed )&#123;</div><div class=\"line\">\t\t//这里是摇动后要执行的方法 </div><div class=\"line\">\t\tyaoAfter();</div><div class=\"line\">\t&#125;</div><div class=\"line\">\tlastX = x;</div><div class=\"line\">\tlastY = y;</div><div class=\"line\">\tlastZ = z;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">function yaoAfter()&#123;</div><div class=\"line\">\t//do something</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">//说明：说见案例摇一摇效果中yao.js</div></pre></td></tr></table></figure>\n</li>\n<li><p>微信浏览器用户调整字体大小后页面矬了，怎么阻止用户调整</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">//以下代码可使Android机页面不再受用户字体缩放强制改变大小，但是会有1S左右延时，期间可以考虑loading来处理</div><div class=\"line\">if (typeof(WeixinJSBridge) == &quot;undefined&quot;) &#123;</div><div class=\"line\">\tdocument.addEventListener(&quot;WeixinJSBridgeReady&quot;, function (e) &#123;</div><div class=\"line\">\t    setTimeout(function()&#123;</div><div class=\"line\">\t\t    WeixinJSBridge.invoke(&apos;setFontSizeCallback&apos;, &#123; &apos;fontSize&apos;:0&#125;, function(res)&#123;</div><div class=\"line\">\t\t\t    alert(JSON.stringify(res));</div><div class=\"line\">\t\t    &#125;)</div><div class=\"line\">\t    &#125;, 0)</div><div class=\"line\">\t&#125;);</div><div class=\"line\">&#125;else&#123;\t</div><div class=\"line\">    setTimeout(function()&#123;</div><div class=\"line\">\t    WeixinJSBridge.invoke(&apos;setFontSizeCallback&apos;, &#123; &apos;fontSize&apos;:0&#125;, function(res)&#123;</div><div class=\"line\">\t\t    alert(JSON.stringify(res));</div><div class=\"line\">\t    &#125;)</div><div class=\"line\">    &#125;, 0)\t</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">//IOS下可使用 -webkit-text-size-adjust禁止用户调整字体大小</div><div class=\"line\">body &#123; -webkit-text-size-adjust:100%!important; &#125;</div><div class=\"line\"></div><div class=\"line\">//最好的解决方案：最好使用rem或百分比布局</div></pre></td></tr></table></figure>\n</li>\n<li><p>定位的坑</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div></pre></td><td class=\"code\"><pre><div class=\"line\">//fixed定位</div><div class=\"line\">//1.ios下fixed元素容易定位出错，软键盘弹出时，影响fixed元素定位</div><div class=\"line\">//2.android下fixed表现要比iOS更好，软键盘弹出时，不会影响fixed元素定位</div><div class=\"line\">//3.ios4下不支持position:fixed</div><div class=\"line\">//解决方案：使用[Iscroll](http://cubiq.org/iscroll-5)，如：</div><div class=\"line\">&lt;div id=&quot;wrapper&quot;&gt;</div><div class=\"line\">        &lt;ul&gt;</div><div class=\"line\">               &lt;li&gt;&lt;/li&gt;</div><div class=\"line\">               .....</div><div class=\"line\">        &lt;/ul&gt;</div><div class=\"line\">&lt;/div&gt;</div><div class=\"line\">&lt;script src=&quot;iscroll.js&quot;&gt;&lt;/script&gt;</div><div class=\"line\">&lt;script&gt;</div><div class=\"line\">\tvar myscroll;</div><div class=\"line\">\tfunction loaded()&#123;</div><div class=\"line\">\t\tmyscroll=new iScroll(&quot;wrapper&quot;);</div><div class=\"line\">\t&#125;</div><div class=\"line\">\twindow.addEventListener(&quot;DOMContentLoaded&quot;,loaded,false);</div><div class=\"line\">&lt;/script&gt;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">//position定位</div><div class=\"line\">//Android下弹出软键盘弹出时，影响absolute元素定位</div><div class=\"line\">//解决方案:</div><div class=\"line\">var ua = navigator.userAgent.indexOf(&apos;Android&apos;);</div><div class=\"line\">if(ua&gt;-1)&#123;</div><div class=\"line\">\t$(&apos;.ipt&apos;).on(&apos;focus&apos;, function()&#123;</div><div class=\"line\">\t\t$(&apos;.css&apos;).css(&#123;&apos;visibility&apos;:&apos;hidden&apos;&#125;)</div><div class=\"line\">\t&#125;).on(&apos;blur&apos;, function()&#123;</div><div class=\"line\">\t\t$(&apos;.css&apos;).css(&#123;&apos;visibility&apos;:&apos;visible&apos;&#125;)</div><div class=\"line\">\t&#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>播放视频不全屏</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">&lt;!--</span></div><div class=\"line\">1.ios7+支持自动播放</div><div class=\"line\">2.支持Airplay的设备（如：音箱、Apple TV)播放</div><div class=\"line\">x-webkit-airplay=\"true\" </div><div class=\"line\">3.播放视频不全屏</div><div class=\"line\">webkit-playsinline=\"true\" </div><div class=\"line\">--&gt;</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">video</span> <span class=\"attr\">x-webkit-airplay</span>=<span class=\"string\">\"true\"</span> <span class=\"attr\">webkit-playsinline</span>=<span class=\"string\">\"true\"</span> <span class=\"attr\">preload</span>=<span class=\"string\">\"auto\"</span> <span class=\"attr\">autoplay</span> <span class=\"attr\">src</span>=<span class=\"string\">\"http://\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">video</span>&gt;</span></div></pre></td></tr></table></figure>\n</li>\n<li><p>JS判断设备</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">function deviceType()&#123;</div><div class=\"line\">\tvar ua = navigator.userAgent;</div><div class=\"line\">\tvar agent = [&quot;Android&quot;, &quot;iPhone&quot;, &quot;SymbianOS&quot;, &quot;Windows Phone&quot;, &quot;iPad&quot;, &quot;iPod&quot;];\t</div><div class=\"line\">\tfor(var i=0; i&lt;len,len = agent.length; i++)&#123;</div><div class=\"line\">\t\tif(ua.indexOf(agent[i])&gt;0)&#123;\t\t\t</div><div class=\"line\">\t\t\tbreak;</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;</div><div class=\"line\">deviceType();</div><div class=\"line\">window.addEventListener(&apos;resize&apos;, function()&#123;</div><div class=\"line\">\tdeviceType();</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n</li>\n<li><p>JS判断微信浏览器</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">function isWeixin()&#123;</div><div class=\"line\">\tvar ua = navigator.userAgent.toLowerCase();</div><div class=\"line\">\tif(ua.match(/MicroMessenger/i)==&apos;micromessenger&apos;)&#123;</div><div class=\"line\">\t\treturn true;</div><div class=\"line\">\t&#125;else&#123;</div><div class=\"line\">\t\treturn false;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>android 2.3 bug</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">//1.@-webkit-keyframes 需要以0%开始100%结束，0%的百分号不能去掉</div><div class=\"line\">//2.after和before伪类无法使用动画animation</div><div class=\"line\">//3.border-radius不支持%单位，如要兼容，可以给radius设置一下较大的值</div><div class=\"line\">//4.translate百分比的写法和scale在一起会导致失效，例如：</div><div class=\"line\">-webkit-transform: translate(-50%,-50%) scale(-0.5, 1)</div></pre></td></tr></table></figure>\n</li>\n<li><p>android 4.x bug</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">//1.三星 Galaxy S4中自带浏览器不支持border-radius缩写</div><div class=\"line\">//2.同时设置border-radius和背景色的时候，背景色会溢出到圆角以外部分</div><div class=\"line\">//3.部分手机(如三星)，a链接支持鼠标:visited事件，也就是说链接访问后文字变为紫色</div><div class=\"line\">//4.android无法同时播放多音频audio</div></pre></td></tr></table></figure>\n</li>\n<li><p>消除transition闪屏</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-class\">.css</span> &#123;</div><div class=\"line\">\t<span class=\"attribute\">-webkit-transform-style</span>: preserve-<span class=\"number\">3</span>d;</div><div class=\"line\">\t<span class=\"attribute\">-webkit-backface-visibility</span>: hidden;</div><div class=\"line\">\t<span class=\"attribute\">-webkit-perspective</span>: <span class=\"number\">1000</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>开启硬件加速</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">//目前，像Chrome/Filefox/Safari/IE9+以及最新版本Opera都支持硬件加速，当检测到某个DOM元素应用了某些CSS规则时就会自动开启，从而解决页面闪白，保证动画流畅。</div><div class=\"line\">.css &#123;</div><div class=\"line\">\t-webkit-transform: translate3d(0,0,0);</div><div class=\"line\">\t-moz-transform: translate3d(0,0,0);</div><div class=\"line\">\t-ms-transform: translate3d(0,0,0);</div><div class=\"line\">\ttransform: translate3d(0,0,0);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>渲染优化</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div></pre></td><td class=\"code\"><pre><div class=\"line\">//1.禁止使用iframe（阻塞父文档onload事件）</div><div class=\"line\">//2.禁止使用gif图片实现loading效果（降低CPU消耗，提升渲染性能）</div><div class=\"line\">//使用CSS3代码代替JS动画；</div><div class=\"line\">//开启GPU加速；</div><div class=\"line\">//使用base64位编码图片(不小图而言，大图不建议使用)</div><div class=\"line\">\t// 对于一些小图标，可以使用base64位编码，以减少网络请求。但不建议大图使用，比较耗费CPU。小图标优势在于：</div><div class=\"line\">\t//1.减少HTTP请求；</div><div class=\"line\">\t//2.避免文件跨域；</div><div class=\"line\">\t//3.修改及时生效；</div><div class=\"line\">``` </div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">- 腾讯方案</div><div class=\"line\">``` javascript</div><div class=\"line\">var autoScale = function()&#123;</div><div class=\"line\">    var ratio = 320/504,   //这是设计稿的宽高比（504是Iphone的高度去掉标题栏高度）</div><div class=\"line\">        winW = document.getElement.clientWidth,</div><div class=\"line\">        winH = document.getElement.clientHeight,</div><div class=\"line\">        ratio2 = winW/winH,</div><div class=\"line\">        scale;</div><div class=\"line\">    if(ratio&lt;ratio2)&#123;</div><div class=\"line\">        scale = (winH/504).toString().substring(0, 6);</div><div class=\"line\">    &#125;else&#123;</div><div class=\"line\">        scale = (winW/320).toString().substring(0, 6);  </div><div class=\"line\">    &#125;</div><div class=\"line\">    var cssText = &apos;-webkit-transform: scale(&apos;+scale+&apos;);-webkit-transform-origin: top; opacity:1;&apos;  </div><div class=\"line\">    $(&apos;.wrap&apos;).attr(&apos;style&apos;, cssText);</div><div class=\"line\">&#125;</div><div class=\"line\">setTimeout(function()&#123;</div><div class=\"line\">    if(document.documentElement.clientWidth/document.documentElement.clientHeight !== 320/504)&#123;</div><div class=\"line\">        autoScale();</div><div class=\"line\">    &#125;else&#123;</div><div class=\"line\">        $(&apos;.page&apos;).css(&#123;&apos;opacity&apos;: 1&#125;);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;, 300)  //添加一定时长以确保宽高获取正确</div><div class=\"line\">window.addEventListener(&apos;onorientationchange&apos; in window?&apos;orientationchange&apos;:&apos;resize&apos;, autoScale, false)&#123;</div><div class=\"line\">        detectOrientatioin();</div><div class=\"line\">&#125;   //切换横竖屏</div><div class=\"line\"></div><div class=\"line\">function detectOrientatioin()&#123;</div><div class=\"line\">    if(window.orientation==180 || window.orientation==0)&#123;</div><div class=\"line\">        //竖屏</div><div class=\"line\">    &#125;</div><div class=\"line\">    if(window.orientation==90 || window.orientation==-90)&#123;</div><div class=\"line\">        //横屏</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<h4 id=\"常用的移动端框架\"><a href=\"#常用的移动端框架\" class=\"headerlink\" title=\"常用的移动端框架\"></a>常用的移动端框架</h4><p>zepto.js</p>\n<pre><code>- [官网](http://zeptojs.com/)\n- [中文网](http://www.css88.com/doc/zeptojs_api/)\n- [浏览器检测](https://github.com/madrobby/zepto/blob/master/src/detect.js)\n- [tap事件](https://github.com/madrobby/zepto/blob/master/src/touch.js)\n</code></pre>","excerpt":"<p>偶然间看见 github 大神总结的 H5知识，学习了一波</p>","more":"<h3 id=\"H5项目常见问题及注意事项\"><a href=\"#H5项目常见问题及注意事项\" class=\"headerlink\" title=\"H5项目常见问题及注意事项\"></a>H5项目常见问题及注意事项</h3><h4 id=\"Meta基础知识：\"><a href=\"#Meta基础知识：\" class=\"headerlink\" title=\"Meta基础知识：\"></a>Meta基础知识：</h4><ul>\n<li><p>H5页面窗口自动调整到设备宽度，并禁止用户缩放页面</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//一、HTML页面结构</span></div><div class=\"line\">&lt;meta name=<span class=\"string\">\"viewport\"</span> content=<span class=\"string\">\"width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no\"</span> /&gt;</div><div class=\"line\"><span class=\"comment\">// width    设置viewport宽度，为一个正整数，或字符串‘device-width’</span></div><div class=\"line\"><span class=\"comment\">// height   设置viewport高度，一般设置了宽度，会自动解析出高度，可以不用设置</span></div><div class=\"line\"><span class=\"comment\">// initial-scale    默认缩放比例，为一个数字，可以带小数</span></div><div class=\"line\"><span class=\"comment\">// minimum-scale    允许用户最小缩放比例，为一个数字，可以带小数</span></div><div class=\"line\"><span class=\"comment\">// maximum-scale    允许用户最大缩放比例，为一个数字，可以带小数</span></div><div class=\"line\"><span class=\"comment\">// user-scalable    是否允许手动缩放</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//二、JS动态判断</span></div><div class=\"line\"><span class=\"keyword\">var</span> phoneWidth =  <span class=\"built_in\">parseInt</span>(<span class=\"built_in\">window</span>.screen.width);</div><div class=\"line\"><span class=\"keyword\">var</span> phoneScale = phoneWidth/<span class=\"number\">640</span>;</div><div class=\"line\"><span class=\"keyword\">var</span> ua = navigator.userAgent;</div><div class=\"line\"><span class=\"keyword\">if</span> (<span class=\"regexp\">/Android (\\d+\\.\\d+)/</span>.test(ua))&#123;</div><div class=\"line\">\t<span class=\"keyword\">var</span> version = <span class=\"built_in\">parseFloat</span>(<span class=\"built_in\">RegExp</span>.$<span class=\"number\">1</span>);</div><div class=\"line\">\t<span class=\"keyword\">if</span>(version&gt;<span class=\"number\">2.3</span>)&#123;</div><div class=\"line\">\t\t<span class=\"built_in\">document</span>.write(<span class=\"string\">'&lt;meta name=\"viewport\" content=\"width=640, minimum-scale = '</span>+phoneScale+<span class=\"string\">', maximum-scale = '</span>+phoneScale+<span class=\"string\">', target-densitydpi=device-dpi\"&gt;'</span>);</div><div class=\"line\">\t&#125;<span class=\"keyword\">else</span>&#123;</div><div class=\"line\">\t\t<span class=\"built_in\">document</span>.write(<span class=\"string\">'&lt;meta name=\"viewport\" content=\"width=640, target-densitydpi=device-dpi\"&gt;'</span>);</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125; <span class=\"keyword\">else</span> &#123;</div><div class=\"line\">\t<span class=\"built_in\">document</span>.write(<span class=\"string\">'&lt;meta name=\"viewport\" content=\"width=640, user-scalable=no, target-densitydpi=device-dpi\"&gt;'</span>);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>H5空白页基本meta标签</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;!-- 设置缩放 --&gt;</div><div class=\"line\">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, user-scalable=no, minimal-ui&quot; /&gt;</div><div class=\"line\">&lt;!-- 可隐藏地址栏，仅针对IOS的Safari（注：IOS7.0版本以后，safari上已看不到效果） --&gt;</div><div class=\"line\">&lt;meta name=&quot;apple-mobile-web-app-capable&quot; content=&quot;yes&quot; /&gt;</div><div class=\"line\">&lt;!-- 仅针对IOS的Safari顶端状态条的样式（可选default/black/black-translucent ） --&gt;</div><div class=\"line\">&lt;meta name=&quot;apple-mobile-web-app-status-bar-style&quot; content=&quot;black&quot; /&gt;</div><div class=\"line\">&lt;!-- IOS中禁用将数字识别为电话号码/忽略Android平台中对邮箱地址的识别 --&gt;</div><div class=\"line\">&lt;meta name=&quot;format-detection&quot;content=&quot;telephone=no, email=no&quot; /&gt;</div></pre></td></tr></table></figure>\n</li>\n<li><p>PC端基础meta标签</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;!-- 页面关键词--&gt;</div><div class=\"line\">&lt;meta name=&quot;keywords&quot; content=&quot;your tags&quot; /&gt;</div><div class=\"line\">&lt;!-- 页面描述--&gt;</div><div class=\"line\">&lt;meta name=&quot;description&quot; content=&quot;150 words&quot; /&gt;</div><div class=\"line\">&lt;!-- 搜索引擎索引方式：robotterms是一组使用逗号(,)分割的值，通常有如下几种取值：none，noindex，nofollow，all，index和follow。确保正确使用nofollow和noindex属性值。--&gt;</div><div class=\"line\">&lt;meta name=&quot;robots&quot; content=&quot;index,follow&quot; /&gt;</div><div class=\"line\">&lt;!--</div><div class=\"line\">    all：文件将被检索，且页面上的链接可以被查询；</div><div class=\"line\">    none：文件将不被检索，且页面上的链接不可以被查询；</div><div class=\"line\">    index：文件将被检索；</div><div class=\"line\">    follow：页面上的链接可以被查询；</div><div class=\"line\">    noindex：文件将不被检索；</div><div class=\"line\">    nofollow：页面上的链接不可以被查询。</div><div class=\"line\"> --&gt;</div><div class=\"line\"> </div><div class=\"line\"> &lt;!-- 页面重定向和刷新：content内的数字代表时间（秒），既多少时间后刷新。如果加url,则会重定向到指定网页（搜索引擎能够自动检测，也很容易被引擎视作误导而受到惩罚）。--&gt;</div><div class=\"line\"> &lt;meta http-equiv=&quot;refresh&quot; content=&quot;0;url=&quot; /&gt;</div></pre></td></tr></table></figure>\n</li>\n<li><p>页面缓存设置</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;!-- 清除缓存 --&gt;</div><div class=\"line\">&lt;meta http-equiv=&quot;pragma&quot; content=&quot;no-cache&quot;&gt;</div><div class=\"line\">&lt;meta http-equiv=&quot;cache-control&quot; content=&quot;no-cache&quot;&gt;</div><div class=\"line\">&lt;meta http-equiv=&quot;expires&quot; content=&quot;0&quot;&gt;</div></pre></td></tr></table></figure>\n</li>\n<li><p>其他meta标签</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;!-- 启用360浏览器的极速模式(webkit) --&gt;</div><div class=\"line\">&lt;meta name=&quot;renderer&quot; content=&quot;webkit&quot;&gt;</div><div class=\"line\">&lt;!-- 避免IE使用兼容模式 --&gt;</div><div class=\"line\">&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</div><div class=\"line\">&lt;!-- 针对手持设备优化，主要是针对一些老的不识别viewport的浏览器，比如黑莓 --&gt;</div><div class=\"line\">&lt;meta name=&quot;HandheldFriendly&quot; content=&quot;true&quot;&gt;</div><div class=\"line\">&lt;!-- 微软的老式浏览器 --&gt;</div><div class=\"line\">&lt;meta name=&quot;MobileOptimized&quot; content=&quot;320&quot;&gt;</div><div class=\"line\">&lt;!-- uc强制竖屏 --&gt;</div><div class=\"line\">&lt;meta name=&quot;screen-orientation&quot; content=&quot;portrait&quot;&gt;</div><div class=\"line\">&lt;!-- QQ强制竖屏 --&gt;</div><div class=\"line\">&lt;meta name=&quot;x5-orientation&quot; content=&quot;portrait&quot;&gt;</div><div class=\"line\">&lt;!-- UC强制全屏 --&gt;</div><div class=\"line\">&lt;meta name=&quot;full-screen&quot; content=&quot;yes&quot;&gt;</div><div class=\"line\">&lt;!-- QQ强制全屏 --&gt;</div><div class=\"line\">&lt;meta name=&quot;x5-fullscreen&quot; content=&quot;true&quot;&gt;</div><div class=\"line\">&lt;!-- UC应用模式 --&gt;</div><div class=\"line\">&lt;meta name=&quot;browsermode&quot; content=&quot;application&quot;&gt;</div><div class=\"line\">&lt;!-- QQ应用模式 --&gt;</div><div class=\"line\">&lt;meta name=&quot;x5-page-mode&quot; content=&quot;app&quot;&gt;</div><div class=\"line\">&lt;!-- windows phone 点击无高光 --&gt;</div><div class=\"line\">&lt;meta name=&quot;msapplication-tap-highlight&quot; content=&quot;no&quot;&gt;</div><div class=\"line\"></div><div class=\"line\">&lt;meta name=&quot;author&quot; content=&quot;author name&quot; /&gt; &lt;!-- 定义网页作者 --&gt;</div><div class=\"line\">&lt;meta name=&quot;google&quot; content=&quot;index,follow&quot; /&gt;</div><div class=\"line\">&lt;meta name=&quot;googlebot&quot; content=&quot;index,follow&quot; /&gt;</div><div class=\"line\">&lt;meta name=&quot;verify&quot; content=&quot;index,follow&quot; /&gt;</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<h4 id=\"常见问题：\"><a href=\"#常见问题：\" class=\"headerlink\" title=\"常见问题：\"></a>常见问题：</h4><ul>\n<li><p>移动端如何定义字体font-family</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\">@ --------------------------------------中文字体的英文名称</div><div class=\"line\">@ 宋体      SimSun</div><div class=\"line\">@ 黑体      SimHei</div><div class=\"line\">@ 微信雅黑   Microsoft Yahei</div><div class=\"line\">@ 微软正黑体 Microsoft JhengHei</div><div class=\"line\">@ 新宋体    NSimSun</div><div class=\"line\">@ 新细明体  MingLiU</div><div class=\"line\">@ 细明体    MingLiU</div><div class=\"line\">@ 标楷体    DFKai-SB</div><div class=\"line\">@ 仿宋     FangSong</div><div class=\"line\">@ 楷体     KaiTi</div><div class=\"line\">@ 仿宋_GB2312  FangSong_GB2312</div><div class=\"line\">@ 楷体_GB2312  KaiTi_GB2312  </div><div class=\"line\">@</div><div class=\"line\">@ 说明：中文字体多数使用宋体、雅黑，英文用Helvetica</div><div class=\"line\"></div><div class=\"line\">body &#123; <span class=\"selector-tag\">font-family</span>: <span class=\"selector-tag\">Microsoft</span> <span class=\"selector-tag\">Yahei</span>,<span class=\"selector-tag\">SimSun</span>,<span class=\"selector-tag\">Helvetica</span>; &#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>打电话发短信写邮件怎么实现</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">// 一、打电话</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"tel:0755-10086\"</span>&gt;</span>打电话给:0755-10086<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\">//  二、发短信，winphone系统无效</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"sms:10086\"</span>&gt;</span>发短信给: 10086<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\">// 三、写邮件</div><div class=\"line\">//注：在添加这些功能时，第一个功能以\"?\"开头，后面的以\"&amp;\"开头</div><div class=\"line\">//1.普通邮件</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"mailto:863139978@qq.com\"</span>&gt;</span>点击我发邮件<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">//2.收件地址后添加?cc=开头，可添加抄送地址（Android存在兼容问题）</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"mailto:863139978@qq.com?cc=zhangqian0406@yeah.net\"</span>&gt;</span>点击我发邮件<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">//3.跟着抄送地址后，写上&amp;bcc=,可添加密件抄送地址（Android存在兼容问题）</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"mailto:863139978@qq.com?cc=zhangqian0406@yeah.net&amp;bcc=384900096@qq.com\"</span>&gt;</span>点击我发邮件<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">//4.包含多个收件人、抄送、密件抄送人，用分号(;)隔开多个邮件人的地址</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"mailto:863139978@qq.com;384900096@qq.com\"</span>&gt;</span>点击我发邮件<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">//5.包含主题，用?subject=</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"mailto:863139978@qq.com?subject=邮件主题\"</span>&gt;</span>点击我发邮件<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">//6.包含内容，用?body=;如内容包含文本，使用%0A给文本换行 </div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"mailto:863139978@qq.com?body=邮件主题内容%0A腾讯诚信%0A期待您的到来\"</span>&gt;</span>点击我发邮件<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">//7.内容包含链接，含http(s)://等的文本自动转化为链接</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"mailto:863139978@qq.com?body=http://www.baidu.com\"</span>&gt;</span>点击我发邮件<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">//8.内容包含图片（PC不支持）</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"mailto:863139978@qq.com?body=&lt;img src='images/1.jpg' /&gt;\"</span>&gt;</span>点击我发邮件<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">//9.完整示例</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"mailto:863139978@qq.com;384900096@qq.com?cc=zhangqian0406@yeah.net&amp;bcc=993233461@qq.com&amp;subject=[邮件主题]&amp;body=腾讯诚邀您参与%0A%0Ahttp://www.baidu.com%0A%0A&lt;img src='images/1.jpg' /&gt;\"</span>&gt;</span>点击我发邮件<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div></pre></td></tr></table></figure>\n</li>\n<li><p>移动端touch事件（区分webkit和winphone）</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div></pre></td><td class=\"code\"><pre><div class=\"line\">/* 当用户手指放在移动设备在屏幕上滑动会触发的touch事件 */</div><div class=\"line\">// 以下支持webkit</div><div class=\"line\">touchstart——当手指触碰屏幕时候发生。不管当前有多少只手指</div><div class=\"line\">touchmove——当手指在屏幕上滑动时连续触发。通常我们再滑屏页面，会调用event的preventDefault()可以阻止默认情况的发生：阻止页面滚动</div><div class=\"line\">touchend——当手指离开屏幕时触发</div><div class=\"line\">touchcancel——系统停止跟踪触摸时候会触发。例如在触摸过程中突然页面alert()一个提示框，此时会触发该事件，这个事件比较少用</div><div class=\"line\"></div><div class=\"line\">//TouchEvent说明：</div><div class=\"line\">touches：屏幕上所有手指的信息</div><div class=\"line\">targetTouches：手指在目标区域的手指信息</div><div class=\"line\">changedTouches：最近一次触发该事件的手指信息</div><div class=\"line\">touchend时，touches与targetTouches信息会被删除，changedTouches保存的最后一次的信息，最好用于计算手指信息</div><div class=\"line\"></div><div class=\"line\">//参数信息(changedTouches[0])</div><div class=\"line\">clientX、clientY在显示区的坐标</div><div class=\"line\">target：当前元素</div><div class=\"line\"></div><div class=\"line\">//事件响应顺序</div><div class=\"line\">ontouchstart  &gt; ontouchmove  &gt; ontouchend &gt; onclick</div><div class=\"line\"></div><div class=\"line\">// 以下支持winphone 8</div><div class=\"line\">MSPointerDown——当手指触碰屏幕时候发生。不管当前有多少只手指</div><div class=\"line\">MSPointerMove——当手指在屏幕上滑动时连续触发。通常我们再滑屏页面，会调用css的html&#123;-ms-touch-action: none;&#125;可以阻止默认情况的发生：阻止页面滚动</div><div class=\"line\">MSPointerUp——当手指离开屏幕时触发</div></pre></td></tr></table></figure>\n</li>\n<li><p>移动端click屏幕产生200-300ms的延时响应</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">说明：移动设备上的web网页是有300ms延迟的，玩玩会造成按钮点击延迟甚至是点击失效。</div><div class=\"line\"></div><div class=\"line\">以下是历史原因，来源一个公司内一个同事的分享：</div><div class=\"line\">2007年苹果发布首款iphone上IOS系统搭载的safari为了将适用于PC端上大屏幕的网页能比较好的展示在手机端上，使用了双击缩放(double tap to zoom)的方案，比如你在手机上用浏览器打开一个PC上的网页，你可能在看到页面内容虽然可以撑满整个屏幕，但是字体、图片都很小看不清，此时可以快速双击屏幕上的某一部分，你就能看清该部分放大后的内容，再次双击后能回到原始状态。</div><div class=\"line\"></div><div class=\"line\">双击缩放是指用手指在屏幕上快速点击两次，iOS 自带的 Safari 浏览器会将网页缩放至原始比例。</div><div class=\"line\"></div><div class=\"line\">原因就出在浏览器需要如何判断快速点击上，当用户在屏幕上单击某一个元素时候，例如跳转链接&lt;a href=&quot;#&quot;&gt;&lt;/a&gt;，此处浏览器会先捕获该次单击，但浏览器不能决定用户是单纯要点击链接还是要双击该部分区域进行缩放操作，所以，捕获第一次单击后，浏览器会先Hold一段时间t，如果在t时间区间里用户未进行下一次点击，则浏览器会做单击跳转链接的处理，如果t时间里用户进行了第二次单击操作，则浏览器会禁止跳转，转而进行对该部分区域页面的缩放操作。那么这个时间区间t有多少呢？在IOS safari下，大概为300毫秒。这就是延迟的由来。造成的后果用户纯粹单击页面，页面需要过一段时间才响应，给用户慢体验感觉，对于web开发者来说是，页面js捕获click事件的回调函数处理，需要300ms后才生效，也就间接导致影响其他业务逻辑的处理。</div><div class=\"line\"></div><div class=\"line\">//解决方案：</div><div class=\"line\">fastclick可以解决在手机上点击事件的300ms延迟</div><div class=\"line\">zepto的touch模块，tap事件也是为了解决在click的延迟问题</div></pre></td></tr></table></figure>\n</li>\n<li><p>Rentina显示屏原理及设计方案</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\">说明：retina屏是一种具备超高像素密度的液晶屏，同样大小的屏幕上显示的像素点由1个变为多个，如在同样带下的屏幕上，苹果设备的retina显示屏中，像素点1个变为4个。</div><div class=\"line\">在高清显示屏中的位图被放大，图片会变得模糊，因此移动端的视觉稿通常会设计为传统PC的2倍。</div><div class=\"line\">那么，前端的应对方案是：设计稿切出来的图片长宽保证为偶数，并使用backgroud-size把图片缩小为原来的1/2</div><div class=\"line\"></div><div class=\"line\">//例如图片宽高为：200px*200px，那么写法如下</div><div class=\"line\">.css&#123;width:100px;height:100px;background-size:100px 100px;&#125;</div><div class=\"line\">//其它元素的取值为原来的1/2，例如视觉稿40px的字体，使用样式的写法为20px</div><div class=\"line\">.css&#123;font-size:20px&#125;</div><div class=\"line\"></div><div class=\"line\">//image-set设计Rentina背景图</div><div class=\"line\">image-set,webkit私有属性，也是CSS4的属性，为解决Rentina屏幕下的图像而生。</div><div class=\"line\">.css &#123;</div><div class=\"line\">\tbackground: url(images/bg.jpg) no-repeat center;</div><div class=\"line\">\tbackground: -webkit-image-set(</div><div class=\"line\">\turl(images/bg.jpg) 1x,     //支持image-set普通屏</div><div class=\"line\">\turl(images/bg-2x.jpg) 2x); //支持image-set的Rentinan</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>点击元素产生背景或边框怎么去掉</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">//ios用户点击一个链接，会出现一个半透明灰色遮罩, 如果想要禁用，可设置-webkit-tap-highlight-color的alpha值为0去除灰色半透明遮罩；</div><div class=\"line\">//android用户点击一个链接，会出现一个边框或者半透明灰色遮罩, 不同生产商定义出来额效果不一样，可设置-webkit-tap-highlight-color的alpha值为0去除部分机器自带的效果；</div><div class=\"line\">//winphone系统,点击标签产生的灰色半透明背景，能通过设置&lt;meta name=&quot;msapplication-tap-highlight&quot; content=&quot;no&quot;&gt;去掉；</div><div class=\"line\">//特殊说明：有些机型去除不了，如小米2。对于按钮类还有个办法，不使用a或者input标签，直接用div标签</div><div class=\"line\">a,button,input,textarea &#123; </div><div class=\"line\">\t-webkit-tap-highlight-color: rgba(0,0,0,0); </div><div class=\"line\">\t-webkit-user-modify:read-write-plaintext-only; //-webkit-user-modify有个副作用，就是输入法不再能够输入多个字符</div><div class=\"line\">&#125;   </div><div class=\"line\">// 也可以 </div><div class=\"line\">* &#123; -webkit-tap-highlight-color: rgba(0,0,0,0); &#125;</div><div class=\"line\">//winphone下</div><div class=\"line\">&lt;meta name=&quot;msapplication-tap-highlight&quot; content=&quot;no&quot;&gt;</div></pre></td></tr></table></figure>\n</li>\n<li><p>美化表单元素</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">//一、使用appearance改变webkit浏览器的默认外观</div><div class=\"line\">input,select &#123; -webkit-appearance:none; appearance: none; &#125;</div><div class=\"line\"></div><div class=\"line\">//二、winphone下，使用伪元素改变表单元素默认外观</div><div class=\"line\">//1.禁用select默认箭头，::-ms-expand修改表单控件下拉箭头，设置隐藏并使用背景图片来修饰</div><div class=\"line\">select::-ms-expand &#123; display:none; &#125;</div><div class=\"line\"></div><div class=\"line\">//2.禁用radio和checkbox默认样式，::-ms-check修改表单复选框或单选框默认图标，设置隐藏并使用背景图片来修饰</div><div class=\"line\">input[type=radio]::-ms-check,</div><div class=\"line\">input[type=checkbox]::-ms-check &#123; display:none; &#125;</div><div class=\"line\"></div><div class=\"line\">//3.禁用pc端表单输入框默认清除按钮，::-ms-clear修改清除按钮，设置隐藏并使用背景图片来修饰</div><div class=\"line\">input[type=text]::-ms-clear,</div><div class=\"line\">input[type=tel]::-ms-clear,</div><div class=\"line\">input[type=number]::-ms-clear &#123; display:none; &#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>移动端字体单位font-size选择px还是rem</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">// 如需适配多种移动设备，建议使用rem。以下为参考值：</div><div class=\"line\">html &#123; font-size: 62.5%; &#125;   //10*16 = 62.5%</div><div class=\"line\">//设置12px字体   这里注意在rem前要加上对应的px值，解决不支持rem的浏览器的兼容问题，做到优雅降级</div><div class=\"line\">body &#123; font-size:12px; font-size:1.2rem; &#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>超实用的CSS样式</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div></pre></td><td class=\"code\"><pre><div class=\"line\">//去掉webkit的滚动条——display: none;</div><div class=\"line\">//其他参数</div><div class=\"line\">::-webkit-scrollba //滚动条整体部分</div><div class=\"line\">::-webkit-scrollbar-thumb   //滚动条内的小方块</div><div class=\"line\">::-webkit-scrollbar-track   //滚动条轨道</div><div class=\"line\">::-webkit-scrollbar-button  //滚动条轨道两端按钮</div><div class=\"line\">::-webkit-scrollbar-track-piece  //滚动条中间部分，内置轨道</div><div class=\"line\">::-webkit-scrollbar-corner       //边角，两个滚动条交汇处</div><div class=\"line\">::-webkit-resizer            //两个滚动条的交汇处上用于通过拖动调整元素大小的小控件</div><div class=\"line\"></div><div class=\"line\">// 禁止长按链接与图片弹出菜单</div><div class=\"line\">a,img &#123; -webkit-touch-callout: none &#125;    </div><div class=\"line\"></div><div class=\"line\">// 禁止ios和android用户选中文字</div><div class=\"line\">html,body &#123;-webkit-user-select:none; user-select: none; &#125;</div><div class=\"line\"></div><div class=\"line\">// 改变输入框placeholder的颜色值</div><div class=\"line\">::-webkit-input-placeholder &#123; /* WebKit browsers */</div><div class=\"line\">color: #999; &#125;</div><div class=\"line\">:-moz-placeholder &#123; /* Mozilla Firefox 4 to 18 */</div><div class=\"line\">color: #999; &#125;</div><div class=\"line\">::-moz-placeholder &#123; /* Mozilla Firefox 19+ */</div><div class=\"line\">color: #999; &#125;</div><div class=\"line\">:-ms-input-placeholder &#123; /* Internet Explorer 10+ */</div><div class=\"line\">color: #999; &#125;</div><div class=\"line\">input:focus::-webkit-input-placeholder&#123; color:#999; &#125;</div><div class=\"line\"></div><div class=\"line\">// android上去掉语音输入按钮</div><div class=\"line\">input::-webkit-input-speech-button &#123;display: none&#125;</div><div class=\"line\"></div><div class=\"line\">// 阻止windows Phone的默认触摸事件</div><div class=\"line\">/*说明：winphone下默认触摸事件事件使用e.preventDefault是无效的，可通过样式来禁用，如：*/</div><div class=\"line\">html &#123; -ms-touch-action:none; &#125; //禁止winphone默认触摸事件</div></pre></td></tr></table></figure>\n</li>\n<li><p>取消input在ios下，输入的时候英文首字母的默认大写</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">autocapitalize</span>=<span class=\"string\">\"off\"</span> <span class=\"attr\">autocorrect</span>=<span class=\"string\">\"off\"</span> /&gt;</span></div></pre></td></tr></table></figure>\n</li>\n<li><p>手机拍照和上传图片</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">//IOS有拍照、录像、选取本地图片功能，部分Android只有选择本地图片功能。Winphone不支持</div><div class=\"line\">&lt;input type=&quot;file&quot; accept=&quot;images/*&quot; /&gt;</div><div class=\"line\">&lt;input type=&quot;file&quot; accept=&quot;video/*&quot; /&gt;</div></pre></td></tr></table></figure>\n</li>\n<li><p>屏幕旋转的事件和样式</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">//JS处理</div><div class=\"line\">function orientInit()&#123;</div><div class=\"line\">\tvar orientChk = document.documentElement.clientWidth &gt; document.documentElement.clientHeight?&apos;landscape&apos;:&apos;portrait&apos;;</div><div class=\"line\">\tif(orientChk ==&apos;lapdscape&apos;)&#123;</div><div class=\"line\">\t\t//这里是横屏下需要执行的事件</div><div class=\"line\">\t&#125;else&#123;</div><div class=\"line\">\t\t//这里是竖屏下需要执行的事件</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">orientInit();</div><div class=\"line\">window.addEventListener(&apos;onorientationchange&apos; in window?&apos;orientationchange&apos;:&apos;resize&apos;, function()&#123;</div><div class=\"line\">\tsetTimeout(orientInit, 100);</div><div class=\"line\">&#125;,false)\t</div><div class=\"line\"></div><div class=\"line\">//CSS处理</div><div class=\"line\">//竖屏时样式</div><div class=\"line\">@media all and (orientation:portrait)&#123;   &#125;</div><div class=\"line\">//横屏时样式</div><div class=\"line\">@media all and (orientation:landscape)&#123;   &#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>audio元素和video元素在ios和andriod中无法自动播放</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div></pre></td><td class=\"code\"><pre><div class=\"line\">//音频，写法一</div><div class=\"line\">&lt;audio src=&quot;music/bg.mp3&quot; autoplay loop controls&gt;你的浏览器还不支持哦&lt;/audio&gt;</div><div class=\"line\"></div><div class=\"line\">//音频，写法二</div><div class=\"line\">&lt;audio controls=&quot;controls&quot;&gt;\t</div><div class=\"line\">\t&lt;source src=&quot;music/bg.ogg&quot; type=&quot;audio/ogg&quot;&gt;&lt;/source&gt;</div><div class=\"line\">\t&lt;source src=&quot;music/bg.mp3&quot; type=&quot;audio/mpeg&quot;&gt;&lt;/source&gt;</div><div class=\"line\">\t优先播放音乐bg.ogg，不支持在播放bg.mp3</div><div class=\"line\">&lt;/audio&gt;</div><div class=\"line\"></div><div class=\"line\">//JS绑定自动播放（操作window时，播放音乐）</div><div class=\"line\">$(window).one(&apos;touchstart&apos;, function()&#123;</div><div class=\"line\">\tmusic.play();</div><div class=\"line\">&#125;)</div><div class=\"line\"></div><div class=\"line\">//微信下兼容处理</div><div class=\"line\">document.addEventListener(&quot;WeixinJSBridgeReady&quot;, function () &#123;</div><div class=\"line\">    music.play();</div><div class=\"line\">&#125;, false);</div><div class=\"line\"></div><div class=\"line\">//小结</div><div class=\"line\">//1.audio元素的autoplay属性在IOS及Android上无法使用，在PC端正常</div><div class=\"line\">//2.audio元素没有设置controls时，在IOS及Android会占据空间大小，而在PC端Chrome是不会占据任何空间</div></pre></td></tr></table></figure>\n</li>\n<li><p>重力感应事件</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">// 运用HTML5的deviceMotion，调用重力感应事件</div><div class=\"line\">if(window.DeviceMotionEvent)&#123;</div><div class=\"line\">\tdocument.addEventListener(&apos;devicemotion&apos;, deviceMotionHandler, false)</div><div class=\"line\">&#125;\t</div><div class=\"line\"></div><div class=\"line\">var speed = 30;</div><div class=\"line\">var x = y = z = lastX = lastY = lastZ = 0;</div><div class=\"line\">function deviceMotionHandler(eventData)&#123;</div><div class=\"line\">\tvar acceleration = event.accelerationIncludingGravity;</div><div class=\"line\">\tx = acceleration.x;</div><div class=\"line\">\ty = acceleration.y; </div><div class=\"line\">\tz = acceleration.z;</div><div class=\"line\">\tif(Math.abs(x-lastX)&gt;speed || Math.abs(y-lastY)&gt;speed || Math.abs(z-lastZ)&gt;speed )&#123;</div><div class=\"line\">\t\t//这里是摇动后要执行的方法 </div><div class=\"line\">\t\tyaoAfter();</div><div class=\"line\">\t&#125;</div><div class=\"line\">\tlastX = x;</div><div class=\"line\">\tlastY = y;</div><div class=\"line\">\tlastZ = z;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">function yaoAfter()&#123;</div><div class=\"line\">\t//do something</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">//说明：说见案例摇一摇效果中yao.js</div></pre></td></tr></table></figure>\n</li>\n<li><p>微信浏览器用户调整字体大小后页面矬了，怎么阻止用户调整</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">//以下代码可使Android机页面不再受用户字体缩放强制改变大小，但是会有1S左右延时，期间可以考虑loading来处理</div><div class=\"line\">if (typeof(WeixinJSBridge) == &quot;undefined&quot;) &#123;</div><div class=\"line\">\tdocument.addEventListener(&quot;WeixinJSBridgeReady&quot;, function (e) &#123;</div><div class=\"line\">\t    setTimeout(function()&#123;</div><div class=\"line\">\t\t    WeixinJSBridge.invoke(&apos;setFontSizeCallback&apos;, &#123; &apos;fontSize&apos;:0&#125;, function(res)&#123;</div><div class=\"line\">\t\t\t    alert(JSON.stringify(res));</div><div class=\"line\">\t\t    &#125;)</div><div class=\"line\">\t    &#125;, 0)</div><div class=\"line\">\t&#125;);</div><div class=\"line\">&#125;else&#123;\t</div><div class=\"line\">    setTimeout(function()&#123;</div><div class=\"line\">\t    WeixinJSBridge.invoke(&apos;setFontSizeCallback&apos;, &#123; &apos;fontSize&apos;:0&#125;, function(res)&#123;</div><div class=\"line\">\t\t    alert(JSON.stringify(res));</div><div class=\"line\">\t    &#125;)</div><div class=\"line\">    &#125;, 0)\t</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">//IOS下可使用 -webkit-text-size-adjust禁止用户调整字体大小</div><div class=\"line\">body &#123; -webkit-text-size-adjust:100%!important; &#125;</div><div class=\"line\"></div><div class=\"line\">//最好的解决方案：最好使用rem或百分比布局</div></pre></td></tr></table></figure>\n</li>\n<li><p>定位的坑</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div></pre></td><td class=\"code\"><pre><div class=\"line\">//fixed定位</div><div class=\"line\">//1.ios下fixed元素容易定位出错，软键盘弹出时，影响fixed元素定位</div><div class=\"line\">//2.android下fixed表现要比iOS更好，软键盘弹出时，不会影响fixed元素定位</div><div class=\"line\">//3.ios4下不支持position:fixed</div><div class=\"line\">//解决方案：使用[Iscroll](http://cubiq.org/iscroll-5)，如：</div><div class=\"line\">&lt;div id=&quot;wrapper&quot;&gt;</div><div class=\"line\">        &lt;ul&gt;</div><div class=\"line\">               &lt;li&gt;&lt;/li&gt;</div><div class=\"line\">               .....</div><div class=\"line\">        &lt;/ul&gt;</div><div class=\"line\">&lt;/div&gt;</div><div class=\"line\">&lt;script src=&quot;iscroll.js&quot;&gt;&lt;/script&gt;</div><div class=\"line\">&lt;script&gt;</div><div class=\"line\">\tvar myscroll;</div><div class=\"line\">\tfunction loaded()&#123;</div><div class=\"line\">\t\tmyscroll=new iScroll(&quot;wrapper&quot;);</div><div class=\"line\">\t&#125;</div><div class=\"line\">\twindow.addEventListener(&quot;DOMContentLoaded&quot;,loaded,false);</div><div class=\"line\">&lt;/script&gt;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">//position定位</div><div class=\"line\">//Android下弹出软键盘弹出时，影响absolute元素定位</div><div class=\"line\">//解决方案:</div><div class=\"line\">var ua = navigator.userAgent.indexOf(&apos;Android&apos;);</div><div class=\"line\">if(ua&gt;-1)&#123;</div><div class=\"line\">\t$(&apos;.ipt&apos;).on(&apos;focus&apos;, function()&#123;</div><div class=\"line\">\t\t$(&apos;.css&apos;).css(&#123;&apos;visibility&apos;:&apos;hidden&apos;&#125;)</div><div class=\"line\">\t&#125;).on(&apos;blur&apos;, function()&#123;</div><div class=\"line\">\t\t$(&apos;.css&apos;).css(&#123;&apos;visibility&apos;:&apos;visible&apos;&#125;)</div><div class=\"line\">\t&#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>播放视频不全屏</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">&lt;!--</div><div class=\"line\">1.ios7+支持自动播放</div><div class=\"line\">2.支持Airplay的设备（如：音箱、Apple TV)播放</div><div class=\"line\">x-webkit-airplay=\"true\" </div><div class=\"line\">3.播放视频不全屏</div><div class=\"line\">webkit-playsinline=\"true\" </div><div class=\"line\">--&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">video</span> <span class=\"attr\">x-webkit-airplay</span>=<span class=\"string\">\"true\"</span> <span class=\"attr\">webkit-playsinline</span>=<span class=\"string\">\"true\"</span> <span class=\"attr\">preload</span>=<span class=\"string\">\"auto\"</span> <span class=\"attr\">autoplay</span> <span class=\"attr\">src</span>=<span class=\"string\">\"http://\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">video</span>&gt;</span></div></pre></td></tr></table></figure>\n</li>\n<li><p>JS判断设备</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">function deviceType()&#123;</div><div class=\"line\">\tvar ua = navigator.userAgent;</div><div class=\"line\">\tvar agent = [&quot;Android&quot;, &quot;iPhone&quot;, &quot;SymbianOS&quot;, &quot;Windows Phone&quot;, &quot;iPad&quot;, &quot;iPod&quot;];\t</div><div class=\"line\">\tfor(var i=0; i&lt;len,len = agent.length; i++)&#123;</div><div class=\"line\">\t\tif(ua.indexOf(agent[i])&gt;0)&#123;\t\t\t</div><div class=\"line\">\t\t\tbreak;</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;</div><div class=\"line\">deviceType();</div><div class=\"line\">window.addEventListener(&apos;resize&apos;, function()&#123;</div><div class=\"line\">\tdeviceType();</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n</li>\n<li><p>JS判断微信浏览器</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">function isWeixin()&#123;</div><div class=\"line\">\tvar ua = navigator.userAgent.toLowerCase();</div><div class=\"line\">\tif(ua.match(/MicroMessenger/i)==&apos;micromessenger&apos;)&#123;</div><div class=\"line\">\t\treturn true;</div><div class=\"line\">\t&#125;else&#123;</div><div class=\"line\">\t\treturn false;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>android 2.3 bug</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">//1.@-webkit-keyframes 需要以0%开始100%结束，0%的百分号不能去掉</div><div class=\"line\">//2.after和before伪类无法使用动画animation</div><div class=\"line\">//3.border-radius不支持%单位，如要兼容，可以给radius设置一下较大的值</div><div class=\"line\">//4.translate百分比的写法和scale在一起会导致失效，例如：</div><div class=\"line\">-webkit-transform: translate(-50%,-50%) scale(-0.5, 1)</div></pre></td></tr></table></figure>\n</li>\n<li><p>android 4.x bug</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">//1.三星 Galaxy S4中自带浏览器不支持border-radius缩写</div><div class=\"line\">//2.同时设置border-radius和背景色的时候，背景色会溢出到圆角以外部分</div><div class=\"line\">//3.部分手机(如三星)，a链接支持鼠标:visited事件，也就是说链接访问后文字变为紫色</div><div class=\"line\">//4.android无法同时播放多音频audio</div></pre></td></tr></table></figure>\n</li>\n<li><p>消除transition闪屏</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-class\">.css</span> &#123;</div><div class=\"line\">\t<span class=\"attribute\">-webkit-transform-style</span>: preserve-<span class=\"number\">3</span>d;</div><div class=\"line\">\t<span class=\"attribute\">-webkit-backface-visibility</span>: hidden;</div><div class=\"line\">\t<span class=\"attribute\">-webkit-perspective</span>: <span class=\"number\">1000</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>开启硬件加速</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">//目前，像Chrome/Filefox/Safari/IE9+以及最新版本Opera都支持硬件加速，当检测到某个DOM元素应用了某些CSS规则时就会自动开启，从而解决页面闪白，保证动画流畅。</div><div class=\"line\">.css &#123;</div><div class=\"line\">\t-webkit-transform: translate3d(0,0,0);</div><div class=\"line\">\t-moz-transform: translate3d(0,0,0);</div><div class=\"line\">\t-ms-transform: translate3d(0,0,0);</div><div class=\"line\">\ttransform: translate3d(0,0,0);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>渲染优化</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div></pre></td><td class=\"code\"><pre><div class=\"line\">//1.禁止使用iframe（阻塞父文档onload事件）</div><div class=\"line\">//2.禁止使用gif图片实现loading效果（降低CPU消耗，提升渲染性能）</div><div class=\"line\">//使用CSS3代码代替JS动画；</div><div class=\"line\">//开启GPU加速；</div><div class=\"line\">//使用base64位编码图片(不小图而言，大图不建议使用)</div><div class=\"line\">\t// 对于一些小图标，可以使用base64位编码，以减少网络请求。但不建议大图使用，比较耗费CPU。小图标优势在于：</div><div class=\"line\">\t//1.减少HTTP请求；</div><div class=\"line\">\t//2.避免文件跨域；</div><div class=\"line\">\t//3.修改及时生效；</div><div class=\"line\">``` </div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">- 腾讯方案</div><div class=\"line\">``` javascript</div><div class=\"line\">var autoScale = function()&#123;</div><div class=\"line\">    var ratio = 320/504,   //这是设计稿的宽高比（504是Iphone的高度去掉标题栏高度）</div><div class=\"line\">        winW = document.getElement.clientWidth,</div><div class=\"line\">        winH = document.getElement.clientHeight,</div><div class=\"line\">        ratio2 = winW/winH,</div><div class=\"line\">        scale;</div><div class=\"line\">    if(ratio&lt;ratio2)&#123;</div><div class=\"line\">        scale = (winH/504).toString().substring(0, 6);</div><div class=\"line\">    &#125;else&#123;</div><div class=\"line\">        scale = (winW/320).toString().substring(0, 6);  </div><div class=\"line\">    &#125;</div><div class=\"line\">    var cssText = &apos;-webkit-transform: scale(&apos;+scale+&apos;);-webkit-transform-origin: top; opacity:1;&apos;  </div><div class=\"line\">    $(&apos;.wrap&apos;).attr(&apos;style&apos;, cssText);</div><div class=\"line\">&#125;</div><div class=\"line\">setTimeout(function()&#123;</div><div class=\"line\">    if(document.documentElement.clientWidth/document.documentElement.clientHeight !== 320/504)&#123;</div><div class=\"line\">        autoScale();</div><div class=\"line\">    &#125;else&#123;</div><div class=\"line\">        $(&apos;.page&apos;).css(&#123;&apos;opacity&apos;: 1&#125;);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;, 300)  //添加一定时长以确保宽高获取正确</div><div class=\"line\">window.addEventListener(&apos;onorientationchange&apos; in window?&apos;orientationchange&apos;:&apos;resize&apos;, autoScale, false)&#123;</div><div class=\"line\">        detectOrientatioin();</div><div class=\"line\">&#125;   //切换横竖屏</div><div class=\"line\"></div><div class=\"line\">function detectOrientatioin()&#123;</div><div class=\"line\">    if(window.orientation==180 || window.orientation==0)&#123;</div><div class=\"line\">        //竖屏</div><div class=\"line\">    &#125;</div><div class=\"line\">    if(window.orientation==90 || window.orientation==-90)&#123;</div><div class=\"line\">        //横屏</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<h4 id=\"常用的移动端框架\"><a href=\"#常用的移动端框架\" class=\"headerlink\" title=\"常用的移动端框架\"></a>常用的移动端框架</h4><p>zepto.js</p>\n<pre><code>- [官网](http://zeptojs.com/)\n- [中文网](http://www.css88.com/doc/zeptojs_api/)\n- [浏览器检测](https://github.com/madrobby/zepto/blob/master/src/detect.js)\n- [tap事件](https://github.com/madrobby/zepto/blob/master/src/touch.js)\n</code></pre>"},{"title":"丁香园工作中一些常用的代码","date":"2016-09-09T08:04:22.000Z","_content":"\n\n本文主要是我入职以来在E-marketing项目中常用到的一些控件使用，兼容方法，交互效果的说明和使用方法，欢迎大家对本文进行更改或者补充，下文中所有`require()`的类库均可在各个E-marketing项目中找到，可以直接copy到自己项目中使用。\n<!--more-->\n# 目录\n1. *[判断是否IE8](#判断是否IE8)*\n2. *[IE8修复placeholder](#IE8修复placeholder)*\n3. *[IE8 box-shaadow兼容](#IE8 box-shadow兼容)*\n4. *[IE8 rgba兼容](#IE8 rgba兼容)*\n5. *[分享组件使用](#分享组件使用)*\n6. *[地址选择控件](#地址选择控件)*\n7. *[医院选择控件](#医院选择控件)*\n8. *[科室选择控件](#科室选择控件)*\n9. *[职称选择控件](#职称选择控件)*\n10. *[判断是否移动端](#判断是否移动端)*\n11. *[获取内页文章ID](#获取内页文章ID)*\n12. *[validate插件扩展](#validate插件扩展)*\n13. *[validate插件使用](#validate插件使用)*\n14. *[bxslider轮播图使用](#bxslider轮播图使用)*\n15. *[一般选项卡](#一般选项卡)*\n16. *[新窗口打开页面](#新窗口打开页面)*\n17. *[滚动到指定位置滑动动画](#滚动到指定位置滑动动画)*\n18. *[对话框控件使用](#对话框控件使用)*\n19. *[移动端PPT使用](#移动端PPT使用)*\n20. *[即将离开丁香园提示框](#即将离开丁香园提示框)*\n21. *[滚动条插件](#滚动条插件)*\n22. *[微信分享](#微信分享)*\n23. *[移动端多行显示省略号](#移动端多行显示省略号)*\n23. *[iframe高度自适应](#iframe高度自适应)*\n\n\n\n## <a name=\"判断是否IE8\"></a>1.判断是否IE8\n```js\n\nvar isIE=!!window.ActiveXObject; \nvar isIE8=isIE&&!!document.documentMode;\n//使用\nif(isIE8){\n    //do something\n}\n\n```\n## <a name=\"IE8修复placeholder\"></a>2.IE8修复placeholder\n```js\n\n//placeholder兼容\nvar JPlaceHolder = {\n  //检测\n  _check : function(){\n      return 'placeholder' in document.createElement('input');\n  },\n  //初始化\n  init : function(){\n      if(!this._check()){\n          this.fix();\n      }\n  },\n  //修复\n  fix : function(){\n      jQuery(':input[placeholder]').each(function(index, element) {\n          var self = $(this), txt = self.attr('placeholder');\n          self.attr('placeholder','');\n          self.wrap($('<div></div>').css({position:'relative', zoom:'1', border:'none', background:'none', padding:'none', margin:'none'}));\n          var pos = self.position(), h = self.outerHeight(true), paddingleft = self.css('padding-left');\n          var holder = $('<span></span>').text(txt).css({position:'absolute', left:pos.left, top:pos.top, height:h, lineHeight:h+'px', paddingLeft:paddingleft, color:'#aaa',width:'100%',display:'block'}).appendTo(self.parent());\n          self.focus(function(e) {\n              holder.hide();\n          }).blur(function(e) {\n              if(!self.val()){\n                  holder.show();\n              }\n          });\n          holder.click(function(e) {\n              holder.hide();\n              self.focus();\n          });\n      });\n  }\n};\n//使用\nJPlaceHolder.init();    \n\n```\n## <a name=\"IE8 box-shadow兼容\"></a>3.IE8 box-shadow兼容\n```css\n\n.shaded { \n    background-color: #fff;\n    zoom: 1; \n    filter: progid:DXImageTransform.Microsoft.Shadow(color='#aaaaaa', Direction=135, Strength=6);\n}\n\n```\n\n```js\n\n//使用\nif(isIE8){\n    $('选择器').addClass('shaded');\n}   \n\n```\n\n## <a name=\"IE8 rgba兼容\"></a>4.IE8 rgba兼容\n\n```css\n\n    //其格式为 #AARRGGBB 。 AA 、 RR 、 GG 、 BB 为十六进制正整数。取值范围为 00 - FF 。 RR 指定红色值， GG 指定绿色值， BB 指定蓝色值。\n    //参阅 #RRGGBB 颜色单位。 AA 指定透明度。 00 是完全透明。 FF 是完全不透明。超出取值范围的值将被恢复为默认值。\n    \n    filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#7f000000,endColorstr=#7f000000);\n    //使用，直接在css里面加入就好\n\n```\n## <a name=\"分享组件使用\"></a>5.分享组件使用\n\n```js\n\nvar share = require('./dxy_share.js');\n//使用\nvar shareContainer = $('放置容器'); //给一个放置容器，其他事情控件会帮你完成\n    if (shareContainer.length) {\n        shareContainer.attr('id','to-share');\n        new share().show({\n            id: 'to-share',\n            lst: ['weixin', 'sina', 'tt', 'qzone', 'douban'], //需要分享到的社区列表\n            style: 3    //有许多不同的样式可以选择\n        });\n}\n  //sina: '新浪微博',\n  //tt: '腾讯微博',\n  //douban: '豆瓣',\n  //renren: '人人网',\n  //qzone: 'QQ空间',\n  //idxy: '丁香客',\n  //kaixin: '开心网',\n  //weixin: '微信',\n  //favorite: '收藏夹'\n\n```\n\n现在已经被 DIYgod 优化更新，详细使用方法请见[dxy-share](https://github.com/dxy-biz-developer/dxy-share)   \n## <a name=\"地址选择控件\"></a>6.地址选择控件\n\n```js\n\nvar Cascading = require('../lib/Cascading.full.js');\n\n//桌面版地址\nvar cascadeLocation = new Cascading.Desktop({\n   type: 'common',\n   data: 'dataLocation',\n   dataUrl: 'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/location.js?t=123',\n   container: 'cascading-location-container',\n   additionClass: 'test',\n   maxLevel: 3,\n   maxSelect: 1,\n   ieFallback: true,\n   panelNames: ['省份', '城市', '区县'],\n   defaultSelected: [['150000', '150600', '150621'], ['130000', '130200', '130281']],\n   confirmCallback: function(data){\n       $('#edit-field-ge-city-und-0-value').next('.error').hide();\n       $('#edit-field-ge-city-und-0-value').val(data.pathName[0].join('>'));\n       if(isIE8 && $('#edit-field-ge-city-und-0-value').val()){\n           $('#edit-field-ge-city-und-0-value').next('span').hide();\n       }\n   }\n});\n$('#edit-field-ge-city-und-0-value').on('focus', function(e){\n   cascadeLocation.open();\n   this.blur();\n});\n//移动版地址\nvar cascadeLocationMobile = new Cascading.Mobile({\n   type: 'common',\n   data: 'dataLocation',\n   dataUrl: 'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/location.js?t=123',\n   container: 'cascading-location-mobile-container',\n   additionClass: 'test',\n   maxLevel: 3,\n   maxSelect: 1,\n   ieFallback: true,\n   panelNames: ['省份', '城市', '区县'],\n   defaultSelected: [['150000', '150600', '150621'], ['130000', '130200', '130281']],\n   confirmCallback: function(data){\n     $('#edit-field-ge-city-und-0-value').val(data.pathName[0].join('>'));\n     $('#edit-field-ge-city-und-0-value').next('.error').hide();\n   }\n });\n\n  $('#edit-field-ge-city-und-0-value').on('focus', function(e){\n    cascadeLocationMobile.open();\n    this.blur();\n\n  });\n\n```\n\n```html\n      \n//HTML内容\n<div class=\"bottom-input-box\">\n  <label for=\"\">邮寄地址</label>\n  <input class=\"bottom-input\" type=\"text\" id=\"edit-field-ge-address-und-0-value\" name=\"field_ge_address[und][0][value]\">\n</div>\n      \n```\n## <a name=\"医院选择控件\"></a>7.医院选择控件\n\n```js\n\n// 桌面版医院\nvar cascadeHospital = new Cascading.Desktop({\n     type: 'hospital',\n     data: 'dataLocation2Level',\n     dataUrl: 'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/location_2level.js?t=123',\n     panelNames: ['等级', '医院'],\n     panelWidth: ['30', '70'],\n     container: 'cascading-hospital-container',\n     defaultSelected: [['150000', '150600']],\n     ieFallback: true,\n     confirmCallback: function(data){\n             $('#edit-field-ge-hospital-und-0-value').next('.error').hide();\n         $('#edit-field-ge-hospital-und-0-value').val(data.name.join(','));\n         if(isIE8 && $('#edit-field-ge-hospital-und-0-value').val()){\n             $('#edit-field-ge-hospital-und-0-value').next('span').hide();\n         }\n\n     }\n });\n   $('#edit-field-ge-hospital-und-0-value').on('focus', function(e){\n      cascadeHospital.open();\n      this.blur();\n  });\n  //移动版医院\nvar cascadeHospitalMobile = new Cascading.Mobile({\n  type: 'hospital',\n  container: 'cascading-hospital-mobile-container',\n  additionClass: 'cascading-hospital-mobile-container-custom',\n  data: 'dataLocation2Level',\n  dataUrl: 'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/location_2level.js?t=123',\n  panelNames: ['等级', '医院'],\n  panelWidth: ['30', '70'],\n  defaultSelected: [['150000', '150600']],\n  ieFallback: true,\n  confirmCallback: function(data){\n   $('#edit-field-ge-hospital-und-0-value').val(data.name.join(','));\n    $('#edit-field-ge-hospital-und-0-value').next('.error').hide();\n\n   if(isIE8 && $('#edit-field-ge-hospital-und-0-value').val()){\n       $('#edit-field-ge-hospital-und-0-value').next('span').hide();\n   }\n\n}\n});\n $('#edit-field-ge-hospital-und-0-value').on('click', function(e){\n    cascadeHospitalMobile.open();\n    this.blur();\n});\n\n```\n\n```html\n            \n//HTML内容\n\n<div class=\"bottom-input-box\">\n  <label for=\"\">医院</label>\n  <input class=\"bottom-input\" type=\"text\" id=\"edit-field-ge-hospital-und-0-value\" name=\"field_ge_hospital[und][0][value]\">\n</div>   \n\n```\n\n## <a name=\"科室选择控件\"></a>8.科室选择控件\n\n```js\n\n// 桌面版科室\nvar cascadeDepartment = new Cascading.Desktop({\n   type: 'department',\n   data: 'dataDivision',\n   dataUrl: 'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/division.js',\n   container: 'cascading-department-container',\n   onlyLast: true,\n   additionClass: 'cascading-department-container',\n   maxSelect: 1,\n   ieFallback: true,\n   panelNames: ['科室', '科室二级'],\n   confirmCallback: function(data){\n       $('#edit-field-ge-section-und-0-value').next('.error').hide();\n       $('#edit-field-ge-section-und-0-value').val(data.pathName.join('>'));\n       if(isIE8 && $('#edit-field-ge-section-und-0-value').val()){\n         $('#edit-field-ge-section-und-0-value').next('span').hide();\n      }\n\n   }\n});\n\n$('#edit-field-ge-section-und-0-value').on('focus', function(e){\n cascadeDepartment.open();\n this.blur();\n});\n// 移动版科室\nvar cascadeDepartmentMobile = new Cascading.Mobile({\n  type: 'common',\n  data: 'dataDivision',\n  dataUrl: 'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/division.js',\n  container: 'cascading-depart-mobile-container',\n  confirmCallback: function(data){\n    $('#edit-field-ge-section-und-0-value').val(data.pathName.join('>'));\n    $('#edit-field-ge-section-und-0-value').next('.error').hide();\n\n    if(isIE8 && $('#edit-field-ge-section-und-0-value').val()){\n      $('#edit-field-ge-section-und-0-value').next('span').hide();\n    }\n\n  }\n});\n\n$('#edit-field-ge-section-und-0-value').on('focus', function(e){\n cascadeDepartmentMobile.open();\n this.blur();\n});\n\n```\n\n```html      \n              \n//HTML内容\n<div class=\"bottom-input-box\">\n  <label for=\"\">科室</label>\n  <input class=\"bottom-input\" type=\"text\" id=\"edit-field-ge-section-und-0-value\" name=\"field_ge_section[und][0][value]\">\n</div>\n\n```\n## <a name=\"职称选择控件\"></a>9.职称选择控件\n\n```js\n\n// 桌面版职称\n   var cascadeTitle = new Cascading.Desktop({\n     type: 'common',\n     data: 'dataTitle',\n     dataUrl: 'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/title.js',\n     container: 'cascading-title-container',\n     additionClass: 'test',\n     ieFallback: true,\n     confirmCallback: function(data){\n        $('[name=\"field_ge_jobtitle[und][0][value]\"]').next('.error').hide();\n         $('[name=\"field_ge_jobtitle[und][0][value]\"]').val(data.pathName[0].join('>'));\n         if(isIE8 && $('[name=\"field_ge_jobtitle[und][0][value]\"]').val()){\n             $('[name=\"field_ge_jobtitle[und][0][value]\"]').next('span').hide();\n         }\n\n     }\n });\n\n$('[name=\"field_ge_jobtitle[und][0][value]\"]').on('focus', function(e){\n cascadeTitle.open();\n this.blur();\n});\n// 移动版职称\nvar cascadeTitleMobile = new Cascading.Mobile({\n   type: 'common',\n   data: 'dataTitle',\n   dataUrl: 'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/title.js',\n   container: 'cascading-title-mobile-container',\n   additionClass: 'test',\n   ieFallback: true,\n   confirmCallback: function(data){\n     $('[name=\"field_ge_jobtitle[und][0][value]\"]').next('.error').hide();\n     $('[name=\"field_ge_jobtitle[und][0][value]\"]').val(data.pathName[0].join('>'));\n     if(isIE8 && $('[name=\"field_ge_jobtitle[und][0][value]\"]').val()){\n         $('[name=\"field_ge_jobtitle[und][0][value]\"]').next('span').hide();\n     }\n\n }\n});\n\n$('[name=\"field_ge_jobtitle[und][0][value]\"]').on('focus', function(e){\n cascadeTitleMobile.open();\n this.blur();\n});\n\n```\n\n```html\n                    \n//HTML内容\n<div class=\"bottom-input-box\">\n  <label for=\"\">职称</label>\n  <input class=\"bottom-input\" type=\"text\" id=\"edit-field-ge-job-und-0-value\" name=\"field_ge_jobtitle[und][0][value]\">\n</div>\n\n```\n\n## <a name=\"判断是否移动端\"></a>10.判断是否移动端\n```js\n\nvar isMobile = /mobile|dxyapp/i.test(window.navigator.userAgent);\n//使用\nif(isMobile){\n    //do someting\n}\n\n```\n## <a name=\"获取内页文章ID\"></a>11.获取内页文章ID\n```js\n\nfunction getContentId() {\n    var match = $('body').attr('class').match(/page-node-(\\d+)/);\n    return match ? match[1] : -1;\n};\n//使用\nvar getId = getContentId();\n\n```\n## <a name=\"validate插件扩展\"></a>12.validate插件扩展\n\n```js\n\n//将该段代码写在validate.min.js最后来增加自定义扩展\njQuery.extend(jQuery.validator.messages, {\n    required: \"此项必填\",\n    chineseName: \"请输入正确的中文名\",\n    mobileNumber: \"请输入正确的手机号码\",\n    remote: \"请重新输入\",\n    email: \"请输入正确的电子邮件\",\n    url: \"请输入正确的网址\",\n    date: \"请输入正确的日期\",\n    dateISO: \"请输入正确的日期\",\n    number: \"请输入正确的数字\",\n    digits: \"只能输入整数\",\n    creditcard: \"请输入正确的信用卡号\",\n    equalTo: \"请再输一次\",\n    accept: \"不支持上传该附件类型\",\n    filesize:\"文件太大\",\n    maxlength: jQuery.validator.format(\"长度最多为 {0} 位\"),\n    minlength: jQuery.validator.format(\"长度最少为 {0}位\"),\n    rangelength: jQuery.validator.format(\"长度介于 {0} 位和 {1} 位之间\"),\n    range: jQuery.validator.format(\"大小介于 {0} 和 {1} 之间\"),\n    max: jQuery.validator.format(\"最大为 {0} \"),\n    min: jQuery.validator.format(\"最小为 {0} \")\n});\n\n// 中文名\njQuery.validator.addMethod(\"chineseName\", function(value, element) {\n    return this.optional(element) || /^[\\u4E00-\\u9FA5]{2,5}$/.test(value);\n}, '请输入正确的中文名');\n\n// 手机号码\njQuery.validator.addMethod(\"mobileNumber\", function(value, element) {\n    return this.optional(element) || /^(13[0-9]|15[0-35-9]|18[0-9]|17[06-8]|14[57])\\d{8}$/.test(value);\n}, '请输入正确的手机号码');\n\n//电话的验证      \njQuery.validator.addMethod(\"isPhone\",function(value,element) { \n        var length = value.length;   \n        var mobile = /^(13[0-9]|15[0-35-9]|18[0-9]|17[06-8]|14[57])\\d{8}$/;   \n        var tel = /^((\\(\\d{2,3}\\))|(\\d{3}\\-))?(\\(0\\d{2,3}\\)|0\\d{2,3}-)?[1-9]\\d{6,7}(\\-\\d{1,4})?$/;   \n        return this.optional(element) || (tel.test(value) ||  (length == 11 && mobile.test(value))); \n}, \"请输入正确的联系电话\");\n\njQuery.validator.addMethod(\"extension\", function(value, element, param) {\n    param = typeof param === \"string\" ? param.replace(/,/g, '|') : \"png|jpe?g|gif\";\n    return this.optional(element) || value.match(new RegExp(\"\\\\.(\" + param + \")$\", \"i\"));\n}, jQuery.format(\"请选择正确的文件格式\"));\n\n//邮编 \njQuery.validator.addMethod(\"postcode\", function(value, element) {\n    return this.optional(element) || /^[1-9]\\d{5}$/.test(value);\n}, '请输入正确的邮编');\n//身份证 \njQuery.validator.addMethod(\"identitycard\", function(value, element) {\n    return this.optional(element) || /^(\\d{15}$|^\\d{18}$|^\\d{17}(\\d|X|x))$/.test(value);\n}, '请输入正确的身份证号');\n//文件大小\n$.validator.addMethod('filesize', function(value, element, param) {\n    //以bytes为单位\n    return this.optional(element) || (element.files[0].size <= param) \n});\n\n//改变错误提示的标签\njQuery.validator.defaults.errorElement = 'span';\n\n```\n## <a name=\"validate插件使用\"></a>13.validate插件使用\n```js\n\nvar caseForm = $('表单'); //获取表单元素\nif(!caseForm.length) {\n          return;\n  }\n  caseForm.validate({\n      focusCleanup:true,\n      rules: {\n        //这里的title均为name属性值\n          'title': {required: true},\n          'field_realname[und][0][value]': {required: true},\n          'field_job[und][0][value]': {required: true},\n          'field_address[und][0][value]': {required: true},\n          'field_phone[und][0][value]': {required: true, mobileNumber: true},\n          'field_location[und][0][value]': {required: true},\n          'field_company[und][0][value]': {required: true},\n          'field_department[und][0][value]': {required: true},\n          'field_email[und][0][value]': {required: true, email: true},\n          'files[field_file_und_0]': {required: true,accept:'docx|doc|pdf|ppt|pptx',filesize:20971520}\n      },\n      messages: {\n          'title': {\n              required: '请输入标题'\n          },\n          'field_realname[und][0][value]': {\n              required: '请输入姓名'\n          },\n          'field_job[und][0][value]': {\n              required: '请输入职称'\n          },\n          'field_address[und][0][value]': {\n              required: '请输入通讯地址'\n          },\n          'field_phone[und][0][value]': {\n              required: '请输入电话或者手机号码'\n          },\n          'field_location[und][0][value]': {\n              required: '请选择地区'\n          },\n          'field_company[und][0][value]': {\n              required: '请选择工作单位'\n          },\n          'field_department[und][0][value]': {\n              required: '请选择所在科室'\n          },\n          'field_email[und][0][value]': {\n              required: '请输入电子邮箱'\n          },\n          'files[field_file_und_0]': {\n              required: '请上传文件',\n              accept:'不支持该文件类型',\n              filesize:'文件太大'\n          }\n      },\n      errorPlacement: function(error, element){\n          error.appendTo(element.closest('放置错误信息的容器'));\n      },\n      submitHandler:function(form)\n      {\n          form.submit();\n      }\n  });\n\n```\n## <a name=\"bxslider轮播图使用\"></a>14.bxslider轮播图使用\n```js\n\nrequire('../lib/jquery.bxslider.js');\n\nvar slider = $('放置轮播图的容器');\nif (slider.length) {\n    slider.bxSlider({\n        auto:true,\n        minSlides: 1,\n        maxSlides: 1,\n        moveSlides: 1,\n        adaptiveHeight: true\n    });\n}\n//详细API请见官网\n\n```\n## <a name=\"一般选项卡\"></a>15.一般选项卡\n\n```js\n\n$('.tab .title').click(function(){\n    $(this).addClass('active').siblings().removeClass('active');\n    $('.tab .content').eq($(this).index()).show().siblings().hide();\n}).eq(0).click();\n\n```\n\n```html\n      \n//HTML\n\n<div class=\"tab\">\n    <div class=\"title\">title-1</div>\n    <div class=\"title\">title-2</div>\n    <div class=\"title\">title-3</div>\n    <div class=\"container\">\n        <div class=\"content\">content-1</div>\n        <div class=\"content\">content-2</div>\n        <div class=\"content\">content-3</div>\n    </div>\n</div>\n\n```\n## <a name=\"新窗口打开页面\"></a>16.    新窗口打开页面\n\n```html\n\n//<a href=\"http://zanseven007.github.io\" rel=\"external\">open link</a>\n\n```\n\n```js\n\n$(document).ready(function(){\n  $(\"a[rel$='external']\").click(function(){\n    this.target='_blank';    \n  })\n})\n\n```\n## <a name=\"滚动到指定位置滑动动画\"></a>17. 滚动到指定位置滑动动画\n\n```js\n\njQuery.fn.scrollTo = function(speed){\n  var targetOffset = $(this).offset().top;\n  $(html,body).stop().animate({scrollTop: targetOffset}, speed);\n}\n//使用\n $(#goTop).click(function(){\n  $(body).scrollTo(500); //返回顶部\n})\n\n```\n\n## <a name=\"对话框控件使用\"></a>18.对话框控件使用\n        \n```js\n\n    var Dialog = require('./tool/dialog.js');\n    Dialog.show();\n    Dialog.alert();\n    Dialog.hide();\n    Dialog.tip();\n    //四个方法\n    \n```\n\n现在已经被范同学优化,详细请见[dxy-dialog](https://github.com/dxy-biz-developer/dxy-dialog)    \n\n##  <a name=\"移动端PPT使用\"></a>19.移动端PPT使用\n\n```js\n\n    var flash = $('.放置容器 iframe, .放置容器 object');  //获取PPT元素\n    if (isMobile && flash.length) {\n        var js = 'http://assets.dxycdn.com/templates/core/third-party/mobile-ppt/mobile-ppt.min.js';\n        $.getScript(js, function () {\n            MobilePPT.init('biz', {\n                flash: flash,\n                dataUrlBuilder: function (nid) {\n                    return 'http://www.dxy.cn/topic/biz/ppt地址/' + nid + '/ps-data.js';  //有一个用node.js写的转换工具，需要向编辑人员要取PPT里面的所有图片，通过转换工具转换后将转换后的内容上传到FTP上，然后地址填写在这里即可\n                }\n            });\n        });\n    }\n    \n```\n## <a name=\"即将离开丁香园提示框\"></a>20.即将离开丁香园提示框\n\n```css\n    \n    //css\n    .page-go-cmeflist .mask{ \n        position: fixed;\n        top: 0;\n        right: 0;\n        left: 0;\n        bottom: 0;\n        background: #000;filter:alpha(opacity=50); opacity: .6; z-index: 233333;\n     }\n    .link__panel{\n        width: 400px;\n        height: auto;\n        background: #fff;\n        border-radius: 5px;\n        box-shadow: 0 0 0 #555;\n        border: 1px solid #999;\n        position: fixed;\n        top: 50%;\n        left: 50%;\n        margin-left: -200px;\n        z-index: 2333333;\n        margin-top: -100px;\n    }\n    .link__panel .close{\n        position: absolute;\n        width: 40px;\n        height: 40px;\n        top: 0;\n        right: 5px;\n        background: url(../img/icon-close.png?t=20160126) no-repeat center center;\n        cursor: pointer;\n    }\n    .link__panel_header{\n        height: 40px;\n        border-bottom: 1px solid #ddd;\n        padding: 0 15px;\n        line-height: 40px;\n        font-size: 14px;\n        color: #666;\n    }\n    \n    .link__panel_body{\n        height: auto;\n        border-bottom: 1px solid #ddd;\n        padding: 15px;\n        line-height: 1.8;\n        font-size: 14px;\n        color: #666;\n    }\n    .link__panel_body a{\n        color: #4299D8;\n        display: block;\n    }\n    .link__panel_footer{\n        font-size: 14px;\n        text-align: right;\n        padding: 15px;\n    }\n    .link__panel_footer .btn{\n        padding: 3px 10px;\n        border: 1px solid #ddd;\n        display: inline-block;\n        vertical-align: top;\n        font-weight: 500;\n        border-radius: 3px;\n        margin-right: 10px;\n    }\n    .link__panel_footer .btn-goon{\n        background: #4299D8;\n        color: #fff;\n    }\n    .link__panel_footer .btn-close{\n        background: #eee;\n        color: #666;\n    }\n    \n```\n\n```js\n\n    // js\n    $('a标签的父级元素').on('click', 'a', function(event) {\n        event.preventDefault();\n        var link = $(this).attr('href'),\n            text = $(this).html();\n        $('body').append('<div class=\"mask\"></div>'+\n            '<div class=\"link__panel\">'+\n                '<div class=\"close\"></div>'+\n                '<div class=\"link__panel_header\">提示：</div>'+\n                '<div class=\"link__panel_body\">你将离开丁香园，进入其他页面:<br> <a href=\"'+ link +'\">'+ link +'</a></div>'+\n                '<div class=\"link__panel_footer\">'+\n                    '<a href=\"'+ link +'\" class=\"btn  btn-goon\">继续访问</a>'+\n                    '<a href=\"\" class=\"btn  btn-close\">关闭</a>'+\n                '</div>'+\n            '</div>');\n        $('.link__panel .close, .link__panel .btn-close').on('click', function(event) {\n            event.preventDefault();\n            $('.mask, .link__panel').remove();\n        });\n    });\n    \n```\n##  <a name=\"滚动条插件\"></a>21.滚动条插件\n\n```js\n  var IScroll  = require('./lib/iscroll.js');\n\n    function initActivityIntro() {\n\n      var el = $('.process__pic');\n      var inel = $('.info');\n      if (el.length) {\n        new IScroll(el[0], {\n          scrollbars: true,\n          scrollX:true\n        });\n        }\n      }\n  initActivityIntro();\n    \n```\n##  <a name=\"微信分享\"></a>22.微信分享\n\n```js\nvar dxy_wechat_share = require('dxy-wechat-share');\n\nwindow.wx_share = 'callback(具体地址看项目)';\ndxy_wechat_share({\n  title:'这是一个标题',\n  desc:'这是一个摘要第一行\\n这是一个摘要第二行',\n  imgUrl:'这是一个分享图片地址'\n});\n\n    \n```\n\n##  <a name=\"移动端多行显示省略号\"></a>23.移动端多行显示省略号\n\n`display: -webkit-box;` 必须结合的属性 ，将对象作为弹性伸缩盒子模型显示 。\n`-webkit-box-orient` 必须结合的属性 ，设置或检索伸缩盒对象的子元素的排列方式 。\n`text-overflow: ellipsis;`，可以用来多行文本的情况下，用省略号“…”隐藏超出范围的文本 \n\n```css\noverflow : hidden;\ntext-overflow: ellipsis;\ndisplay: -webkit-box;\n-webkit-line-clamp: 2;\n-webkit-box-orient: vertical;\n    \n```\n\n##  <a name=\"iframe高度自适应\"></a>24.iframe高度自适应\n\n在商业项目中引入丁香客的微话题使用,请先 `npm install iframe-auto-height --save` 安装跑路宗坤写的一个包。\n\n```js\n//在合适的地方引用，这个控件有个bug\n//需要在parent.js里面跳过第一次执行onmessage函数，需从第二次开始执行\nvar AutoHeight = require('iframe-auto-height/parent');\nnew AutoHeight();\n    \n```","source":"_posts/丁香园工作中一些常用的代码.md","raw":"---\ntitle: 丁香园工作中一些常用的代码\ndate: 2016-09-09 16:04:22\ntags:\n    - 前端\n    - 丁香园\n    - 复制粘贴专用\n---\n\n\n本文主要是我入职以来在E-marketing项目中常用到的一些控件使用，兼容方法，交互效果的说明和使用方法，欢迎大家对本文进行更改或者补充，下文中所有`require()`的类库均可在各个E-marketing项目中找到，可以直接copy到自己项目中使用。\n<!--more-->\n# 目录\n1. *[判断是否IE8](#判断是否IE8)*\n2. *[IE8修复placeholder](#IE8修复placeholder)*\n3. *[IE8 box-shaadow兼容](#IE8 box-shadow兼容)*\n4. *[IE8 rgba兼容](#IE8 rgba兼容)*\n5. *[分享组件使用](#分享组件使用)*\n6. *[地址选择控件](#地址选择控件)*\n7. *[医院选择控件](#医院选择控件)*\n8. *[科室选择控件](#科室选择控件)*\n9. *[职称选择控件](#职称选择控件)*\n10. *[判断是否移动端](#判断是否移动端)*\n11. *[获取内页文章ID](#获取内页文章ID)*\n12. *[validate插件扩展](#validate插件扩展)*\n13. *[validate插件使用](#validate插件使用)*\n14. *[bxslider轮播图使用](#bxslider轮播图使用)*\n15. *[一般选项卡](#一般选项卡)*\n16. *[新窗口打开页面](#新窗口打开页面)*\n17. *[滚动到指定位置滑动动画](#滚动到指定位置滑动动画)*\n18. *[对话框控件使用](#对话框控件使用)*\n19. *[移动端PPT使用](#移动端PPT使用)*\n20. *[即将离开丁香园提示框](#即将离开丁香园提示框)*\n21. *[滚动条插件](#滚动条插件)*\n22. *[微信分享](#微信分享)*\n23. *[移动端多行显示省略号](#移动端多行显示省略号)*\n23. *[iframe高度自适应](#iframe高度自适应)*\n\n\n\n## <a name=\"判断是否IE8\"></a>1.判断是否IE8\n```js\n\nvar isIE=!!window.ActiveXObject; \nvar isIE8=isIE&&!!document.documentMode;\n//使用\nif(isIE8){\n    //do something\n}\n\n```\n## <a name=\"IE8修复placeholder\"></a>2.IE8修复placeholder\n```js\n\n//placeholder兼容\nvar JPlaceHolder = {\n  //检测\n  _check : function(){\n      return 'placeholder' in document.createElement('input');\n  },\n  //初始化\n  init : function(){\n      if(!this._check()){\n          this.fix();\n      }\n  },\n  //修复\n  fix : function(){\n      jQuery(':input[placeholder]').each(function(index, element) {\n          var self = $(this), txt = self.attr('placeholder');\n          self.attr('placeholder','');\n          self.wrap($('<div></div>').css({position:'relative', zoom:'1', border:'none', background:'none', padding:'none', margin:'none'}));\n          var pos = self.position(), h = self.outerHeight(true), paddingleft = self.css('padding-left');\n          var holder = $('<span></span>').text(txt).css({position:'absolute', left:pos.left, top:pos.top, height:h, lineHeight:h+'px', paddingLeft:paddingleft, color:'#aaa',width:'100%',display:'block'}).appendTo(self.parent());\n          self.focus(function(e) {\n              holder.hide();\n          }).blur(function(e) {\n              if(!self.val()){\n                  holder.show();\n              }\n          });\n          holder.click(function(e) {\n              holder.hide();\n              self.focus();\n          });\n      });\n  }\n};\n//使用\nJPlaceHolder.init();    \n\n```\n## <a name=\"IE8 box-shadow兼容\"></a>3.IE8 box-shadow兼容\n```css\n\n.shaded { \n    background-color: #fff;\n    zoom: 1; \n    filter: progid:DXImageTransform.Microsoft.Shadow(color='#aaaaaa', Direction=135, Strength=6);\n}\n\n```\n\n```js\n\n//使用\nif(isIE8){\n    $('选择器').addClass('shaded');\n}   \n\n```\n\n## <a name=\"IE8 rgba兼容\"></a>4.IE8 rgba兼容\n\n```css\n\n    //其格式为 #AARRGGBB 。 AA 、 RR 、 GG 、 BB 为十六进制正整数。取值范围为 00 - FF 。 RR 指定红色值， GG 指定绿色值， BB 指定蓝色值。\n    //参阅 #RRGGBB 颜色单位。 AA 指定透明度。 00 是完全透明。 FF 是完全不透明。超出取值范围的值将被恢复为默认值。\n    \n    filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#7f000000,endColorstr=#7f000000);\n    //使用，直接在css里面加入就好\n\n```\n## <a name=\"分享组件使用\"></a>5.分享组件使用\n\n```js\n\nvar share = require('./dxy_share.js');\n//使用\nvar shareContainer = $('放置容器'); //给一个放置容器，其他事情控件会帮你完成\n    if (shareContainer.length) {\n        shareContainer.attr('id','to-share');\n        new share().show({\n            id: 'to-share',\n            lst: ['weixin', 'sina', 'tt', 'qzone', 'douban'], //需要分享到的社区列表\n            style: 3    //有许多不同的样式可以选择\n        });\n}\n  //sina: '新浪微博',\n  //tt: '腾讯微博',\n  //douban: '豆瓣',\n  //renren: '人人网',\n  //qzone: 'QQ空间',\n  //idxy: '丁香客',\n  //kaixin: '开心网',\n  //weixin: '微信',\n  //favorite: '收藏夹'\n\n```\n\n现在已经被 DIYgod 优化更新，详细使用方法请见[dxy-share](https://github.com/dxy-biz-developer/dxy-share)   \n## <a name=\"地址选择控件\"></a>6.地址选择控件\n\n```js\n\nvar Cascading = require('../lib/Cascading.full.js');\n\n//桌面版地址\nvar cascadeLocation = new Cascading.Desktop({\n   type: 'common',\n   data: 'dataLocation',\n   dataUrl: 'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/location.js?t=123',\n   container: 'cascading-location-container',\n   additionClass: 'test',\n   maxLevel: 3,\n   maxSelect: 1,\n   ieFallback: true,\n   panelNames: ['省份', '城市', '区县'],\n   defaultSelected: [['150000', '150600', '150621'], ['130000', '130200', '130281']],\n   confirmCallback: function(data){\n       $('#edit-field-ge-city-und-0-value').next('.error').hide();\n       $('#edit-field-ge-city-und-0-value').val(data.pathName[0].join('>'));\n       if(isIE8 && $('#edit-field-ge-city-und-0-value').val()){\n           $('#edit-field-ge-city-und-0-value').next('span').hide();\n       }\n   }\n});\n$('#edit-field-ge-city-und-0-value').on('focus', function(e){\n   cascadeLocation.open();\n   this.blur();\n});\n//移动版地址\nvar cascadeLocationMobile = new Cascading.Mobile({\n   type: 'common',\n   data: 'dataLocation',\n   dataUrl: 'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/location.js?t=123',\n   container: 'cascading-location-mobile-container',\n   additionClass: 'test',\n   maxLevel: 3,\n   maxSelect: 1,\n   ieFallback: true,\n   panelNames: ['省份', '城市', '区县'],\n   defaultSelected: [['150000', '150600', '150621'], ['130000', '130200', '130281']],\n   confirmCallback: function(data){\n     $('#edit-field-ge-city-und-0-value').val(data.pathName[0].join('>'));\n     $('#edit-field-ge-city-und-0-value').next('.error').hide();\n   }\n });\n\n  $('#edit-field-ge-city-und-0-value').on('focus', function(e){\n    cascadeLocationMobile.open();\n    this.blur();\n\n  });\n\n```\n\n```html\n      \n//HTML内容\n<div class=\"bottom-input-box\">\n  <label for=\"\">邮寄地址</label>\n  <input class=\"bottom-input\" type=\"text\" id=\"edit-field-ge-address-und-0-value\" name=\"field_ge_address[und][0][value]\">\n</div>\n      \n```\n## <a name=\"医院选择控件\"></a>7.医院选择控件\n\n```js\n\n// 桌面版医院\nvar cascadeHospital = new Cascading.Desktop({\n     type: 'hospital',\n     data: 'dataLocation2Level',\n     dataUrl: 'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/location_2level.js?t=123',\n     panelNames: ['等级', '医院'],\n     panelWidth: ['30', '70'],\n     container: 'cascading-hospital-container',\n     defaultSelected: [['150000', '150600']],\n     ieFallback: true,\n     confirmCallback: function(data){\n             $('#edit-field-ge-hospital-und-0-value').next('.error').hide();\n         $('#edit-field-ge-hospital-und-0-value').val(data.name.join(','));\n         if(isIE8 && $('#edit-field-ge-hospital-und-0-value').val()){\n             $('#edit-field-ge-hospital-und-0-value').next('span').hide();\n         }\n\n     }\n });\n   $('#edit-field-ge-hospital-und-0-value').on('focus', function(e){\n      cascadeHospital.open();\n      this.blur();\n  });\n  //移动版医院\nvar cascadeHospitalMobile = new Cascading.Mobile({\n  type: 'hospital',\n  container: 'cascading-hospital-mobile-container',\n  additionClass: 'cascading-hospital-mobile-container-custom',\n  data: 'dataLocation2Level',\n  dataUrl: 'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/location_2level.js?t=123',\n  panelNames: ['等级', '医院'],\n  panelWidth: ['30', '70'],\n  defaultSelected: [['150000', '150600']],\n  ieFallback: true,\n  confirmCallback: function(data){\n   $('#edit-field-ge-hospital-und-0-value').val(data.name.join(','));\n    $('#edit-field-ge-hospital-und-0-value').next('.error').hide();\n\n   if(isIE8 && $('#edit-field-ge-hospital-und-0-value').val()){\n       $('#edit-field-ge-hospital-und-0-value').next('span').hide();\n   }\n\n}\n});\n $('#edit-field-ge-hospital-und-0-value').on('click', function(e){\n    cascadeHospitalMobile.open();\n    this.blur();\n});\n\n```\n\n```html\n            \n//HTML内容\n\n<div class=\"bottom-input-box\">\n  <label for=\"\">医院</label>\n  <input class=\"bottom-input\" type=\"text\" id=\"edit-field-ge-hospital-und-0-value\" name=\"field_ge_hospital[und][0][value]\">\n</div>   \n\n```\n\n## <a name=\"科室选择控件\"></a>8.科室选择控件\n\n```js\n\n// 桌面版科室\nvar cascadeDepartment = new Cascading.Desktop({\n   type: 'department',\n   data: 'dataDivision',\n   dataUrl: 'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/division.js',\n   container: 'cascading-department-container',\n   onlyLast: true,\n   additionClass: 'cascading-department-container',\n   maxSelect: 1,\n   ieFallback: true,\n   panelNames: ['科室', '科室二级'],\n   confirmCallback: function(data){\n       $('#edit-field-ge-section-und-0-value').next('.error').hide();\n       $('#edit-field-ge-section-und-0-value').val(data.pathName.join('>'));\n       if(isIE8 && $('#edit-field-ge-section-und-0-value').val()){\n         $('#edit-field-ge-section-und-0-value').next('span').hide();\n      }\n\n   }\n});\n\n$('#edit-field-ge-section-und-0-value').on('focus', function(e){\n cascadeDepartment.open();\n this.blur();\n});\n// 移动版科室\nvar cascadeDepartmentMobile = new Cascading.Mobile({\n  type: 'common',\n  data: 'dataDivision',\n  dataUrl: 'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/division.js',\n  container: 'cascading-depart-mobile-container',\n  confirmCallback: function(data){\n    $('#edit-field-ge-section-und-0-value').val(data.pathName.join('>'));\n    $('#edit-field-ge-section-und-0-value').next('.error').hide();\n\n    if(isIE8 && $('#edit-field-ge-section-und-0-value').val()){\n      $('#edit-field-ge-section-und-0-value').next('span').hide();\n    }\n\n  }\n});\n\n$('#edit-field-ge-section-und-0-value').on('focus', function(e){\n cascadeDepartmentMobile.open();\n this.blur();\n});\n\n```\n\n```html      \n              \n//HTML内容\n<div class=\"bottom-input-box\">\n  <label for=\"\">科室</label>\n  <input class=\"bottom-input\" type=\"text\" id=\"edit-field-ge-section-und-0-value\" name=\"field_ge_section[und][0][value]\">\n</div>\n\n```\n## <a name=\"职称选择控件\"></a>9.职称选择控件\n\n```js\n\n// 桌面版职称\n   var cascadeTitle = new Cascading.Desktop({\n     type: 'common',\n     data: 'dataTitle',\n     dataUrl: 'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/title.js',\n     container: 'cascading-title-container',\n     additionClass: 'test',\n     ieFallback: true,\n     confirmCallback: function(data){\n        $('[name=\"field_ge_jobtitle[und][0][value]\"]').next('.error').hide();\n         $('[name=\"field_ge_jobtitle[und][0][value]\"]').val(data.pathName[0].join('>'));\n         if(isIE8 && $('[name=\"field_ge_jobtitle[und][0][value]\"]').val()){\n             $('[name=\"field_ge_jobtitle[und][0][value]\"]').next('span').hide();\n         }\n\n     }\n });\n\n$('[name=\"field_ge_jobtitle[und][0][value]\"]').on('focus', function(e){\n cascadeTitle.open();\n this.blur();\n});\n// 移动版职称\nvar cascadeTitleMobile = new Cascading.Mobile({\n   type: 'common',\n   data: 'dataTitle',\n   dataUrl: 'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/title.js',\n   container: 'cascading-title-mobile-container',\n   additionClass: 'test',\n   ieFallback: true,\n   confirmCallback: function(data){\n     $('[name=\"field_ge_jobtitle[und][0][value]\"]').next('.error').hide();\n     $('[name=\"field_ge_jobtitle[und][0][value]\"]').val(data.pathName[0].join('>'));\n     if(isIE8 && $('[name=\"field_ge_jobtitle[und][0][value]\"]').val()){\n         $('[name=\"field_ge_jobtitle[und][0][value]\"]').next('span').hide();\n     }\n\n }\n});\n\n$('[name=\"field_ge_jobtitle[und][0][value]\"]').on('focus', function(e){\n cascadeTitleMobile.open();\n this.blur();\n});\n\n```\n\n```html\n                    \n//HTML内容\n<div class=\"bottom-input-box\">\n  <label for=\"\">职称</label>\n  <input class=\"bottom-input\" type=\"text\" id=\"edit-field-ge-job-und-0-value\" name=\"field_ge_jobtitle[und][0][value]\">\n</div>\n\n```\n\n## <a name=\"判断是否移动端\"></a>10.判断是否移动端\n```js\n\nvar isMobile = /mobile|dxyapp/i.test(window.navigator.userAgent);\n//使用\nif(isMobile){\n    //do someting\n}\n\n```\n## <a name=\"获取内页文章ID\"></a>11.获取内页文章ID\n```js\n\nfunction getContentId() {\n    var match = $('body').attr('class').match(/page-node-(\\d+)/);\n    return match ? match[1] : -1;\n};\n//使用\nvar getId = getContentId();\n\n```\n## <a name=\"validate插件扩展\"></a>12.validate插件扩展\n\n```js\n\n//将该段代码写在validate.min.js最后来增加自定义扩展\njQuery.extend(jQuery.validator.messages, {\n    required: \"此项必填\",\n    chineseName: \"请输入正确的中文名\",\n    mobileNumber: \"请输入正确的手机号码\",\n    remote: \"请重新输入\",\n    email: \"请输入正确的电子邮件\",\n    url: \"请输入正确的网址\",\n    date: \"请输入正确的日期\",\n    dateISO: \"请输入正确的日期\",\n    number: \"请输入正确的数字\",\n    digits: \"只能输入整数\",\n    creditcard: \"请输入正确的信用卡号\",\n    equalTo: \"请再输一次\",\n    accept: \"不支持上传该附件类型\",\n    filesize:\"文件太大\",\n    maxlength: jQuery.validator.format(\"长度最多为 {0} 位\"),\n    minlength: jQuery.validator.format(\"长度最少为 {0}位\"),\n    rangelength: jQuery.validator.format(\"长度介于 {0} 位和 {1} 位之间\"),\n    range: jQuery.validator.format(\"大小介于 {0} 和 {1} 之间\"),\n    max: jQuery.validator.format(\"最大为 {0} \"),\n    min: jQuery.validator.format(\"最小为 {0} \")\n});\n\n// 中文名\njQuery.validator.addMethod(\"chineseName\", function(value, element) {\n    return this.optional(element) || /^[\\u4E00-\\u9FA5]{2,5}$/.test(value);\n}, '请输入正确的中文名');\n\n// 手机号码\njQuery.validator.addMethod(\"mobileNumber\", function(value, element) {\n    return this.optional(element) || /^(13[0-9]|15[0-35-9]|18[0-9]|17[06-8]|14[57])\\d{8}$/.test(value);\n}, '请输入正确的手机号码');\n\n//电话的验证      \njQuery.validator.addMethod(\"isPhone\",function(value,element) { \n        var length = value.length;   \n        var mobile = /^(13[0-9]|15[0-35-9]|18[0-9]|17[06-8]|14[57])\\d{8}$/;   \n        var tel = /^((\\(\\d{2,3}\\))|(\\d{3}\\-))?(\\(0\\d{2,3}\\)|0\\d{2,3}-)?[1-9]\\d{6,7}(\\-\\d{1,4})?$/;   \n        return this.optional(element) || (tel.test(value) ||  (length == 11 && mobile.test(value))); \n}, \"请输入正确的联系电话\");\n\njQuery.validator.addMethod(\"extension\", function(value, element, param) {\n    param = typeof param === \"string\" ? param.replace(/,/g, '|') : \"png|jpe?g|gif\";\n    return this.optional(element) || value.match(new RegExp(\"\\\\.(\" + param + \")$\", \"i\"));\n}, jQuery.format(\"请选择正确的文件格式\"));\n\n//邮编 \njQuery.validator.addMethod(\"postcode\", function(value, element) {\n    return this.optional(element) || /^[1-9]\\d{5}$/.test(value);\n}, '请输入正确的邮编');\n//身份证 \njQuery.validator.addMethod(\"identitycard\", function(value, element) {\n    return this.optional(element) || /^(\\d{15}$|^\\d{18}$|^\\d{17}(\\d|X|x))$/.test(value);\n}, '请输入正确的身份证号');\n//文件大小\n$.validator.addMethod('filesize', function(value, element, param) {\n    //以bytes为单位\n    return this.optional(element) || (element.files[0].size <= param) \n});\n\n//改变错误提示的标签\njQuery.validator.defaults.errorElement = 'span';\n\n```\n## <a name=\"validate插件使用\"></a>13.validate插件使用\n```js\n\nvar caseForm = $('表单'); //获取表单元素\nif(!caseForm.length) {\n          return;\n  }\n  caseForm.validate({\n      focusCleanup:true,\n      rules: {\n        //这里的title均为name属性值\n          'title': {required: true},\n          'field_realname[und][0][value]': {required: true},\n          'field_job[und][0][value]': {required: true},\n          'field_address[und][0][value]': {required: true},\n          'field_phone[und][0][value]': {required: true, mobileNumber: true},\n          'field_location[und][0][value]': {required: true},\n          'field_company[und][0][value]': {required: true},\n          'field_department[und][0][value]': {required: true},\n          'field_email[und][0][value]': {required: true, email: true},\n          'files[field_file_und_0]': {required: true,accept:'docx|doc|pdf|ppt|pptx',filesize:20971520}\n      },\n      messages: {\n          'title': {\n              required: '请输入标题'\n          },\n          'field_realname[und][0][value]': {\n              required: '请输入姓名'\n          },\n          'field_job[und][0][value]': {\n              required: '请输入职称'\n          },\n          'field_address[und][0][value]': {\n              required: '请输入通讯地址'\n          },\n          'field_phone[und][0][value]': {\n              required: '请输入电话或者手机号码'\n          },\n          'field_location[und][0][value]': {\n              required: '请选择地区'\n          },\n          'field_company[und][0][value]': {\n              required: '请选择工作单位'\n          },\n          'field_department[und][0][value]': {\n              required: '请选择所在科室'\n          },\n          'field_email[und][0][value]': {\n              required: '请输入电子邮箱'\n          },\n          'files[field_file_und_0]': {\n              required: '请上传文件',\n              accept:'不支持该文件类型',\n              filesize:'文件太大'\n          }\n      },\n      errorPlacement: function(error, element){\n          error.appendTo(element.closest('放置错误信息的容器'));\n      },\n      submitHandler:function(form)\n      {\n          form.submit();\n      }\n  });\n\n```\n## <a name=\"bxslider轮播图使用\"></a>14.bxslider轮播图使用\n```js\n\nrequire('../lib/jquery.bxslider.js');\n\nvar slider = $('放置轮播图的容器');\nif (slider.length) {\n    slider.bxSlider({\n        auto:true,\n        minSlides: 1,\n        maxSlides: 1,\n        moveSlides: 1,\n        adaptiveHeight: true\n    });\n}\n//详细API请见官网\n\n```\n## <a name=\"一般选项卡\"></a>15.一般选项卡\n\n```js\n\n$('.tab .title').click(function(){\n    $(this).addClass('active').siblings().removeClass('active');\n    $('.tab .content').eq($(this).index()).show().siblings().hide();\n}).eq(0).click();\n\n```\n\n```html\n      \n//HTML\n\n<div class=\"tab\">\n    <div class=\"title\">title-1</div>\n    <div class=\"title\">title-2</div>\n    <div class=\"title\">title-3</div>\n    <div class=\"container\">\n        <div class=\"content\">content-1</div>\n        <div class=\"content\">content-2</div>\n        <div class=\"content\">content-3</div>\n    </div>\n</div>\n\n```\n## <a name=\"新窗口打开页面\"></a>16.    新窗口打开页面\n\n```html\n\n//<a href=\"http://zanseven007.github.io\" rel=\"external\">open link</a>\n\n```\n\n```js\n\n$(document).ready(function(){\n  $(\"a[rel$='external']\").click(function(){\n    this.target='_blank';    \n  })\n})\n\n```\n## <a name=\"滚动到指定位置滑动动画\"></a>17. 滚动到指定位置滑动动画\n\n```js\n\njQuery.fn.scrollTo = function(speed){\n  var targetOffset = $(this).offset().top;\n  $(html,body).stop().animate({scrollTop: targetOffset}, speed);\n}\n//使用\n $(#goTop).click(function(){\n  $(body).scrollTo(500); //返回顶部\n})\n\n```\n\n## <a name=\"对话框控件使用\"></a>18.对话框控件使用\n        \n```js\n\n    var Dialog = require('./tool/dialog.js');\n    Dialog.show();\n    Dialog.alert();\n    Dialog.hide();\n    Dialog.tip();\n    //四个方法\n    \n```\n\n现在已经被范同学优化,详细请见[dxy-dialog](https://github.com/dxy-biz-developer/dxy-dialog)    \n\n##  <a name=\"移动端PPT使用\"></a>19.移动端PPT使用\n\n```js\n\n    var flash = $('.放置容器 iframe, .放置容器 object');  //获取PPT元素\n    if (isMobile && flash.length) {\n        var js = 'http://assets.dxycdn.com/templates/core/third-party/mobile-ppt/mobile-ppt.min.js';\n        $.getScript(js, function () {\n            MobilePPT.init('biz', {\n                flash: flash,\n                dataUrlBuilder: function (nid) {\n                    return 'http://www.dxy.cn/topic/biz/ppt地址/' + nid + '/ps-data.js';  //有一个用node.js写的转换工具，需要向编辑人员要取PPT里面的所有图片，通过转换工具转换后将转换后的内容上传到FTP上，然后地址填写在这里即可\n                }\n            });\n        });\n    }\n    \n```\n## <a name=\"即将离开丁香园提示框\"></a>20.即将离开丁香园提示框\n\n```css\n    \n    //css\n    .page-go-cmeflist .mask{ \n        position: fixed;\n        top: 0;\n        right: 0;\n        left: 0;\n        bottom: 0;\n        background: #000;filter:alpha(opacity=50); opacity: .6; z-index: 233333;\n     }\n    .link__panel{\n        width: 400px;\n        height: auto;\n        background: #fff;\n        border-radius: 5px;\n        box-shadow: 0 0 0 #555;\n        border: 1px solid #999;\n        position: fixed;\n        top: 50%;\n        left: 50%;\n        margin-left: -200px;\n        z-index: 2333333;\n        margin-top: -100px;\n    }\n    .link__panel .close{\n        position: absolute;\n        width: 40px;\n        height: 40px;\n        top: 0;\n        right: 5px;\n        background: url(../img/icon-close.png?t=20160126) no-repeat center center;\n        cursor: pointer;\n    }\n    .link__panel_header{\n        height: 40px;\n        border-bottom: 1px solid #ddd;\n        padding: 0 15px;\n        line-height: 40px;\n        font-size: 14px;\n        color: #666;\n    }\n    \n    .link__panel_body{\n        height: auto;\n        border-bottom: 1px solid #ddd;\n        padding: 15px;\n        line-height: 1.8;\n        font-size: 14px;\n        color: #666;\n    }\n    .link__panel_body a{\n        color: #4299D8;\n        display: block;\n    }\n    .link__panel_footer{\n        font-size: 14px;\n        text-align: right;\n        padding: 15px;\n    }\n    .link__panel_footer .btn{\n        padding: 3px 10px;\n        border: 1px solid #ddd;\n        display: inline-block;\n        vertical-align: top;\n        font-weight: 500;\n        border-radius: 3px;\n        margin-right: 10px;\n    }\n    .link__panel_footer .btn-goon{\n        background: #4299D8;\n        color: #fff;\n    }\n    .link__panel_footer .btn-close{\n        background: #eee;\n        color: #666;\n    }\n    \n```\n\n```js\n\n    // js\n    $('a标签的父级元素').on('click', 'a', function(event) {\n        event.preventDefault();\n        var link = $(this).attr('href'),\n            text = $(this).html();\n        $('body').append('<div class=\"mask\"></div>'+\n            '<div class=\"link__panel\">'+\n                '<div class=\"close\"></div>'+\n                '<div class=\"link__panel_header\">提示：</div>'+\n                '<div class=\"link__panel_body\">你将离开丁香园，进入其他页面:<br> <a href=\"'+ link +'\">'+ link +'</a></div>'+\n                '<div class=\"link__panel_footer\">'+\n                    '<a href=\"'+ link +'\" class=\"btn  btn-goon\">继续访问</a>'+\n                    '<a href=\"\" class=\"btn  btn-close\">关闭</a>'+\n                '</div>'+\n            '</div>');\n        $('.link__panel .close, .link__panel .btn-close').on('click', function(event) {\n            event.preventDefault();\n            $('.mask, .link__panel').remove();\n        });\n    });\n    \n```\n##  <a name=\"滚动条插件\"></a>21.滚动条插件\n\n```js\n  var IScroll  = require('./lib/iscroll.js');\n\n    function initActivityIntro() {\n\n      var el = $('.process__pic');\n      var inel = $('.info');\n      if (el.length) {\n        new IScroll(el[0], {\n          scrollbars: true,\n          scrollX:true\n        });\n        }\n      }\n  initActivityIntro();\n    \n```\n##  <a name=\"微信分享\"></a>22.微信分享\n\n```js\nvar dxy_wechat_share = require('dxy-wechat-share');\n\nwindow.wx_share = 'callback(具体地址看项目)';\ndxy_wechat_share({\n  title:'这是一个标题',\n  desc:'这是一个摘要第一行\\n这是一个摘要第二行',\n  imgUrl:'这是一个分享图片地址'\n});\n\n    \n```\n\n##  <a name=\"移动端多行显示省略号\"></a>23.移动端多行显示省略号\n\n`display: -webkit-box;` 必须结合的属性 ，将对象作为弹性伸缩盒子模型显示 。\n`-webkit-box-orient` 必须结合的属性 ，设置或检索伸缩盒对象的子元素的排列方式 。\n`text-overflow: ellipsis;`，可以用来多行文本的情况下，用省略号“…”隐藏超出范围的文本 \n\n```css\noverflow : hidden;\ntext-overflow: ellipsis;\ndisplay: -webkit-box;\n-webkit-line-clamp: 2;\n-webkit-box-orient: vertical;\n    \n```\n\n##  <a name=\"iframe高度自适应\"></a>24.iframe高度自适应\n\n在商业项目中引入丁香客的微话题使用,请先 `npm install iframe-auto-height --save` 安装跑路宗坤写的一个包。\n\n```js\n//在合适的地方引用，这个控件有个bug\n//需要在parent.js里面跳过第一次执行onmessage函数，需从第二次开始执行\nvar AutoHeight = require('iframe-auto-height/parent');\nnew AutoHeight();\n    \n```","slug":"丁香园工作中一些常用的代码","published":1,"updated":"2016-11-02T09:29:47.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizj7zm6s000aoz3smvrf29ei","content":"<p>本文主要是我入职以来在E-marketing项目中常用到的一些控件使用，兼容方法，交互效果的说明和使用方法，欢迎大家对本文进行更改或者补充，下文中所有<code>require()</code>的类库均可在各个E-marketing项目中找到，可以直接copy到自己项目中使用。<br><a id=\"more\"></a></p>\n<h1 id=\"目录\"><a href=\"#目录\" class=\"headerlink\" title=\"目录\"></a>目录</h1><ol>\n<li><em><a href=\"#判断是否IE8\">判断是否IE8</a></em></li>\n<li><em><a href=\"#IE8修复placeholder\">IE8修复placeholder</a></em></li>\n<li><em><a href=\"#IE8 box-shadow兼容\">IE8 box-shaadow兼容</a></em></li>\n<li><em><a href=\"#IE8 rgba兼容\">IE8 rgba兼容</a></em></li>\n<li><em><a href=\"#分享组件使用\">分享组件使用</a></em></li>\n<li><em><a href=\"#地址选择控件\">地址选择控件</a></em></li>\n<li><em><a href=\"#医院选择控件\">医院选择控件</a></em></li>\n<li><em><a href=\"#科室选择控件\">科室选择控件</a></em></li>\n<li><em><a href=\"#职称选择控件\">职称选择控件</a></em></li>\n<li><em><a href=\"#判断是否移动端\">判断是否移动端</a></em></li>\n<li><em><a href=\"#获取内页文章ID\">获取内页文章ID</a></em></li>\n<li><em><a href=\"#validate插件扩展\">validate插件扩展</a></em></li>\n<li><em><a href=\"#validate插件使用\">validate插件使用</a></em></li>\n<li><em><a href=\"#bxslider轮播图使用\">bxslider轮播图使用</a></em></li>\n<li><em><a href=\"#一般选项卡\">一般选项卡</a></em></li>\n<li><em><a href=\"#新窗口打开页面\">新窗口打开页面</a></em></li>\n<li><em><a href=\"#滚动到指定位置滑动动画\">滚动到指定位置滑动动画</a></em></li>\n<li><em><a href=\"#对话框控件使用\">对话框控件使用</a></em></li>\n<li><em><a href=\"#移动端PPT使用\">移动端PPT使用</a></em></li>\n<li><em><a href=\"#即将离开丁香园提示框\">即将离开丁香园提示框</a></em></li>\n<li><em><a href=\"#滚动条插件\">滚动条插件</a></em></li>\n<li><em><a href=\"#微信分享\">微信分享</a></em></li>\n<li><em><a href=\"#移动端多行显示省略号\">移动端多行显示省略号</a></em></li>\n<li><em><a href=\"#iframe高度自适应\">iframe高度自适应</a></em></li>\n</ol>\n<h2 id=\"1-判断是否IE8\"><a href=\"#1-判断是否IE8\" class=\"headerlink\" title=\"1.判断是否IE8\"></a><a name=\"判断是否IE8\"></a>1.判断是否IE8</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> isIE=!!<span class=\"built_in\">window</span>.ActiveXObject; </div><div class=\"line\"><span class=\"keyword\">var</span> isIE8=isIE&amp;&amp;!!<span class=\"built_in\">document</span>.documentMode;</div><div class=\"line\"><span class=\"comment\">//使用</span></div><div class=\"line\"><span class=\"keyword\">if</span>(isIE8)&#123;</div><div class=\"line\">    <span class=\"comment\">//do something</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"2-IE8修复placeholder\"><a href=\"#2-IE8修复placeholder\" class=\"headerlink\" title=\"2.IE8修复placeholder\"></a><a name=\"IE8修复placeholder\"></a>2.IE8修复placeholder</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//placeholder兼容</span></div><div class=\"line\"><span class=\"keyword\">var</span> JPlaceHolder = &#123;</div><div class=\"line\">  <span class=\"comment\">//检测</span></div><div class=\"line\">  _check : <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">'placeholder'</span> <span class=\"keyword\">in</span> <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'input'</span>);</div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"comment\">//初始化</span></div><div class=\"line\">  init : <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">      <span class=\"keyword\">if</span>(!<span class=\"keyword\">this</span>._check())&#123;</div><div class=\"line\">          <span class=\"keyword\">this</span>.fix();</div><div class=\"line\">      &#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"comment\">//修复</span></div><div class=\"line\">  fix : <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">      jQuery(<span class=\"string\">':input[placeholder]'</span>).each(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">index, element</span>) </span>&#123;</div><div class=\"line\">          <span class=\"keyword\">var</span> self = $(<span class=\"keyword\">this</span>), txt = self.attr(<span class=\"string\">'placeholder'</span>);</div><div class=\"line\">          self.attr(<span class=\"string\">'placeholder'</span>,<span class=\"string\">''</span>);</div><div class=\"line\">          self.wrap($(<span class=\"string\">'&lt;div&gt;&lt;/div&gt;'</span>).css(&#123;position:<span class=\"string\">'relative'</span>, zoom:<span class=\"string\">'1'</span>, border:<span class=\"string\">'none'</span>, background:<span class=\"string\">'none'</span>, padding:<span class=\"string\">'none'</span>, margin:<span class=\"string\">'none'</span>&#125;));</div><div class=\"line\">          <span class=\"keyword\">var</span> pos = self.position(), h = self.outerHeight(<span class=\"literal\">true</span>), paddingleft = self.css(<span class=\"string\">'padding-left'</span>);</div><div class=\"line\">          <span class=\"keyword\">var</span> holder = $(<span class=\"string\">'&lt;span&gt;&lt;/span&gt;'</span>).text(txt).css(&#123;position:<span class=\"string\">'absolute'</span>, left:pos.left, top:pos.top, height:h, lineHeight:h+<span class=\"string\">'px'</span>, paddingLeft:paddingleft, color:<span class=\"string\">'#aaa'</span>,width:<span class=\"string\">'100%'</span>,display:<span class=\"string\">'block'</span>&#125;).appendTo(self.parent());</div><div class=\"line\">          self.focus(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>) </span>&#123;</div><div class=\"line\">              holder.hide();</div><div class=\"line\">          &#125;).blur(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>) </span>&#123;</div><div class=\"line\">              <span class=\"keyword\">if</span>(!self.val())&#123;</div><div class=\"line\">                  holder.show();</div><div class=\"line\">              &#125;</div><div class=\"line\">          &#125;);</div><div class=\"line\">          holder.click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>) </span>&#123;</div><div class=\"line\">              holder.hide();</div><div class=\"line\">              self.focus();</div><div class=\"line\">          &#125;);</div><div class=\"line\">      &#125;);</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"><span class=\"comment\">//使用</span></div><div class=\"line\">JPlaceHolder.init();</div></pre></td></tr></table></figure>\n<h2 id=\"3-IE8-box-shadow兼容\"><a href=\"#3-IE8-box-shadow兼容\" class=\"headerlink\" title=\"3.IE8 box-shadow兼容\"></a><a name=\"IE8 box-shadow兼容\"></a>3.IE8 box-shadow兼容</h2><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"selector-class\">.shaded</span> &#123; </div><div class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"number\">#fff</span>;</div><div class=\"line\">    <span class=\"attribute\">zoom</span>: <span class=\"number\">1</span>; </div><div class=\"line\">    <span class=\"attribute\">filter</span>: progid:DXImageTransform.Microsoft.<span class=\"built_in\">Shadow</span>(color=<span class=\"string\">'#aaaaaa'</span>, Direction=135, Strength=6);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//使用</span></div><div class=\"line\"><span class=\"keyword\">if</span>(isIE8)&#123;</div><div class=\"line\">    $(<span class=\"string\">'选择器'</span>).addClass(<span class=\"string\">'shaded'</span>);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"4-IE8-rgba兼容\"><a href=\"#4-IE8-rgba兼容\" class=\"headerlink\" title=\"4.IE8 rgba兼容\"></a><a name=\"IE8 rgba兼容\"></a>4.IE8 rgba兼容</h2><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">//其格式为 #AARRGGBB 。 AA 、 RR 、 GG 、 BB 为十六进制正整数。取值范围为 00 - FF 。 RR 指定红色值， GG 指定绿色值， BB 指定蓝色值。</div><div class=\"line\">//参阅 #RRGGBB 颜色单位。 AA 指定透明度。 00 是完全透明。 FF 是完全不透明。超出取值范围的值将被恢复为默认值。</div><div class=\"line\"></div><div class=\"line\">filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#7f000000,endColorstr=#7f000000);</div><div class=\"line\">//使用，直接在css里面加入就好</div></pre></td></tr></table></figure>\n<h2 id=\"5-分享组件使用\"><a href=\"#5-分享组件使用\" class=\"headerlink\" title=\"5.分享组件使用\"></a><a name=\"分享组件使用\"></a>5.分享组件使用</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> share = <span class=\"built_in\">require</span>(<span class=\"string\">'./dxy_share.js'</span>);</div><div class=\"line\"><span class=\"comment\">//使用</span></div><div class=\"line\"><span class=\"keyword\">var</span> shareContainer = $(<span class=\"string\">'放置容器'</span>); <span class=\"comment\">//给一个放置容器，其他事情控件会帮你完成</span></div><div class=\"line\">    <span class=\"keyword\">if</span> (shareContainer.length) &#123;</div><div class=\"line\">        shareContainer.attr(<span class=\"string\">'id'</span>,<span class=\"string\">'to-share'</span>);</div><div class=\"line\">        <span class=\"keyword\">new</span> share().show(&#123;</div><div class=\"line\">            id: <span class=\"string\">'to-share'</span>,</div><div class=\"line\">            lst: [<span class=\"string\">'weixin'</span>, <span class=\"string\">'sina'</span>, <span class=\"string\">'tt'</span>, <span class=\"string\">'qzone'</span>, <span class=\"string\">'douban'</span>], <span class=\"comment\">//需要分享到的社区列表</span></div><div class=\"line\">            style: <span class=\"number\">3</span>    <span class=\"comment\">//有许多不同的样式可以选择</span></div><div class=\"line\">        &#125;);</div><div class=\"line\">&#125;</div><div class=\"line\">  <span class=\"comment\">//sina: '新浪微博',</span></div><div class=\"line\">  <span class=\"comment\">//tt: '腾讯微博',</span></div><div class=\"line\">  <span class=\"comment\">//douban: '豆瓣',</span></div><div class=\"line\">  <span class=\"comment\">//renren: '人人网',</span></div><div class=\"line\">  <span class=\"comment\">//qzone: 'QQ空间',</span></div><div class=\"line\">  <span class=\"comment\">//idxy: '丁香客',</span></div><div class=\"line\">  <span class=\"comment\">//kaixin: '开心网',</span></div><div class=\"line\">  <span class=\"comment\">//weixin: '微信',</span></div><div class=\"line\">  <span class=\"comment\">//favorite: '收藏夹'</span></div></pre></td></tr></table></figure>\n<p>现在已经被 DIYgod 优化更新，详细使用方法请见<a href=\"https://github.com/dxy-biz-developer/dxy-share\" target=\"_blank\" rel=\"external\">dxy-share</a>   </p>\n<h2 id=\"6-地址选择控件\"><a href=\"#6-地址选择控件\" class=\"headerlink\" title=\"6.地址选择控件\"></a><a name=\"地址选择控件\"></a>6.地址选择控件</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> Cascading = <span class=\"built_in\">require</span>(<span class=\"string\">'../lib/Cascading.full.js'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//桌面版地址</span></div><div class=\"line\"><span class=\"keyword\">var</span> cascadeLocation = <span class=\"keyword\">new</span> Cascading.Desktop(&#123;</div><div class=\"line\">   type: <span class=\"string\">'common'</span>,</div><div class=\"line\">   data: <span class=\"string\">'dataLocation'</span>,</div><div class=\"line\">   dataUrl: <span class=\"string\">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/location.js?t=123'</span>,</div><div class=\"line\">   container: <span class=\"string\">'cascading-location-container'</span>,</div><div class=\"line\">   additionClass: <span class=\"string\">'test'</span>,</div><div class=\"line\">   maxLevel: <span class=\"number\">3</span>,</div><div class=\"line\">   maxSelect: <span class=\"number\">1</span>,</div><div class=\"line\">   ieFallback: <span class=\"literal\">true</span>,</div><div class=\"line\">   panelNames: [<span class=\"string\">'省份'</span>, <span class=\"string\">'城市'</span>, <span class=\"string\">'区县'</span>],</div><div class=\"line\">   defaultSelected: [[<span class=\"string\">'150000'</span>, <span class=\"string\">'150600'</span>, <span class=\"string\">'150621'</span>], [<span class=\"string\">'130000'</span>, <span class=\"string\">'130200'</span>, <span class=\"string\">'130281'</span>]],</div><div class=\"line\">   confirmCallback: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>)</span>&#123;</div><div class=\"line\">       $(<span class=\"string\">'#edit-field-ge-city-und-0-value'</span>).next(<span class=\"string\">'.error'</span>).hide();</div><div class=\"line\">       $(<span class=\"string\">'#edit-field-ge-city-und-0-value'</span>).val(data.pathName[<span class=\"number\">0</span>].join(<span class=\"string\">'&gt;'</span>));</div><div class=\"line\">       <span class=\"keyword\">if</span>(isIE8 &amp;&amp; $(<span class=\"string\">'#edit-field-ge-city-und-0-value'</span>).val())&#123;</div><div class=\"line\">           $(<span class=\"string\">'#edit-field-ge-city-und-0-value'</span>).next(<span class=\"string\">'span'</span>).hide();</div><div class=\"line\">       &#125;</div><div class=\"line\">   &#125;</div><div class=\"line\">&#125;);</div><div class=\"line\">$(<span class=\"string\">'#edit-field-ge-city-und-0-value'</span>).on(<span class=\"string\">'focus'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\">   cascadeLocation.open();</div><div class=\"line\">   <span class=\"keyword\">this</span>.blur();</div><div class=\"line\">&#125;);</div><div class=\"line\"><span class=\"comment\">//移动版地址</span></div><div class=\"line\"><span class=\"keyword\">var</span> cascadeLocationMobile = <span class=\"keyword\">new</span> Cascading.Mobile(&#123;</div><div class=\"line\">   type: <span class=\"string\">'common'</span>,</div><div class=\"line\">   data: <span class=\"string\">'dataLocation'</span>,</div><div class=\"line\">   dataUrl: <span class=\"string\">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/location.js?t=123'</span>,</div><div class=\"line\">   container: <span class=\"string\">'cascading-location-mobile-container'</span>,</div><div class=\"line\">   additionClass: <span class=\"string\">'test'</span>,</div><div class=\"line\">   maxLevel: <span class=\"number\">3</span>,</div><div class=\"line\">   maxSelect: <span class=\"number\">1</span>,</div><div class=\"line\">   ieFallback: <span class=\"literal\">true</span>,</div><div class=\"line\">   panelNames: [<span class=\"string\">'省份'</span>, <span class=\"string\">'城市'</span>, <span class=\"string\">'区县'</span>],</div><div class=\"line\">   defaultSelected: [[<span class=\"string\">'150000'</span>, <span class=\"string\">'150600'</span>, <span class=\"string\">'150621'</span>], [<span class=\"string\">'130000'</span>, <span class=\"string\">'130200'</span>, <span class=\"string\">'130281'</span>]],</div><div class=\"line\">   confirmCallback: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>)</span>&#123;</div><div class=\"line\">     $(<span class=\"string\">'#edit-field-ge-city-und-0-value'</span>).val(data.pathName[<span class=\"number\">0</span>].join(<span class=\"string\">'&gt;'</span>));</div><div class=\"line\">     $(<span class=\"string\">'#edit-field-ge-city-und-0-value'</span>).next(<span class=\"string\">'.error'</span>).hide();</div><div class=\"line\">   &#125;</div><div class=\"line\"> &#125;);</div><div class=\"line\"></div><div class=\"line\">  $(<span class=\"string\">'#edit-field-ge-city-und-0-value'</span>).on(<span class=\"string\">'focus'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\">    cascadeLocationMobile.open();</div><div class=\"line\">    <span class=\"keyword\">this</span>.blur();</div><div class=\"line\"></div><div class=\"line\">  &#125;);</div></pre></td></tr></table></figure>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">      </div><div class=\"line\">//HTML内容</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"bottom-input-box\"</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">label</span> <span class=\"attr\">for</span>=<span class=\"string\">\"\"</span>&gt;</span>邮寄地址<span class=\"tag\">&lt;/<span class=\"name\">label</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">class</span>=<span class=\"string\">\"bottom-input\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">id</span>=<span class=\"string\">\"edit-field-ge-address-und-0-value\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"field_ge_address[und][0][value]\"</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<h2 id=\"7-医院选择控件\"><a href=\"#7-医院选择控件\" class=\"headerlink\" title=\"7.医院选择控件\"></a><a name=\"医院选择控件\"></a>7.医院选择控件</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// 桌面版医院</span></div><div class=\"line\"><span class=\"keyword\">var</span> cascadeHospital = <span class=\"keyword\">new</span> Cascading.Desktop(&#123;</div><div class=\"line\">     type: <span class=\"string\">'hospital'</span>,</div><div class=\"line\">     data: <span class=\"string\">'dataLocation2Level'</span>,</div><div class=\"line\">     dataUrl: <span class=\"string\">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/location_2level.js?t=123'</span>,</div><div class=\"line\">     panelNames: [<span class=\"string\">'等级'</span>, <span class=\"string\">'医院'</span>],</div><div class=\"line\">     panelWidth: [<span class=\"string\">'30'</span>, <span class=\"string\">'70'</span>],</div><div class=\"line\">     container: <span class=\"string\">'cascading-hospital-container'</span>,</div><div class=\"line\">     defaultSelected: [[<span class=\"string\">'150000'</span>, <span class=\"string\">'150600'</span>]],</div><div class=\"line\">     ieFallback: <span class=\"literal\">true</span>,</div><div class=\"line\">     confirmCallback: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>)</span>&#123;</div><div class=\"line\">             $(<span class=\"string\">'#edit-field-ge-hospital-und-0-value'</span>).next(<span class=\"string\">'.error'</span>).hide();</div><div class=\"line\">         $(<span class=\"string\">'#edit-field-ge-hospital-und-0-value'</span>).val(data.name.join(<span class=\"string\">','</span>));</div><div class=\"line\">         <span class=\"keyword\">if</span>(isIE8 &amp;&amp; $(<span class=\"string\">'#edit-field-ge-hospital-und-0-value'</span>).val())&#123;</div><div class=\"line\">             $(<span class=\"string\">'#edit-field-ge-hospital-und-0-value'</span>).next(<span class=\"string\">'span'</span>).hide();</div><div class=\"line\">         &#125;</div><div class=\"line\"></div><div class=\"line\">     &#125;</div><div class=\"line\"> &#125;);</div><div class=\"line\">   $(<span class=\"string\">'#edit-field-ge-hospital-und-0-value'</span>).on(<span class=\"string\">'focus'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\">      cascadeHospital.open();</div><div class=\"line\">      <span class=\"keyword\">this</span>.blur();</div><div class=\"line\">  &#125;);</div><div class=\"line\">  <span class=\"comment\">//移动版医院</span></div><div class=\"line\"><span class=\"keyword\">var</span> cascadeHospitalMobile = <span class=\"keyword\">new</span> Cascading.Mobile(&#123;</div><div class=\"line\">  type: <span class=\"string\">'hospital'</span>,</div><div class=\"line\">  container: <span class=\"string\">'cascading-hospital-mobile-container'</span>,</div><div class=\"line\">  additionClass: <span class=\"string\">'cascading-hospital-mobile-container-custom'</span>,</div><div class=\"line\">  data: <span class=\"string\">'dataLocation2Level'</span>,</div><div class=\"line\">  dataUrl: <span class=\"string\">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/location_2level.js?t=123'</span>,</div><div class=\"line\">  panelNames: [<span class=\"string\">'等级'</span>, <span class=\"string\">'医院'</span>],</div><div class=\"line\">  panelWidth: [<span class=\"string\">'30'</span>, <span class=\"string\">'70'</span>],</div><div class=\"line\">  defaultSelected: [[<span class=\"string\">'150000'</span>, <span class=\"string\">'150600'</span>]],</div><div class=\"line\">  ieFallback: <span class=\"literal\">true</span>,</div><div class=\"line\">  confirmCallback: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>)</span>&#123;</div><div class=\"line\">   $(<span class=\"string\">'#edit-field-ge-hospital-und-0-value'</span>).val(data.name.join(<span class=\"string\">','</span>));</div><div class=\"line\">    $(<span class=\"string\">'#edit-field-ge-hospital-und-0-value'</span>).next(<span class=\"string\">'.error'</span>).hide();</div><div class=\"line\"></div><div class=\"line\">   <span class=\"keyword\">if</span>(isIE8 &amp;&amp; $(<span class=\"string\">'#edit-field-ge-hospital-und-0-value'</span>).val())&#123;</div><div class=\"line\">       $(<span class=\"string\">'#edit-field-ge-hospital-und-0-value'</span>).next(<span class=\"string\">'span'</span>).hide();</div><div class=\"line\">   &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">&#125;);</div><div class=\"line\"> $(<span class=\"string\">'#edit-field-ge-hospital-und-0-value'</span>).on(<span class=\"string\">'click'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\">    cascadeHospitalMobile.open();</div><div class=\"line\">    <span class=\"keyword\">this</span>.blur();</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">            </div><div class=\"line\">//HTML内容</div><div class=\"line\"></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"bottom-input-box\"</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">label</span> <span class=\"attr\">for</span>=<span class=\"string\">\"\"</span>&gt;</span>医院<span class=\"tag\">&lt;/<span class=\"name\">label</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">class</span>=<span class=\"string\">\"bottom-input\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">id</span>=<span class=\"string\">\"edit-field-ge-hospital-und-0-value\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"field_ge_hospital[und][0][value]\"</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<h2 id=\"8-科室选择控件\"><a href=\"#8-科室选择控件\" class=\"headerlink\" title=\"8.科室选择控件\"></a><a name=\"科室选择控件\"></a>8.科室选择控件</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// 桌面版科室</span></div><div class=\"line\"><span class=\"keyword\">var</span> cascadeDepartment = <span class=\"keyword\">new</span> Cascading.Desktop(&#123;</div><div class=\"line\">   type: <span class=\"string\">'department'</span>,</div><div class=\"line\">   data: <span class=\"string\">'dataDivision'</span>,</div><div class=\"line\">   dataUrl: <span class=\"string\">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/division.js'</span>,</div><div class=\"line\">   container: <span class=\"string\">'cascading-department-container'</span>,</div><div class=\"line\">   onlyLast: <span class=\"literal\">true</span>,</div><div class=\"line\">   additionClass: <span class=\"string\">'cascading-department-container'</span>,</div><div class=\"line\">   maxSelect: <span class=\"number\">1</span>,</div><div class=\"line\">   ieFallback: <span class=\"literal\">true</span>,</div><div class=\"line\">   panelNames: [<span class=\"string\">'科室'</span>, <span class=\"string\">'科室二级'</span>],</div><div class=\"line\">   confirmCallback: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>)</span>&#123;</div><div class=\"line\">       $(<span class=\"string\">'#edit-field-ge-section-und-0-value'</span>).next(<span class=\"string\">'.error'</span>).hide();</div><div class=\"line\">       $(<span class=\"string\">'#edit-field-ge-section-und-0-value'</span>).val(data.pathName.join(<span class=\"string\">'&gt;'</span>));</div><div class=\"line\">       <span class=\"keyword\">if</span>(isIE8 &amp;&amp; $(<span class=\"string\">'#edit-field-ge-section-und-0-value'</span>).val())&#123;</div><div class=\"line\">         $(<span class=\"string\">'#edit-field-ge-section-und-0-value'</span>).next(<span class=\"string\">'span'</span>).hide();</div><div class=\"line\">      &#125;</div><div class=\"line\"></div><div class=\"line\">   &#125;</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">'#edit-field-ge-section-und-0-value'</span>).on(<span class=\"string\">'focus'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\"> cascadeDepartment.open();</div><div class=\"line\"> <span class=\"keyword\">this</span>.blur();</div><div class=\"line\">&#125;);</div><div class=\"line\"><span class=\"comment\">// 移动版科室</span></div><div class=\"line\"><span class=\"keyword\">var</span> cascadeDepartmentMobile = <span class=\"keyword\">new</span> Cascading.Mobile(&#123;</div><div class=\"line\">  type: <span class=\"string\">'common'</span>,</div><div class=\"line\">  data: <span class=\"string\">'dataDivision'</span>,</div><div class=\"line\">  dataUrl: <span class=\"string\">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/division.js'</span>,</div><div class=\"line\">  container: <span class=\"string\">'cascading-depart-mobile-container'</span>,</div><div class=\"line\">  confirmCallback: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>)</span>&#123;</div><div class=\"line\">    $(<span class=\"string\">'#edit-field-ge-section-und-0-value'</span>).val(data.pathName.join(<span class=\"string\">'&gt;'</span>));</div><div class=\"line\">    $(<span class=\"string\">'#edit-field-ge-section-und-0-value'</span>).next(<span class=\"string\">'.error'</span>).hide();</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">if</span>(isIE8 &amp;&amp; $(<span class=\"string\">'#edit-field-ge-section-und-0-value'</span>).val())&#123;</div><div class=\"line\">      $(<span class=\"string\">'#edit-field-ge-section-und-0-value'</span>).next(<span class=\"string\">'span'</span>).hide();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">'#edit-field-ge-section-und-0-value'</span>).on(<span class=\"string\">'focus'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\"> cascadeDepartmentMobile.open();</div><div class=\"line\"> <span class=\"keyword\">this</span>.blur();</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">              </div><div class=\"line\">//HTML内容</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"bottom-input-box\"</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">label</span> <span class=\"attr\">for</span>=<span class=\"string\">\"\"</span>&gt;</span>科室<span class=\"tag\">&lt;/<span class=\"name\">label</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">class</span>=<span class=\"string\">\"bottom-input\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">id</span>=<span class=\"string\">\"edit-field-ge-section-und-0-value\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"field_ge_section[und][0][value]\"</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<h2 id=\"9-职称选择控件\"><a href=\"#9-职称选择控件\" class=\"headerlink\" title=\"9.职称选择控件\"></a><a name=\"职称选择控件\"></a>9.职称选择控件</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// 桌面版职称</span></div><div class=\"line\">   <span class=\"keyword\">var</span> cascadeTitle = <span class=\"keyword\">new</span> Cascading.Desktop(&#123;</div><div class=\"line\">     type: <span class=\"string\">'common'</span>,</div><div class=\"line\">     data: <span class=\"string\">'dataTitle'</span>,</div><div class=\"line\">     dataUrl: <span class=\"string\">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/title.js'</span>,</div><div class=\"line\">     container: <span class=\"string\">'cascading-title-container'</span>,</div><div class=\"line\">     additionClass: <span class=\"string\">'test'</span>,</div><div class=\"line\">     ieFallback: <span class=\"literal\">true</span>,</div><div class=\"line\">     confirmCallback: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>)</span>&#123;</div><div class=\"line\">        $(<span class=\"string\">'[name=\"field_ge_jobtitle[und][0][value]\"]'</span>).next(<span class=\"string\">'.error'</span>).hide();</div><div class=\"line\">         $(<span class=\"string\">'[name=\"field_ge_jobtitle[und][0][value]\"]'</span>).val(data.pathName[<span class=\"number\">0</span>].join(<span class=\"string\">'&gt;'</span>));</div><div class=\"line\">         <span class=\"keyword\">if</span>(isIE8 &amp;&amp; $(<span class=\"string\">'[name=\"field_ge_jobtitle[und][0][value]\"]'</span>).val())&#123;</div><div class=\"line\">             $(<span class=\"string\">'[name=\"field_ge_jobtitle[und][0][value]\"]'</span>).next(<span class=\"string\">'span'</span>).hide();</div><div class=\"line\">         &#125;</div><div class=\"line\"></div><div class=\"line\">     &#125;</div><div class=\"line\"> &#125;);</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">'[name=\"field_ge_jobtitle[und][0][value]\"]'</span>).on(<span class=\"string\">'focus'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\"> cascadeTitle.open();</div><div class=\"line\"> <span class=\"keyword\">this</span>.blur();</div><div class=\"line\">&#125;);</div><div class=\"line\"><span class=\"comment\">// 移动版职称</span></div><div class=\"line\"><span class=\"keyword\">var</span> cascadeTitleMobile = <span class=\"keyword\">new</span> Cascading.Mobile(&#123;</div><div class=\"line\">   type: <span class=\"string\">'common'</span>,</div><div class=\"line\">   data: <span class=\"string\">'dataTitle'</span>,</div><div class=\"line\">   dataUrl: <span class=\"string\">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/title.js'</span>,</div><div class=\"line\">   container: <span class=\"string\">'cascading-title-mobile-container'</span>,</div><div class=\"line\">   additionClass: <span class=\"string\">'test'</span>,</div><div class=\"line\">   ieFallback: <span class=\"literal\">true</span>,</div><div class=\"line\">   confirmCallback: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>)</span>&#123;</div><div class=\"line\">     $(<span class=\"string\">'[name=\"field_ge_jobtitle[und][0][value]\"]'</span>).next(<span class=\"string\">'.error'</span>).hide();</div><div class=\"line\">     $(<span class=\"string\">'[name=\"field_ge_jobtitle[und][0][value]\"]'</span>).val(data.pathName[<span class=\"number\">0</span>].join(<span class=\"string\">'&gt;'</span>));</div><div class=\"line\">     <span class=\"keyword\">if</span>(isIE8 &amp;&amp; $(<span class=\"string\">'[name=\"field_ge_jobtitle[und][0][value]\"]'</span>).val())&#123;</div><div class=\"line\">         $(<span class=\"string\">'[name=\"field_ge_jobtitle[und][0][value]\"]'</span>).next(<span class=\"string\">'span'</span>).hide();</div><div class=\"line\">     &#125;</div><div class=\"line\"></div><div class=\"line\"> &#125;</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">'[name=\"field_ge_jobtitle[und][0][value]\"]'</span>).on(<span class=\"string\">'focus'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\"> cascadeTitleMobile.open();</div><div class=\"line\"> <span class=\"keyword\">this</span>.blur();</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">                    </div><div class=\"line\">//HTML内容</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"bottom-input-box\"</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">label</span> <span class=\"attr\">for</span>=<span class=\"string\">\"\"</span>&gt;</span>职称<span class=\"tag\">&lt;/<span class=\"name\">label</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">class</span>=<span class=\"string\">\"bottom-input\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">id</span>=<span class=\"string\">\"edit-field-ge-job-und-0-value\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"field_ge_jobtitle[und][0][value]\"</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<h2 id=\"10-判断是否移动端\"><a href=\"#10-判断是否移动端\" class=\"headerlink\" title=\"10.判断是否移动端\"></a><a name=\"判断是否移动端\"></a>10.判断是否移动端</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> isMobile = <span class=\"regexp\">/mobile|dxyapp/i</span>.test(<span class=\"built_in\">window</span>.navigator.userAgent);</div><div class=\"line\"><span class=\"comment\">//使用</span></div><div class=\"line\"><span class=\"keyword\">if</span>(isMobile)&#123;</div><div class=\"line\">    <span class=\"comment\">//do someting</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"11-获取内页文章ID\"><a href=\"#11-获取内页文章ID\" class=\"headerlink\" title=\"11.获取内页文章ID\"></a><a name=\"获取内页文章ID\"></a>11.获取内页文章ID</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getContentId</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> match = $(<span class=\"string\">'body'</span>).attr(<span class=\"string\">'class'</span>).match(<span class=\"regexp\">/page-node-(\\d+)/</span>);</div><div class=\"line\">    <span class=\"keyword\">return</span> match ? match[<span class=\"number\">1</span>] : <span class=\"number\">-1</span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"><span class=\"comment\">//使用</span></div><div class=\"line\"><span class=\"keyword\">var</span> getId = getContentId();</div></pre></td></tr></table></figure>\n<h2 id=\"12-validate插件扩展\"><a href=\"#12-validate插件扩展\" class=\"headerlink\" title=\"12.validate插件扩展\"></a><a name=\"validate插件扩展\"></a>12.validate插件扩展</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//将该段代码写在validate.min.js最后来增加自定义扩展</span></div><div class=\"line\">jQuery.extend(jQuery.validator.messages, &#123;</div><div class=\"line\">    required: <span class=\"string\">\"此项必填\"</span>,</div><div class=\"line\">    chineseName: <span class=\"string\">\"请输入正确的中文名\"</span>,</div><div class=\"line\">    mobileNumber: <span class=\"string\">\"请输入正确的手机号码\"</span>,</div><div class=\"line\">    remote: <span class=\"string\">\"请重新输入\"</span>,</div><div class=\"line\">    email: <span class=\"string\">\"请输入正确的电子邮件\"</span>,</div><div class=\"line\">    url: <span class=\"string\">\"请输入正确的网址\"</span>,</div><div class=\"line\">    date: <span class=\"string\">\"请输入正确的日期\"</span>,</div><div class=\"line\">    dateISO: <span class=\"string\">\"请输入正确的日期\"</span>,</div><div class=\"line\">    number: <span class=\"string\">\"请输入正确的数字\"</span>,</div><div class=\"line\">    digits: <span class=\"string\">\"只能输入整数\"</span>,</div><div class=\"line\">    creditcard: <span class=\"string\">\"请输入正确的信用卡号\"</span>,</div><div class=\"line\">    equalTo: <span class=\"string\">\"请再输一次\"</span>,</div><div class=\"line\">    accept: <span class=\"string\">\"不支持上传该附件类型\"</span>,</div><div class=\"line\">    filesize:<span class=\"string\">\"文件太大\"</span>,</div><div class=\"line\">    maxlength: jQuery.validator.format(<span class=\"string\">\"长度最多为 &#123;0&#125; 位\"</span>),</div><div class=\"line\">    minlength: jQuery.validator.format(<span class=\"string\">\"长度最少为 &#123;0&#125;位\"</span>),</div><div class=\"line\">    rangelength: jQuery.validator.format(<span class=\"string\">\"长度介于 &#123;0&#125; 位和 &#123;1&#125; 位之间\"</span>),</div><div class=\"line\">    range: jQuery.validator.format(<span class=\"string\">\"大小介于 &#123;0&#125; 和 &#123;1&#125; 之间\"</span>),</div><div class=\"line\">    max: jQuery.validator.format(<span class=\"string\">\"最大为 &#123;0&#125; \"</span>),</div><div class=\"line\">    min: jQuery.validator.format(<span class=\"string\">\"最小为 &#123;0&#125; \"</span>)</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// 中文名</span></div><div class=\"line\">jQuery.validator.addMethod(<span class=\"string\">\"chineseName\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">value, element</span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.optional(element) || <span class=\"regexp\">/^[\\u4E00-\\u9FA5]&#123;2,5&#125;$/</span>.test(value);</div><div class=\"line\">&#125;, <span class=\"string\">'请输入正确的中文名'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// 手机号码</span></div><div class=\"line\">jQuery.validator.addMethod(<span class=\"string\">\"mobileNumber\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">value, element</span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.optional(element) || <span class=\"regexp\">/^(13[0-9]|15[0-35-9]|18[0-9]|17[06-8]|14[57])\\d&#123;8&#125;$/</span>.test(value);</div><div class=\"line\">&#125;, <span class=\"string\">'请输入正确的手机号码'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//电话的验证      </span></div><div class=\"line\">jQuery.validator.addMethod(<span class=\"string\">\"isPhone\"</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">value,element</span>) </span>&#123; </div><div class=\"line\">        <span class=\"keyword\">var</span> length = value.length;   </div><div class=\"line\">        <span class=\"keyword\">var</span> mobile = <span class=\"regexp\">/^(13[0-9]|15[0-35-9]|18[0-9]|17[06-8]|14[57])\\d&#123;8&#125;$/</span>;   </div><div class=\"line\">        <span class=\"keyword\">var</span> tel = <span class=\"regexp\">/^((\\(\\d&#123;2,3&#125;\\))|(\\d&#123;3&#125;\\-))?(\\(0\\d&#123;2,3&#125;\\)|0\\d&#123;2,3&#125;-)?[1-9]\\d&#123;6,7&#125;(\\-\\d&#123;1,4&#125;)?$/</span>;   </div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.optional(element) || (tel.test(value) ||  (length == <span class=\"number\">11</span> &amp;&amp; mobile.test(value))); </div><div class=\"line\">&#125;, <span class=\"string\">\"请输入正确的联系电话\"</span>);</div><div class=\"line\"></div><div class=\"line\">jQuery.validator.addMethod(<span class=\"string\">\"extension\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">value, element, param</span>) </span>&#123;</div><div class=\"line\">    param = <span class=\"keyword\">typeof</span> param === <span class=\"string\">\"string\"</span> ? param.replace(<span class=\"regexp\">/,/g</span>, <span class=\"string\">'|'</span>) : <span class=\"string\">\"png|jpe?g|gif\"</span>;</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.optional(element) || value.match(<span class=\"keyword\">new</span> <span class=\"built_in\">RegExp</span>(<span class=\"string\">\"\\\\.(\"</span> + param + <span class=\"string\">\")$\"</span>, <span class=\"string\">\"i\"</span>));</div><div class=\"line\">&#125;, jQuery.format(<span class=\"string\">\"请选择正确的文件格式\"</span>));</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//邮编 </span></div><div class=\"line\">jQuery.validator.addMethod(<span class=\"string\">\"postcode\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">value, element</span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.optional(element) || <span class=\"regexp\">/^[1-9]\\d&#123;5&#125;$/</span>.test(value);</div><div class=\"line\">&#125;, <span class=\"string\">'请输入正确的邮编'</span>);</div><div class=\"line\"><span class=\"comment\">//身份证 </span></div><div class=\"line\">jQuery.validator.addMethod(<span class=\"string\">\"identitycard\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">value, element</span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.optional(element) || <span class=\"regexp\">/^(\\d&#123;15&#125;$|^\\d&#123;18&#125;$|^\\d&#123;17&#125;(\\d|X|x))$/</span>.test(value);</div><div class=\"line\">&#125;, <span class=\"string\">'请输入正确的身份证号'</span>);</div><div class=\"line\"><span class=\"comment\">//文件大小</span></div><div class=\"line\">$.validator.addMethod(<span class=\"string\">'filesize'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">value, element, param</span>) </span>&#123;</div><div class=\"line\">    <span class=\"comment\">//以bytes为单位</span></div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.optional(element) || (element.files[<span class=\"number\">0</span>].size &lt;= param) </div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//改变错误提示的标签</span></div><div class=\"line\">jQuery.validator.defaults.errorElement = <span class=\"string\">'span'</span>;</div></pre></td></tr></table></figure>\n<h2 id=\"13-validate插件使用\"><a href=\"#13-validate插件使用\" class=\"headerlink\" title=\"13.validate插件使用\"></a><a name=\"validate插件使用\"></a>13.validate插件使用</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> caseForm = $(<span class=\"string\">'表单'</span>); <span class=\"comment\">//获取表单元素</span></div><div class=\"line\"><span class=\"keyword\">if</span>(!caseForm.length) &#123;</div><div class=\"line\">          <span class=\"keyword\">return</span>;</div><div class=\"line\">  &#125;</div><div class=\"line\">  caseForm.validate(&#123;</div><div class=\"line\">      focusCleanup:<span class=\"literal\">true</span>,</div><div class=\"line\">      rules: &#123;</div><div class=\"line\">        <span class=\"comment\">//这里的title均为name属性值</span></div><div class=\"line\">          <span class=\"string\">'title'</span>: &#123;required: <span class=\"literal\">true</span>&#125;,</div><div class=\"line\">          <span class=\"string\">'field_realname[und][0][value]'</span>: &#123;required: <span class=\"literal\">true</span>&#125;,</div><div class=\"line\">          <span class=\"string\">'field_job[und][0][value]'</span>: &#123;required: <span class=\"literal\">true</span>&#125;,</div><div class=\"line\">          <span class=\"string\">'field_address[und][0][value]'</span>: &#123;required: <span class=\"literal\">true</span>&#125;,</div><div class=\"line\">          <span class=\"string\">'field_phone[und][0][value]'</span>: &#123;required: <span class=\"literal\">true</span>, mobileNumber: <span class=\"literal\">true</span>&#125;,</div><div class=\"line\">          <span class=\"string\">'field_location[und][0][value]'</span>: &#123;required: <span class=\"literal\">true</span>&#125;,</div><div class=\"line\">          <span class=\"string\">'field_company[und][0][value]'</span>: &#123;required: <span class=\"literal\">true</span>&#125;,</div><div class=\"line\">          <span class=\"string\">'field_department[und][0][value]'</span>: &#123;required: <span class=\"literal\">true</span>&#125;,</div><div class=\"line\">          <span class=\"string\">'field_email[und][0][value]'</span>: &#123;required: <span class=\"literal\">true</span>, email: <span class=\"literal\">true</span>&#125;,</div><div class=\"line\">          <span class=\"string\">'files[field_file_und_0]'</span>: &#123;required: <span class=\"literal\">true</span>,accept:<span class=\"string\">'docx|doc|pdf|ppt|pptx'</span>,filesize:<span class=\"number\">20971520</span>&#125;</div><div class=\"line\">      &#125;,</div><div class=\"line\">      messages: &#123;</div><div class=\"line\">          <span class=\"string\">'title'</span>: &#123;</div><div class=\"line\">              required: <span class=\"string\">'请输入标题'</span></div><div class=\"line\">          &#125;,</div><div class=\"line\">          <span class=\"string\">'field_realname[und][0][value]'</span>: &#123;</div><div class=\"line\">              required: <span class=\"string\">'请输入姓名'</span></div><div class=\"line\">          &#125;,</div><div class=\"line\">          <span class=\"string\">'field_job[und][0][value]'</span>: &#123;</div><div class=\"line\">              required: <span class=\"string\">'请输入职称'</span></div><div class=\"line\">          &#125;,</div><div class=\"line\">          <span class=\"string\">'field_address[und][0][value]'</span>: &#123;</div><div class=\"line\">              required: <span class=\"string\">'请输入通讯地址'</span></div><div class=\"line\">          &#125;,</div><div class=\"line\">          <span class=\"string\">'field_phone[und][0][value]'</span>: &#123;</div><div class=\"line\">              required: <span class=\"string\">'请输入电话或者手机号码'</span></div><div class=\"line\">          &#125;,</div><div class=\"line\">          <span class=\"string\">'field_location[und][0][value]'</span>: &#123;</div><div class=\"line\">              required: <span class=\"string\">'请选择地区'</span></div><div class=\"line\">          &#125;,</div><div class=\"line\">          <span class=\"string\">'field_company[und][0][value]'</span>: &#123;</div><div class=\"line\">              required: <span class=\"string\">'请选择工作单位'</span></div><div class=\"line\">          &#125;,</div><div class=\"line\">          <span class=\"string\">'field_department[und][0][value]'</span>: &#123;</div><div class=\"line\">              required: <span class=\"string\">'请选择所在科室'</span></div><div class=\"line\">          &#125;,</div><div class=\"line\">          <span class=\"string\">'field_email[und][0][value]'</span>: &#123;</div><div class=\"line\">              required: <span class=\"string\">'请输入电子邮箱'</span></div><div class=\"line\">          &#125;,</div><div class=\"line\">          <span class=\"string\">'files[field_file_und_0]'</span>: &#123;</div><div class=\"line\">              required: <span class=\"string\">'请上传文件'</span>,</div><div class=\"line\">              accept:<span class=\"string\">'不支持该文件类型'</span>,</div><div class=\"line\">              filesize:<span class=\"string\">'文件太大'</span></div><div class=\"line\">          &#125;</div><div class=\"line\">      &#125;,</div><div class=\"line\">      errorPlacement: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">error, element</span>)</span>&#123;</div><div class=\"line\">          error.appendTo(element.closest(<span class=\"string\">'放置错误信息的容器'</span>));</div><div class=\"line\">      &#125;,</div><div class=\"line\">      submitHandler:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">form</span>)</span></div><div class=\"line\">      &#123;</div><div class=\"line\">          form.submit();</div><div class=\"line\">      &#125;</div><div class=\"line\">  &#125;);</div></pre></td></tr></table></figure>\n<h2 id=\"14-bxslider轮播图使用\"><a href=\"#14-bxslider轮播图使用\" class=\"headerlink\" title=\"14.bxslider轮播图使用\"></a><a name=\"bxslider轮播图使用\"></a>14.bxslider轮播图使用</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">'../lib/jquery.bxslider.js'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> slider = $(<span class=\"string\">'放置轮播图的容器'</span>);</div><div class=\"line\"><span class=\"keyword\">if</span> (slider.length) &#123;</div><div class=\"line\">    slider.bxSlider(&#123;</div><div class=\"line\">        auto:<span class=\"literal\">true</span>,</div><div class=\"line\">        minSlides: <span class=\"number\">1</span>,</div><div class=\"line\">        maxSlides: <span class=\"number\">1</span>,</div><div class=\"line\">        moveSlides: <span class=\"number\">1</span>,</div><div class=\"line\">        adaptiveHeight: <span class=\"literal\">true</span></div><div class=\"line\">    &#125;);</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"comment\">//详细API请见官网</span></div></pre></td></tr></table></figure>\n<h2 id=\"15-一般选项卡\"><a href=\"#15-一般选项卡\" class=\"headerlink\" title=\"15.一般选项卡\"></a><a name=\"一般选项卡\"></a>15.一般选项卡</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">'.tab .title'</span>).click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    $(<span class=\"keyword\">this</span>).addClass(<span class=\"string\">'active'</span>).siblings().removeClass(<span class=\"string\">'active'</span>);</div><div class=\"line\">    $(<span class=\"string\">'.tab .content'</span>).eq($(<span class=\"keyword\">this</span>).index()).show().siblings().hide();</div><div class=\"line\">&#125;).eq(<span class=\"number\">0</span>).click();</div></pre></td></tr></table></figure>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">      </div><div class=\"line\">//HTML</div><div class=\"line\"></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"tab\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"title\"</span>&gt;</span>title-1<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"title\"</span>&gt;</span>title-2<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"title\"</span>&gt;</span>title-3<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"container\"</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"content\"</span>&gt;</span>content-1<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"content\"</span>&gt;</span>content-2<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"content\"</span>&gt;</span>content-3<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<h2 id=\"16-新窗口打开页面\"><a href=\"#16-新窗口打开页面\" class=\"headerlink\" title=\"16.    新窗口打开页面\"></a><a name=\"新窗口打开页面\"></a>16.    新窗口打开页面</h2><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">//<span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"http://zanseven007.github.io\"</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"external\"</span>&gt;</span>open link<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">$(<span class=\"built_in\">document</span>).ready(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  $(<span class=\"string\">\"a[rel$='external']\"</span>).click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.target=<span class=\"string\">'_blank'</span>;    </div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<h2 id=\"17-滚动到指定位置滑动动画\"><a href=\"#17-滚动到指定位置滑动动画\" class=\"headerlink\" title=\"17. 滚动到指定位置滑动动画\"></a><a name=\"滚动到指定位置滑动动画\"></a>17. 滚动到指定位置滑动动画</h2><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">jQuery.fn.scrollTo = function(speed)&#123;</div><div class=\"line\">  var targetOffset = $(this).offset().top;</div><div class=\"line\">  $(html,body).stop().animate(&#123;scrollTop: targetOffset&#125;, speed);</div><div class=\"line\">&#125;</div><div class=\"line\">//使用</div><div class=\"line\"> $(#goTop).click(function()&#123;</div><div class=\"line\">  $(body).scrollTo(500); //返回顶部</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<h2 id=\"18-对话框控件使用\"><a href=\"#18-对话框控件使用\" class=\"headerlink\" title=\"18.对话框控件使用\"></a><a name=\"对话框控件使用\"></a>18.对话框控件使用</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> Dialog = <span class=\"built_in\">require</span>(<span class=\"string\">'./tool/dialog.js'</span>);</div><div class=\"line\">Dialog.show();</div><div class=\"line\">Dialog.alert();</div><div class=\"line\">Dialog.hide();</div><div class=\"line\">Dialog.tip();</div><div class=\"line\"><span class=\"comment\">//四个方法</span></div></pre></td></tr></table></figure>\n<p>现在已经被范同学优化,详细请见<a href=\"https://github.com/dxy-biz-developer/dxy-dialog\" target=\"_blank\" rel=\"external\">dxy-dialog</a>    </p>\n<h2 id=\"19-移动端PPT使用\"><a href=\"#19-移动端PPT使用\" class=\"headerlink\" title=\"19.移动端PPT使用\"></a><a name=\"移动端PPT使用\"></a>19.移动端PPT使用</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> flash = $(<span class=\"string\">'.放置容器 iframe, .放置容器 object'</span>);  <span class=\"comment\">//获取PPT元素</span></div><div class=\"line\"><span class=\"keyword\">if</span> (isMobile &amp;&amp; flash.length) &#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> js = <span class=\"string\">'http://assets.dxycdn.com/templates/core/third-party/mobile-ppt/mobile-ppt.min.js'</span>;</div><div class=\"line\">    $.getScript(js, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        MobilePPT.init(<span class=\"string\">'biz'</span>, &#123;</div><div class=\"line\">            flash: flash,</div><div class=\"line\">            dataUrlBuilder: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">nid</span>) </span>&#123;</div><div class=\"line\">                <span class=\"keyword\">return</span> <span class=\"string\">'http://www.dxy.cn/topic/biz/ppt地址/'</span> + nid + <span class=\"string\">'/ps-data.js'</span>;  <span class=\"comment\">//有一个用node.js写的转换工具，需要向编辑人员要取PPT里面的所有图片，通过转换工具转换后将转换后的内容上传到FTP上，然后地址填写在这里即可</span></div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;);</div><div class=\"line\">    &#125;);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"20-即将离开丁香园提示框\"><a href=\"#20-即将离开丁香园提示框\" class=\"headerlink\" title=\"20.即将离开丁香园提示框\"></a><a name=\"即将离开丁香园提示框\"></a>20.即将离开丁香园提示框</h2><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">//css</div><div class=\"line\">.page-go-cmeflist .mask&#123; </div><div class=\"line\">    position: fixed;</div><div class=\"line\">    top: 0;</div><div class=\"line\">    right: 0;</div><div class=\"line\">    left: 0;</div><div class=\"line\">    bottom: 0;</div><div class=\"line\">    background: #000;filter:alpha(opacity=50); opacity: .6; z-index: 233333;</div><div class=\"line\"> &#125;</div><div class=\"line\">.link__panel&#123;</div><div class=\"line\">    width: 400px;</div><div class=\"line\">    height: auto;</div><div class=\"line\">    background: #fff;</div><div class=\"line\">    border-radius: 5px;</div><div class=\"line\">    box-shadow: 0 0 0 #555;</div><div class=\"line\">    border: 1px solid #999;</div><div class=\"line\">    position: fixed;</div><div class=\"line\">    top: 50%;</div><div class=\"line\">    left: 50%;</div><div class=\"line\">    margin-left: -200px;</div><div class=\"line\">    z-index: 2333333;</div><div class=\"line\">    margin-top: -100px;</div><div class=\"line\">&#125;</div><div class=\"line\">.link__panel .close&#123;</div><div class=\"line\">    position: absolute;</div><div class=\"line\">    width: 40px;</div><div class=\"line\">    height: 40px;</div><div class=\"line\">    top: 0;</div><div class=\"line\">    right: 5px;</div><div class=\"line\">    background: url(../img/icon-close.png?t=20160126) no-repeat center center;</div><div class=\"line\">    cursor: pointer;</div><div class=\"line\">&#125;</div><div class=\"line\">.link__panel_header&#123;</div><div class=\"line\">    height: 40px;</div><div class=\"line\">    border-bottom: 1px solid #ddd;</div><div class=\"line\">    padding: 0 15px;</div><div class=\"line\">    line-height: 40px;</div><div class=\"line\">    font-size: 14px;</div><div class=\"line\">    color: #666;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">.link__panel_body&#123;</div><div class=\"line\">    height: auto;</div><div class=\"line\">    border-bottom: 1px solid #ddd;</div><div class=\"line\">    padding: 15px;</div><div class=\"line\">    line-height: 1.8;</div><div class=\"line\">    font-size: 14px;</div><div class=\"line\">    color: #666;</div><div class=\"line\">&#125;</div><div class=\"line\">.link__panel_body a&#123;</div><div class=\"line\">    color: #4299D8;</div><div class=\"line\">    display: block;</div><div class=\"line\">&#125;</div><div class=\"line\">.link__panel_footer&#123;</div><div class=\"line\">    font-size: 14px;</div><div class=\"line\">    text-align: right;</div><div class=\"line\">    padding: 15px;</div><div class=\"line\">&#125;</div><div class=\"line\">.link__panel_footer .btn&#123;</div><div class=\"line\">    padding: 3px 10px;</div><div class=\"line\">    border: 1px solid #ddd;</div><div class=\"line\">    display: inline-block;</div><div class=\"line\">    vertical-align: top;</div><div class=\"line\">    font-weight: 500;</div><div class=\"line\">    border-radius: 3px;</div><div class=\"line\">    margin-right: 10px;</div><div class=\"line\">&#125;</div><div class=\"line\">.link__panel_footer .btn-goon&#123;</div><div class=\"line\">    background: #4299D8;</div><div class=\"line\">    color: #fff;</div><div class=\"line\">&#125;</div><div class=\"line\">.link__panel_footer .btn-close&#123;</div><div class=\"line\">    background: #eee;</div><div class=\"line\">    color: #666;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// js</span></div><div class=\"line\">$(<span class=\"string\">'a标签的父级元素'</span>).on(<span class=\"string\">'click'</span>, <span class=\"string\">'a'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event</span>) </span>&#123;</div><div class=\"line\">    event.preventDefault();</div><div class=\"line\">    <span class=\"keyword\">var</span> link = $(<span class=\"keyword\">this</span>).attr(<span class=\"string\">'href'</span>),</div><div class=\"line\">        text = $(<span class=\"keyword\">this</span>).html();</div><div class=\"line\">    $(<span class=\"string\">'body'</span>).append(<span class=\"string\">'&lt;div class=\"mask\"&gt;&lt;/div&gt;'</span>+</div><div class=\"line\">        <span class=\"string\">'&lt;div class=\"link__panel\"&gt;'</span>+</div><div class=\"line\">            <span class=\"string\">'&lt;div class=\"close\"&gt;&lt;/div&gt;'</span>+</div><div class=\"line\">            <span class=\"string\">'&lt;div class=\"link__panel_header\"&gt;提示：&lt;/div&gt;'</span>+</div><div class=\"line\">            <span class=\"string\">'&lt;div class=\"link__panel_body\"&gt;你将离开丁香园，进入其他页面:&lt;br&gt; &lt;a href=\"'</span>+ link +<span class=\"string\">'\"&gt;'</span>+ link +<span class=\"string\">'&lt;/a&gt;&lt;/div&gt;'</span>+</div><div class=\"line\">            <span class=\"string\">'&lt;div class=\"link__panel_footer\"&gt;'</span>+</div><div class=\"line\">                <span class=\"string\">'&lt;a href=\"'</span>+ link +<span class=\"string\">'\" class=\"btn  btn-goon\"&gt;继续访问&lt;/a&gt;'</span>+</div><div class=\"line\">                <span class=\"string\">'&lt;a href=\"\" class=\"btn  btn-close\"&gt;关闭&lt;/a&gt;'</span>+</div><div class=\"line\">            <span class=\"string\">'&lt;/div&gt;'</span>+</div><div class=\"line\">        <span class=\"string\">'&lt;/div&gt;'</span>);</div><div class=\"line\">    $(<span class=\"string\">'.link__panel .close, .link__panel .btn-close'</span>).on(<span class=\"string\">'click'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event</span>) </span>&#123;</div><div class=\"line\">        event.preventDefault();</div><div class=\"line\">        $(<span class=\"string\">'.mask, .link__panel'</span>).remove();</div><div class=\"line\">    &#125;);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h2 id=\"21-滚动条插件\"><a href=\"#21-滚动条插件\" class=\"headerlink\" title=\"21.滚动条插件\"></a><a name=\"滚动条插件\"></a>21.滚动条插件</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> IScroll  = <span class=\"built_in\">require</span>(<span class=\"string\">'./lib/iscroll.js'</span>);</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">initActivityIntro</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">var</span> el = $(<span class=\"string\">'.process__pic'</span>);</div><div class=\"line\">    <span class=\"keyword\">var</span> inel = $(<span class=\"string\">'.info'</span>);</div><div class=\"line\">    <span class=\"keyword\">if</span> (el.length) &#123;</div><div class=\"line\">      <span class=\"keyword\">new</span> IScroll(el[<span class=\"number\">0</span>], &#123;</div><div class=\"line\">        scrollbars: <span class=\"literal\">true</span>,</div><div class=\"line\">        scrollX:<span class=\"literal\">true</span></div><div class=\"line\">      &#125;);</div><div class=\"line\">      &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">initActivityIntro();</div></pre></td></tr></table></figure>\n<h2 id=\"22-微信分享\"><a href=\"#22-微信分享\" class=\"headerlink\" title=\"22.微信分享\"></a><a name=\"微信分享\"></a>22.微信分享</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> dxy_wechat_share = <span class=\"built_in\">require</span>(<span class=\"string\">'dxy-wechat-share'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">window</span>.wx_share = <span class=\"string\">'callback(具体地址看项目)'</span>;</div><div class=\"line\">dxy_wechat_share(&#123;</div><div class=\"line\">  title:<span class=\"string\">'这是一个标题'</span>,</div><div class=\"line\">  desc:<span class=\"string\">'这是一个摘要第一行\\n这是一个摘要第二行'</span>,</div><div class=\"line\">  imgUrl:<span class=\"string\">'这是一个分享图片地址'</span></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h2 id=\"23-移动端多行显示省略号\"><a href=\"#23-移动端多行显示省略号\" class=\"headerlink\" title=\"23.移动端多行显示省略号\"></a><a name=\"移动端多行显示省略号\"></a>23.移动端多行显示省略号</h2><p><code>display: -webkit-box;</code> 必须结合的属性 ，将对象作为弹性伸缩盒子模型显示 。<br><code>-webkit-box-orient</code> 必须结合的属性 ，设置或检索伸缩盒对象的子元素的排列方式 。<br><code>text-overflow: ellipsis;</code>，可以用来多行文本的情况下，用省略号“…”隐藏超出范围的文本 </p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">overflow</span> : <span class=\"selector-tag\">hidden</span>;</div><div class=\"line\"><span class=\"selector-tag\">text-overflow</span>: <span class=\"selector-tag\">ellipsis</span>;</div><div class=\"line\"><span class=\"selector-tag\">display</span>: <span class=\"selector-tag\">-webkit-box</span>;</div><div class=\"line\"><span class=\"selector-tag\">-webkit-line-clamp</span>: 2;</div><div class=\"line\"><span class=\"selector-tag\">-webkit-box-orient</span>: <span class=\"selector-tag\">vertical</span>;</div></pre></td></tr></table></figure>\n<h2 id=\"24-iframe高度自适应\"><a href=\"#24-iframe高度自适应\" class=\"headerlink\" title=\"24.iframe高度自适应\"></a><a name=\"iframe高度自适应\"></a>24.iframe高度自适应</h2><p>在商业项目中引入丁香客的微话题使用,请先 <code>npm install iframe-auto-height --save</code> 安装跑路宗坤写的一个包。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//在合适的地方引用，这个控件有个bug</span></div><div class=\"line\"><span class=\"comment\">//需要在parent.js里面跳过第一次执行onmessage函数，需从第二次开始执行</span></div><div class=\"line\"><span class=\"keyword\">var</span> AutoHeight = <span class=\"built_in\">require</span>(<span class=\"string\">'iframe-auto-height/parent'</span>);</div><div class=\"line\"><span class=\"keyword\">new</span> AutoHeight();</div></pre></td></tr></table></figure>","excerpt":"<p>本文主要是我入职以来在E-marketing项目中常用到的一些控件使用，兼容方法，交互效果的说明和使用方法，欢迎大家对本文进行更改或者补充，下文中所有<code>require()</code>的类库均可在各个E-marketing项目中找到，可以直接copy到自己项目中使用。<br>","more":"</p>\n<h1 id=\"目录\"><a href=\"#目录\" class=\"headerlink\" title=\"目录\"></a>目录</h1><ol>\n<li><em><a href=\"#判断是否IE8\">判断是否IE8</a></em></li>\n<li><em><a href=\"#IE8修复placeholder\">IE8修复placeholder</a></em></li>\n<li><em><a href=\"#IE8 box-shadow兼容\">IE8 box-shaadow兼容</a></em></li>\n<li><em><a href=\"#IE8 rgba兼容\">IE8 rgba兼容</a></em></li>\n<li><em><a href=\"#分享组件使用\">分享组件使用</a></em></li>\n<li><em><a href=\"#地址选择控件\">地址选择控件</a></em></li>\n<li><em><a href=\"#医院选择控件\">医院选择控件</a></em></li>\n<li><em><a href=\"#科室选择控件\">科室选择控件</a></em></li>\n<li><em><a href=\"#职称选择控件\">职称选择控件</a></em></li>\n<li><em><a href=\"#判断是否移动端\">判断是否移动端</a></em></li>\n<li><em><a href=\"#获取内页文章ID\">获取内页文章ID</a></em></li>\n<li><em><a href=\"#validate插件扩展\">validate插件扩展</a></em></li>\n<li><em><a href=\"#validate插件使用\">validate插件使用</a></em></li>\n<li><em><a href=\"#bxslider轮播图使用\">bxslider轮播图使用</a></em></li>\n<li><em><a href=\"#一般选项卡\">一般选项卡</a></em></li>\n<li><em><a href=\"#新窗口打开页面\">新窗口打开页面</a></em></li>\n<li><em><a href=\"#滚动到指定位置滑动动画\">滚动到指定位置滑动动画</a></em></li>\n<li><em><a href=\"#对话框控件使用\">对话框控件使用</a></em></li>\n<li><em><a href=\"#移动端PPT使用\">移动端PPT使用</a></em></li>\n<li><em><a href=\"#即将离开丁香园提示框\">即将离开丁香园提示框</a></em></li>\n<li><em><a href=\"#滚动条插件\">滚动条插件</a></em></li>\n<li><em><a href=\"#微信分享\">微信分享</a></em></li>\n<li><em><a href=\"#移动端多行显示省略号\">移动端多行显示省略号</a></em></li>\n<li><em><a href=\"#iframe高度自适应\">iframe高度自适应</a></em></li>\n</ol>\n<h2 id=\"1-判断是否IE8\"><a href=\"#1-判断是否IE8\" class=\"headerlink\" title=\"1.判断是否IE8\"></a><a name=\"判断是否IE8\"></a>1.判断是否IE8</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> isIE=!!<span class=\"built_in\">window</span>.ActiveXObject; </div><div class=\"line\"><span class=\"keyword\">var</span> isIE8=isIE&amp;&amp;!!<span class=\"built_in\">document</span>.documentMode;</div><div class=\"line\"><span class=\"comment\">//使用</span></div><div class=\"line\"><span class=\"keyword\">if</span>(isIE8)&#123;</div><div class=\"line\">    <span class=\"comment\">//do something</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"2-IE8修复placeholder\"><a href=\"#2-IE8修复placeholder\" class=\"headerlink\" title=\"2.IE8修复placeholder\"></a><a name=\"IE8修复placeholder\"></a>2.IE8修复placeholder</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//placeholder兼容</span></div><div class=\"line\"><span class=\"keyword\">var</span> JPlaceHolder = &#123;</div><div class=\"line\">  <span class=\"comment\">//检测</span></div><div class=\"line\">  _check : <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">'placeholder'</span> <span class=\"keyword\">in</span> <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'input'</span>);</div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"comment\">//初始化</span></div><div class=\"line\">  init : <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">      <span class=\"keyword\">if</span>(!<span class=\"keyword\">this</span>._check())&#123;</div><div class=\"line\">          <span class=\"keyword\">this</span>.fix();</div><div class=\"line\">      &#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"comment\">//修复</span></div><div class=\"line\">  fix : <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">      jQuery(<span class=\"string\">':input[placeholder]'</span>).each(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">index, element</span>) </span>&#123;</div><div class=\"line\">          <span class=\"keyword\">var</span> self = $(<span class=\"keyword\">this</span>), txt = self.attr(<span class=\"string\">'placeholder'</span>);</div><div class=\"line\">          self.attr(<span class=\"string\">'placeholder'</span>,<span class=\"string\">''</span>);</div><div class=\"line\">          self.wrap($(<span class=\"string\">'&lt;div&gt;&lt;/div&gt;'</span>).css(&#123;position:<span class=\"string\">'relative'</span>, zoom:<span class=\"string\">'1'</span>, border:<span class=\"string\">'none'</span>, background:<span class=\"string\">'none'</span>, padding:<span class=\"string\">'none'</span>, margin:<span class=\"string\">'none'</span>&#125;));</div><div class=\"line\">          <span class=\"keyword\">var</span> pos = self.position(), h = self.outerHeight(<span class=\"literal\">true</span>), paddingleft = self.css(<span class=\"string\">'padding-left'</span>);</div><div class=\"line\">          <span class=\"keyword\">var</span> holder = $(<span class=\"string\">'&lt;span&gt;&lt;/span&gt;'</span>).text(txt).css(&#123;position:<span class=\"string\">'absolute'</span>, left:pos.left, top:pos.top, height:h, lineHeight:h+<span class=\"string\">'px'</span>, paddingLeft:paddingleft, color:<span class=\"string\">'#aaa'</span>,width:<span class=\"string\">'100%'</span>,display:<span class=\"string\">'block'</span>&#125;).appendTo(self.parent());</div><div class=\"line\">          self.focus(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>) </span>&#123;</div><div class=\"line\">              holder.hide();</div><div class=\"line\">          &#125;).blur(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>) </span>&#123;</div><div class=\"line\">              <span class=\"keyword\">if</span>(!self.val())&#123;</div><div class=\"line\">                  holder.show();</div><div class=\"line\">              &#125;</div><div class=\"line\">          &#125;);</div><div class=\"line\">          holder.click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>) </span>&#123;</div><div class=\"line\">              holder.hide();</div><div class=\"line\">              self.focus();</div><div class=\"line\">          &#125;);</div><div class=\"line\">      &#125;);</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"><span class=\"comment\">//使用</span></div><div class=\"line\">JPlaceHolder.init();</div></pre></td></tr></table></figure>\n<h2 id=\"3-IE8-box-shadow兼容\"><a href=\"#3-IE8-box-shadow兼容\" class=\"headerlink\" title=\"3.IE8 box-shadow兼容\"></a><a name=\"IE8 box-shadow兼容\"></a>3.IE8 box-shadow兼容</h2><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"selector-class\">.shaded</span> &#123; </div><div class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"number\">#fff</span>;</div><div class=\"line\">    <span class=\"attribute\">zoom</span>: <span class=\"number\">1</span>; </div><div class=\"line\">    <span class=\"attribute\">filter</span>: progid:DXImageTransform.Microsoft.<span class=\"built_in\">Shadow</span>(color=<span class=\"string\">'#aaaaaa'</span>, Direction=135, Strength=6);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//使用</span></div><div class=\"line\"><span class=\"keyword\">if</span>(isIE8)&#123;</div><div class=\"line\">    $(<span class=\"string\">'选择器'</span>).addClass(<span class=\"string\">'shaded'</span>);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"4-IE8-rgba兼容\"><a href=\"#4-IE8-rgba兼容\" class=\"headerlink\" title=\"4.IE8 rgba兼容\"></a><a name=\"IE8 rgba兼容\"></a>4.IE8 rgba兼容</h2><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">//其格式为 #AARRGGBB 。 AA 、 RR 、 GG 、 BB 为十六进制正整数。取值范围为 00 - FF 。 RR 指定红色值， GG 指定绿色值， BB 指定蓝色值。</div><div class=\"line\">//参阅 #RRGGBB 颜色单位。 AA 指定透明度。 00 是完全透明。 FF 是完全不透明。超出取值范围的值将被恢复为默认值。</div><div class=\"line\"></div><div class=\"line\">filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#7f000000,endColorstr=#7f000000);</div><div class=\"line\">//使用，直接在css里面加入就好</div></pre></td></tr></table></figure>\n<h2 id=\"5-分享组件使用\"><a href=\"#5-分享组件使用\" class=\"headerlink\" title=\"5.分享组件使用\"></a><a name=\"分享组件使用\"></a>5.分享组件使用</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> share = <span class=\"built_in\">require</span>(<span class=\"string\">'./dxy_share.js'</span>);</div><div class=\"line\"><span class=\"comment\">//使用</span></div><div class=\"line\"><span class=\"keyword\">var</span> shareContainer = $(<span class=\"string\">'放置容器'</span>); <span class=\"comment\">//给一个放置容器，其他事情控件会帮你完成</span></div><div class=\"line\">    <span class=\"keyword\">if</span> (shareContainer.length) &#123;</div><div class=\"line\">        shareContainer.attr(<span class=\"string\">'id'</span>,<span class=\"string\">'to-share'</span>);</div><div class=\"line\">        <span class=\"keyword\">new</span> share().show(&#123;</div><div class=\"line\">            id: <span class=\"string\">'to-share'</span>,</div><div class=\"line\">            lst: [<span class=\"string\">'weixin'</span>, <span class=\"string\">'sina'</span>, <span class=\"string\">'tt'</span>, <span class=\"string\">'qzone'</span>, <span class=\"string\">'douban'</span>], <span class=\"comment\">//需要分享到的社区列表</span></div><div class=\"line\">            style: <span class=\"number\">3</span>    <span class=\"comment\">//有许多不同的样式可以选择</span></div><div class=\"line\">        &#125;);</div><div class=\"line\">&#125;</div><div class=\"line\">  <span class=\"comment\">//sina: '新浪微博',</span></div><div class=\"line\">  <span class=\"comment\">//tt: '腾讯微博',</span></div><div class=\"line\">  <span class=\"comment\">//douban: '豆瓣',</span></div><div class=\"line\">  <span class=\"comment\">//renren: '人人网',</span></div><div class=\"line\">  <span class=\"comment\">//qzone: 'QQ空间',</span></div><div class=\"line\">  <span class=\"comment\">//idxy: '丁香客',</span></div><div class=\"line\">  <span class=\"comment\">//kaixin: '开心网',</span></div><div class=\"line\">  <span class=\"comment\">//weixin: '微信',</span></div><div class=\"line\">  <span class=\"comment\">//favorite: '收藏夹'</span></div></pre></td></tr></table></figure>\n<p>现在已经被 DIYgod 优化更新，详细使用方法请见<a href=\"https://github.com/dxy-biz-developer/dxy-share\">dxy-share</a>   </p>\n<h2 id=\"6-地址选择控件\"><a href=\"#6-地址选择控件\" class=\"headerlink\" title=\"6.地址选择控件\"></a><a name=\"地址选择控件\"></a>6.地址选择控件</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> Cascading = <span class=\"built_in\">require</span>(<span class=\"string\">'../lib/Cascading.full.js'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//桌面版地址</span></div><div class=\"line\"><span class=\"keyword\">var</span> cascadeLocation = <span class=\"keyword\">new</span> Cascading.Desktop(&#123;</div><div class=\"line\">   type: <span class=\"string\">'common'</span>,</div><div class=\"line\">   data: <span class=\"string\">'dataLocation'</span>,</div><div class=\"line\">   dataUrl: <span class=\"string\">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/location.js?t=123'</span>,</div><div class=\"line\">   container: <span class=\"string\">'cascading-location-container'</span>,</div><div class=\"line\">   additionClass: <span class=\"string\">'test'</span>,</div><div class=\"line\">   maxLevel: <span class=\"number\">3</span>,</div><div class=\"line\">   maxSelect: <span class=\"number\">1</span>,</div><div class=\"line\">   ieFallback: <span class=\"literal\">true</span>,</div><div class=\"line\">   panelNames: [<span class=\"string\">'省份'</span>, <span class=\"string\">'城市'</span>, <span class=\"string\">'区县'</span>],</div><div class=\"line\">   defaultSelected: [[<span class=\"string\">'150000'</span>, <span class=\"string\">'150600'</span>, <span class=\"string\">'150621'</span>], [<span class=\"string\">'130000'</span>, <span class=\"string\">'130200'</span>, <span class=\"string\">'130281'</span>]],</div><div class=\"line\">   confirmCallback: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>)</span>&#123;</div><div class=\"line\">       $(<span class=\"string\">'#edit-field-ge-city-und-0-value'</span>).next(<span class=\"string\">'.error'</span>).hide();</div><div class=\"line\">       $(<span class=\"string\">'#edit-field-ge-city-und-0-value'</span>).val(data.pathName[<span class=\"number\">0</span>].join(<span class=\"string\">'&gt;'</span>));</div><div class=\"line\">       <span class=\"keyword\">if</span>(isIE8 &amp;&amp; $(<span class=\"string\">'#edit-field-ge-city-und-0-value'</span>).val())&#123;</div><div class=\"line\">           $(<span class=\"string\">'#edit-field-ge-city-und-0-value'</span>).next(<span class=\"string\">'span'</span>).hide();</div><div class=\"line\">       &#125;</div><div class=\"line\">   &#125;</div><div class=\"line\">&#125;);</div><div class=\"line\">$(<span class=\"string\">'#edit-field-ge-city-und-0-value'</span>).on(<span class=\"string\">'focus'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\">   cascadeLocation.open();</div><div class=\"line\">   <span class=\"keyword\">this</span>.blur();</div><div class=\"line\">&#125;);</div><div class=\"line\"><span class=\"comment\">//移动版地址</span></div><div class=\"line\"><span class=\"keyword\">var</span> cascadeLocationMobile = <span class=\"keyword\">new</span> Cascading.Mobile(&#123;</div><div class=\"line\">   type: <span class=\"string\">'common'</span>,</div><div class=\"line\">   data: <span class=\"string\">'dataLocation'</span>,</div><div class=\"line\">   dataUrl: <span class=\"string\">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/location.js?t=123'</span>,</div><div class=\"line\">   container: <span class=\"string\">'cascading-location-mobile-container'</span>,</div><div class=\"line\">   additionClass: <span class=\"string\">'test'</span>,</div><div class=\"line\">   maxLevel: <span class=\"number\">3</span>,</div><div class=\"line\">   maxSelect: <span class=\"number\">1</span>,</div><div class=\"line\">   ieFallback: <span class=\"literal\">true</span>,</div><div class=\"line\">   panelNames: [<span class=\"string\">'省份'</span>, <span class=\"string\">'城市'</span>, <span class=\"string\">'区县'</span>],</div><div class=\"line\">   defaultSelected: [[<span class=\"string\">'150000'</span>, <span class=\"string\">'150600'</span>, <span class=\"string\">'150621'</span>], [<span class=\"string\">'130000'</span>, <span class=\"string\">'130200'</span>, <span class=\"string\">'130281'</span>]],</div><div class=\"line\">   confirmCallback: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>)</span>&#123;</div><div class=\"line\">     $(<span class=\"string\">'#edit-field-ge-city-und-0-value'</span>).val(data.pathName[<span class=\"number\">0</span>].join(<span class=\"string\">'&gt;'</span>));</div><div class=\"line\">     $(<span class=\"string\">'#edit-field-ge-city-und-0-value'</span>).next(<span class=\"string\">'.error'</span>).hide();</div><div class=\"line\">   &#125;</div><div class=\"line\"> &#125;);</div><div class=\"line\"></div><div class=\"line\">  $(<span class=\"string\">'#edit-field-ge-city-und-0-value'</span>).on(<span class=\"string\">'focus'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\">    cascadeLocationMobile.open();</div><div class=\"line\">    <span class=\"keyword\">this</span>.blur();</div><div class=\"line\"></div><div class=\"line\">  &#125;);</div></pre></td></tr></table></figure>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">      </div><div class=\"line\">//HTML内容</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"bottom-input-box\"</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">label</span> <span class=\"attr\">for</span>=<span class=\"string\">\"\"</span>&gt;</span>邮寄地址<span class=\"tag\">&lt;/<span class=\"name\">label</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">class</span>=<span class=\"string\">\"bottom-input\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">id</span>=<span class=\"string\">\"edit-field-ge-address-und-0-value\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"field_ge_address[und][0][value]\"</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<h2 id=\"7-医院选择控件\"><a href=\"#7-医院选择控件\" class=\"headerlink\" title=\"7.医院选择控件\"></a><a name=\"医院选择控件\"></a>7.医院选择控件</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// 桌面版医院</span></div><div class=\"line\"><span class=\"keyword\">var</span> cascadeHospital = <span class=\"keyword\">new</span> Cascading.Desktop(&#123;</div><div class=\"line\">     type: <span class=\"string\">'hospital'</span>,</div><div class=\"line\">     data: <span class=\"string\">'dataLocation2Level'</span>,</div><div class=\"line\">     dataUrl: <span class=\"string\">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/location_2level.js?t=123'</span>,</div><div class=\"line\">     panelNames: [<span class=\"string\">'等级'</span>, <span class=\"string\">'医院'</span>],</div><div class=\"line\">     panelWidth: [<span class=\"string\">'30'</span>, <span class=\"string\">'70'</span>],</div><div class=\"line\">     container: <span class=\"string\">'cascading-hospital-container'</span>,</div><div class=\"line\">     defaultSelected: [[<span class=\"string\">'150000'</span>, <span class=\"string\">'150600'</span>]],</div><div class=\"line\">     ieFallback: <span class=\"literal\">true</span>,</div><div class=\"line\">     confirmCallback: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>)</span>&#123;</div><div class=\"line\">             $(<span class=\"string\">'#edit-field-ge-hospital-und-0-value'</span>).next(<span class=\"string\">'.error'</span>).hide();</div><div class=\"line\">         $(<span class=\"string\">'#edit-field-ge-hospital-und-0-value'</span>).val(data.name.join(<span class=\"string\">','</span>));</div><div class=\"line\">         <span class=\"keyword\">if</span>(isIE8 &amp;&amp; $(<span class=\"string\">'#edit-field-ge-hospital-und-0-value'</span>).val())&#123;</div><div class=\"line\">             $(<span class=\"string\">'#edit-field-ge-hospital-und-0-value'</span>).next(<span class=\"string\">'span'</span>).hide();</div><div class=\"line\">         &#125;</div><div class=\"line\"></div><div class=\"line\">     &#125;</div><div class=\"line\"> &#125;);</div><div class=\"line\">   $(<span class=\"string\">'#edit-field-ge-hospital-und-0-value'</span>).on(<span class=\"string\">'focus'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\">      cascadeHospital.open();</div><div class=\"line\">      <span class=\"keyword\">this</span>.blur();</div><div class=\"line\">  &#125;);</div><div class=\"line\">  <span class=\"comment\">//移动版医院</span></div><div class=\"line\"><span class=\"keyword\">var</span> cascadeHospitalMobile = <span class=\"keyword\">new</span> Cascading.Mobile(&#123;</div><div class=\"line\">  type: <span class=\"string\">'hospital'</span>,</div><div class=\"line\">  container: <span class=\"string\">'cascading-hospital-mobile-container'</span>,</div><div class=\"line\">  additionClass: <span class=\"string\">'cascading-hospital-mobile-container-custom'</span>,</div><div class=\"line\">  data: <span class=\"string\">'dataLocation2Level'</span>,</div><div class=\"line\">  dataUrl: <span class=\"string\">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/location_2level.js?t=123'</span>,</div><div class=\"line\">  panelNames: [<span class=\"string\">'等级'</span>, <span class=\"string\">'医院'</span>],</div><div class=\"line\">  panelWidth: [<span class=\"string\">'30'</span>, <span class=\"string\">'70'</span>],</div><div class=\"line\">  defaultSelected: [[<span class=\"string\">'150000'</span>, <span class=\"string\">'150600'</span>]],</div><div class=\"line\">  ieFallback: <span class=\"literal\">true</span>,</div><div class=\"line\">  confirmCallback: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>)</span>&#123;</div><div class=\"line\">   $(<span class=\"string\">'#edit-field-ge-hospital-und-0-value'</span>).val(data.name.join(<span class=\"string\">','</span>));</div><div class=\"line\">    $(<span class=\"string\">'#edit-field-ge-hospital-und-0-value'</span>).next(<span class=\"string\">'.error'</span>).hide();</div><div class=\"line\"></div><div class=\"line\">   <span class=\"keyword\">if</span>(isIE8 &amp;&amp; $(<span class=\"string\">'#edit-field-ge-hospital-und-0-value'</span>).val())&#123;</div><div class=\"line\">       $(<span class=\"string\">'#edit-field-ge-hospital-und-0-value'</span>).next(<span class=\"string\">'span'</span>).hide();</div><div class=\"line\">   &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">&#125;);</div><div class=\"line\"> $(<span class=\"string\">'#edit-field-ge-hospital-und-0-value'</span>).on(<span class=\"string\">'click'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\">    cascadeHospitalMobile.open();</div><div class=\"line\">    <span class=\"keyword\">this</span>.blur();</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">            </div><div class=\"line\">//HTML内容</div><div class=\"line\"></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"bottom-input-box\"</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">label</span> <span class=\"attr\">for</span>=<span class=\"string\">\"\"</span>&gt;</span>医院<span class=\"tag\">&lt;/<span class=\"name\">label</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">class</span>=<span class=\"string\">\"bottom-input\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">id</span>=<span class=\"string\">\"edit-field-ge-hospital-und-0-value\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"field_ge_hospital[und][0][value]\"</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<h2 id=\"8-科室选择控件\"><a href=\"#8-科室选择控件\" class=\"headerlink\" title=\"8.科室选择控件\"></a><a name=\"科室选择控件\"></a>8.科室选择控件</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// 桌面版科室</span></div><div class=\"line\"><span class=\"keyword\">var</span> cascadeDepartment = <span class=\"keyword\">new</span> Cascading.Desktop(&#123;</div><div class=\"line\">   type: <span class=\"string\">'department'</span>,</div><div class=\"line\">   data: <span class=\"string\">'dataDivision'</span>,</div><div class=\"line\">   dataUrl: <span class=\"string\">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/division.js'</span>,</div><div class=\"line\">   container: <span class=\"string\">'cascading-department-container'</span>,</div><div class=\"line\">   onlyLast: <span class=\"literal\">true</span>,</div><div class=\"line\">   additionClass: <span class=\"string\">'cascading-department-container'</span>,</div><div class=\"line\">   maxSelect: <span class=\"number\">1</span>,</div><div class=\"line\">   ieFallback: <span class=\"literal\">true</span>,</div><div class=\"line\">   panelNames: [<span class=\"string\">'科室'</span>, <span class=\"string\">'科室二级'</span>],</div><div class=\"line\">   confirmCallback: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>)</span>&#123;</div><div class=\"line\">       $(<span class=\"string\">'#edit-field-ge-section-und-0-value'</span>).next(<span class=\"string\">'.error'</span>).hide();</div><div class=\"line\">       $(<span class=\"string\">'#edit-field-ge-section-und-0-value'</span>).val(data.pathName.join(<span class=\"string\">'&gt;'</span>));</div><div class=\"line\">       <span class=\"keyword\">if</span>(isIE8 &amp;&amp; $(<span class=\"string\">'#edit-field-ge-section-und-0-value'</span>).val())&#123;</div><div class=\"line\">         $(<span class=\"string\">'#edit-field-ge-section-und-0-value'</span>).next(<span class=\"string\">'span'</span>).hide();</div><div class=\"line\">      &#125;</div><div class=\"line\"></div><div class=\"line\">   &#125;</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">'#edit-field-ge-section-und-0-value'</span>).on(<span class=\"string\">'focus'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\"> cascadeDepartment.open();</div><div class=\"line\"> <span class=\"keyword\">this</span>.blur();</div><div class=\"line\">&#125;);</div><div class=\"line\"><span class=\"comment\">// 移动版科室</span></div><div class=\"line\"><span class=\"keyword\">var</span> cascadeDepartmentMobile = <span class=\"keyword\">new</span> Cascading.Mobile(&#123;</div><div class=\"line\">  type: <span class=\"string\">'common'</span>,</div><div class=\"line\">  data: <span class=\"string\">'dataDivision'</span>,</div><div class=\"line\">  dataUrl: <span class=\"string\">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/division.js'</span>,</div><div class=\"line\">  container: <span class=\"string\">'cascading-depart-mobile-container'</span>,</div><div class=\"line\">  confirmCallback: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>)</span>&#123;</div><div class=\"line\">    $(<span class=\"string\">'#edit-field-ge-section-und-0-value'</span>).val(data.pathName.join(<span class=\"string\">'&gt;'</span>));</div><div class=\"line\">    $(<span class=\"string\">'#edit-field-ge-section-und-0-value'</span>).next(<span class=\"string\">'.error'</span>).hide();</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">if</span>(isIE8 &amp;&amp; $(<span class=\"string\">'#edit-field-ge-section-und-0-value'</span>).val())&#123;</div><div class=\"line\">      $(<span class=\"string\">'#edit-field-ge-section-und-0-value'</span>).next(<span class=\"string\">'span'</span>).hide();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">'#edit-field-ge-section-und-0-value'</span>).on(<span class=\"string\">'focus'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\"> cascadeDepartmentMobile.open();</div><div class=\"line\"> <span class=\"keyword\">this</span>.blur();</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">              </div><div class=\"line\">//HTML内容</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"bottom-input-box\"</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">label</span> <span class=\"attr\">for</span>=<span class=\"string\">\"\"</span>&gt;</span>科室<span class=\"tag\">&lt;/<span class=\"name\">label</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">class</span>=<span class=\"string\">\"bottom-input\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">id</span>=<span class=\"string\">\"edit-field-ge-section-und-0-value\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"field_ge_section[und][0][value]\"</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<h2 id=\"9-职称选择控件\"><a href=\"#9-职称选择控件\" class=\"headerlink\" title=\"9.职称选择控件\"></a><a name=\"职称选择控件\"></a>9.职称选择控件</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// 桌面版职称</span></div><div class=\"line\">   <span class=\"keyword\">var</span> cascadeTitle = <span class=\"keyword\">new</span> Cascading.Desktop(&#123;</div><div class=\"line\">     type: <span class=\"string\">'common'</span>,</div><div class=\"line\">     data: <span class=\"string\">'dataTitle'</span>,</div><div class=\"line\">     dataUrl: <span class=\"string\">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/title.js'</span>,</div><div class=\"line\">     container: <span class=\"string\">'cascading-title-container'</span>,</div><div class=\"line\">     additionClass: <span class=\"string\">'test'</span>,</div><div class=\"line\">     ieFallback: <span class=\"literal\">true</span>,</div><div class=\"line\">     confirmCallback: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>)</span>&#123;</div><div class=\"line\">        $(<span class=\"string\">'[name=\"field_ge_jobtitle[und][0][value]\"]'</span>).next(<span class=\"string\">'.error'</span>).hide();</div><div class=\"line\">         $(<span class=\"string\">'[name=\"field_ge_jobtitle[und][0][value]\"]'</span>).val(data.pathName[<span class=\"number\">0</span>].join(<span class=\"string\">'&gt;'</span>));</div><div class=\"line\">         <span class=\"keyword\">if</span>(isIE8 &amp;&amp; $(<span class=\"string\">'[name=\"field_ge_jobtitle[und][0][value]\"]'</span>).val())&#123;</div><div class=\"line\">             $(<span class=\"string\">'[name=\"field_ge_jobtitle[und][0][value]\"]'</span>).next(<span class=\"string\">'span'</span>).hide();</div><div class=\"line\">         &#125;</div><div class=\"line\"></div><div class=\"line\">     &#125;</div><div class=\"line\"> &#125;);</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">'[name=\"field_ge_jobtitle[und][0][value]\"]'</span>).on(<span class=\"string\">'focus'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\"> cascadeTitle.open();</div><div class=\"line\"> <span class=\"keyword\">this</span>.blur();</div><div class=\"line\">&#125;);</div><div class=\"line\"><span class=\"comment\">// 移动版职称</span></div><div class=\"line\"><span class=\"keyword\">var</span> cascadeTitleMobile = <span class=\"keyword\">new</span> Cascading.Mobile(&#123;</div><div class=\"line\">   type: <span class=\"string\">'common'</span>,</div><div class=\"line\">   data: <span class=\"string\">'dataTitle'</span>,</div><div class=\"line\">   dataUrl: <span class=\"string\">'http://assets.dxycdn.com/core/widgets/cascading-list-v2/data/title.js'</span>,</div><div class=\"line\">   container: <span class=\"string\">'cascading-title-mobile-container'</span>,</div><div class=\"line\">   additionClass: <span class=\"string\">'test'</span>,</div><div class=\"line\">   ieFallback: <span class=\"literal\">true</span>,</div><div class=\"line\">   confirmCallback: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>)</span>&#123;</div><div class=\"line\">     $(<span class=\"string\">'[name=\"field_ge_jobtitle[und][0][value]\"]'</span>).next(<span class=\"string\">'.error'</span>).hide();</div><div class=\"line\">     $(<span class=\"string\">'[name=\"field_ge_jobtitle[und][0][value]\"]'</span>).val(data.pathName[<span class=\"number\">0</span>].join(<span class=\"string\">'&gt;'</span>));</div><div class=\"line\">     <span class=\"keyword\">if</span>(isIE8 &amp;&amp; $(<span class=\"string\">'[name=\"field_ge_jobtitle[und][0][value]\"]'</span>).val())&#123;</div><div class=\"line\">         $(<span class=\"string\">'[name=\"field_ge_jobtitle[und][0][value]\"]'</span>).next(<span class=\"string\">'span'</span>).hide();</div><div class=\"line\">     &#125;</div><div class=\"line\"></div><div class=\"line\"> &#125;</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">'[name=\"field_ge_jobtitle[und][0][value]\"]'</span>).on(<span class=\"string\">'focus'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\"> cascadeTitleMobile.open();</div><div class=\"line\"> <span class=\"keyword\">this</span>.blur();</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">                    </div><div class=\"line\">//HTML内容</div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"bottom-input-box\"</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">label</span> <span class=\"attr\">for</span>=<span class=\"string\">\"\"</span>&gt;</span>职称<span class=\"tag\">&lt;/<span class=\"name\">label</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">class</span>=<span class=\"string\">\"bottom-input\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">id</span>=<span class=\"string\">\"edit-field-ge-job-und-0-value\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"field_ge_jobtitle[und][0][value]\"</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<h2 id=\"10-判断是否移动端\"><a href=\"#10-判断是否移动端\" class=\"headerlink\" title=\"10.判断是否移动端\"></a><a name=\"判断是否移动端\"></a>10.判断是否移动端</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> isMobile = <span class=\"regexp\">/mobile|dxyapp/i</span>.test(<span class=\"built_in\">window</span>.navigator.userAgent);</div><div class=\"line\"><span class=\"comment\">//使用</span></div><div class=\"line\"><span class=\"keyword\">if</span>(isMobile)&#123;</div><div class=\"line\">    <span class=\"comment\">//do someting</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"11-获取内页文章ID\"><a href=\"#11-获取内页文章ID\" class=\"headerlink\" title=\"11.获取内页文章ID\"></a><a name=\"获取内页文章ID\"></a>11.获取内页文章ID</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getContentId</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> match = $(<span class=\"string\">'body'</span>).attr(<span class=\"string\">'class'</span>).match(<span class=\"regexp\">/page-node-(\\d+)/</span>);</div><div class=\"line\">    <span class=\"keyword\">return</span> match ? match[<span class=\"number\">1</span>] : <span class=\"number\">-1</span>;</div><div class=\"line\">&#125;;</div><div class=\"line\"><span class=\"comment\">//使用</span></div><div class=\"line\"><span class=\"keyword\">var</span> getId = getContentId();</div></pre></td></tr></table></figure>\n<h2 id=\"12-validate插件扩展\"><a href=\"#12-validate插件扩展\" class=\"headerlink\" title=\"12.validate插件扩展\"></a><a name=\"validate插件扩展\"></a>12.validate插件扩展</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//将该段代码写在validate.min.js最后来增加自定义扩展</span></div><div class=\"line\">jQuery.extend(jQuery.validator.messages, &#123;</div><div class=\"line\">    required: <span class=\"string\">\"此项必填\"</span>,</div><div class=\"line\">    chineseName: <span class=\"string\">\"请输入正确的中文名\"</span>,</div><div class=\"line\">    mobileNumber: <span class=\"string\">\"请输入正确的手机号码\"</span>,</div><div class=\"line\">    remote: <span class=\"string\">\"请重新输入\"</span>,</div><div class=\"line\">    email: <span class=\"string\">\"请输入正确的电子邮件\"</span>,</div><div class=\"line\">    url: <span class=\"string\">\"请输入正确的网址\"</span>,</div><div class=\"line\">    date: <span class=\"string\">\"请输入正确的日期\"</span>,</div><div class=\"line\">    dateISO: <span class=\"string\">\"请输入正确的日期\"</span>,</div><div class=\"line\">    number: <span class=\"string\">\"请输入正确的数字\"</span>,</div><div class=\"line\">    digits: <span class=\"string\">\"只能输入整数\"</span>,</div><div class=\"line\">    creditcard: <span class=\"string\">\"请输入正确的信用卡号\"</span>,</div><div class=\"line\">    equalTo: <span class=\"string\">\"请再输一次\"</span>,</div><div class=\"line\">    accept: <span class=\"string\">\"不支持上传该附件类型\"</span>,</div><div class=\"line\">    filesize:<span class=\"string\">\"文件太大\"</span>,</div><div class=\"line\">    maxlength: jQuery.validator.format(<span class=\"string\">\"长度最多为 &#123;0&#125; 位\"</span>),</div><div class=\"line\">    minlength: jQuery.validator.format(<span class=\"string\">\"长度最少为 &#123;0&#125;位\"</span>),</div><div class=\"line\">    rangelength: jQuery.validator.format(<span class=\"string\">\"长度介于 &#123;0&#125; 位和 &#123;1&#125; 位之间\"</span>),</div><div class=\"line\">    range: jQuery.validator.format(<span class=\"string\">\"大小介于 &#123;0&#125; 和 &#123;1&#125; 之间\"</span>),</div><div class=\"line\">    max: jQuery.validator.format(<span class=\"string\">\"最大为 &#123;0&#125; \"</span>),</div><div class=\"line\">    min: jQuery.validator.format(<span class=\"string\">\"最小为 &#123;0&#125; \"</span>)</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// 中文名</span></div><div class=\"line\">jQuery.validator.addMethod(<span class=\"string\">\"chineseName\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">value, element</span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.optional(element) || <span class=\"regexp\">/^[\\u4E00-\\u9FA5]&#123;2,5&#125;$/</span>.test(value);</div><div class=\"line\">&#125;, <span class=\"string\">'请输入正确的中文名'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// 手机号码</span></div><div class=\"line\">jQuery.validator.addMethod(<span class=\"string\">\"mobileNumber\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">value, element</span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.optional(element) || <span class=\"regexp\">/^(13[0-9]|15[0-35-9]|18[0-9]|17[06-8]|14[57])\\d&#123;8&#125;$/</span>.test(value);</div><div class=\"line\">&#125;, <span class=\"string\">'请输入正确的手机号码'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//电话的验证      </span></div><div class=\"line\">jQuery.validator.addMethod(<span class=\"string\">\"isPhone\"</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">value,element</span>) </span>&#123; </div><div class=\"line\">        <span class=\"keyword\">var</span> length = value.length;   </div><div class=\"line\">        <span class=\"keyword\">var</span> mobile = <span class=\"regexp\">/^(13[0-9]|15[0-35-9]|18[0-9]|17[06-8]|14[57])\\d&#123;8&#125;$/</span>;   </div><div class=\"line\">        <span class=\"keyword\">var</span> tel = <span class=\"regexp\">/^((\\(\\d&#123;2,3&#125;\\))|(\\d&#123;3&#125;\\-))?(\\(0\\d&#123;2,3&#125;\\)|0\\d&#123;2,3&#125;-)?[1-9]\\d&#123;6,7&#125;(\\-\\d&#123;1,4&#125;)?$/</span>;   </div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.optional(element) || (tel.test(value) ||  (length == <span class=\"number\">11</span> &amp;&amp; mobile.test(value))); </div><div class=\"line\">&#125;, <span class=\"string\">\"请输入正确的联系电话\"</span>);</div><div class=\"line\"></div><div class=\"line\">jQuery.validator.addMethod(<span class=\"string\">\"extension\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">value, element, param</span>) </span>&#123;</div><div class=\"line\">    param = <span class=\"keyword\">typeof</span> param === <span class=\"string\">\"string\"</span> ? param.replace(<span class=\"regexp\">/,/g</span>, <span class=\"string\">'|'</span>) : <span class=\"string\">\"png|jpe?g|gif\"</span>;</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.optional(element) || value.match(<span class=\"keyword\">new</span> <span class=\"built_in\">RegExp</span>(<span class=\"string\">\"\\\\.(\"</span> + param + <span class=\"string\">\")$\"</span>, <span class=\"string\">\"i\"</span>));</div><div class=\"line\">&#125;, jQuery.format(<span class=\"string\">\"请选择正确的文件格式\"</span>));</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//邮编 </span></div><div class=\"line\">jQuery.validator.addMethod(<span class=\"string\">\"postcode\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">value, element</span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.optional(element) || <span class=\"regexp\">/^[1-9]\\d&#123;5&#125;$/</span>.test(value);</div><div class=\"line\">&#125;, <span class=\"string\">'请输入正确的邮编'</span>);</div><div class=\"line\"><span class=\"comment\">//身份证 </span></div><div class=\"line\">jQuery.validator.addMethod(<span class=\"string\">\"identitycard\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">value, element</span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.optional(element) || <span class=\"regexp\">/^(\\d&#123;15&#125;$|^\\d&#123;18&#125;$|^\\d&#123;17&#125;(\\d|X|x))$/</span>.test(value);</div><div class=\"line\">&#125;, <span class=\"string\">'请输入正确的身份证号'</span>);</div><div class=\"line\"><span class=\"comment\">//文件大小</span></div><div class=\"line\">$.validator.addMethod(<span class=\"string\">'filesize'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">value, element, param</span>) </span>&#123;</div><div class=\"line\">    <span class=\"comment\">//以bytes为单位</span></div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.optional(element) || (element.files[<span class=\"number\">0</span>].size &lt;= param) </div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//改变错误提示的标签</span></div><div class=\"line\">jQuery.validator.defaults.errorElement = <span class=\"string\">'span'</span>;</div></pre></td></tr></table></figure>\n<h2 id=\"13-validate插件使用\"><a href=\"#13-validate插件使用\" class=\"headerlink\" title=\"13.validate插件使用\"></a><a name=\"validate插件使用\"></a>13.validate插件使用</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> caseForm = $(<span class=\"string\">'表单'</span>); <span class=\"comment\">//获取表单元素</span></div><div class=\"line\"><span class=\"keyword\">if</span>(!caseForm.length) &#123;</div><div class=\"line\">          <span class=\"keyword\">return</span>;</div><div class=\"line\">  &#125;</div><div class=\"line\">  caseForm.validate(&#123;</div><div class=\"line\">      focusCleanup:<span class=\"literal\">true</span>,</div><div class=\"line\">      rules: &#123;</div><div class=\"line\">        <span class=\"comment\">//这里的title均为name属性值</span></div><div class=\"line\">          <span class=\"string\">'title'</span>: &#123;required: <span class=\"literal\">true</span>&#125;,</div><div class=\"line\">          <span class=\"string\">'field_realname[und][0][value]'</span>: &#123;required: <span class=\"literal\">true</span>&#125;,</div><div class=\"line\">          <span class=\"string\">'field_job[und][0][value]'</span>: &#123;required: <span class=\"literal\">true</span>&#125;,</div><div class=\"line\">          <span class=\"string\">'field_address[und][0][value]'</span>: &#123;required: <span class=\"literal\">true</span>&#125;,</div><div class=\"line\">          <span class=\"string\">'field_phone[und][0][value]'</span>: &#123;required: <span class=\"literal\">true</span>, mobileNumber: <span class=\"literal\">true</span>&#125;,</div><div class=\"line\">          <span class=\"string\">'field_location[und][0][value]'</span>: &#123;required: <span class=\"literal\">true</span>&#125;,</div><div class=\"line\">          <span class=\"string\">'field_company[und][0][value]'</span>: &#123;required: <span class=\"literal\">true</span>&#125;,</div><div class=\"line\">          <span class=\"string\">'field_department[und][0][value]'</span>: &#123;required: <span class=\"literal\">true</span>&#125;,</div><div class=\"line\">          <span class=\"string\">'field_email[und][0][value]'</span>: &#123;required: <span class=\"literal\">true</span>, email: <span class=\"literal\">true</span>&#125;,</div><div class=\"line\">          <span class=\"string\">'files[field_file_und_0]'</span>: &#123;required: <span class=\"literal\">true</span>,accept:<span class=\"string\">'docx|doc|pdf|ppt|pptx'</span>,filesize:<span class=\"number\">20971520</span>&#125;</div><div class=\"line\">      &#125;,</div><div class=\"line\">      messages: &#123;</div><div class=\"line\">          <span class=\"string\">'title'</span>: &#123;</div><div class=\"line\">              required: <span class=\"string\">'请输入标题'</span></div><div class=\"line\">          &#125;,</div><div class=\"line\">          <span class=\"string\">'field_realname[und][0][value]'</span>: &#123;</div><div class=\"line\">              required: <span class=\"string\">'请输入姓名'</span></div><div class=\"line\">          &#125;,</div><div class=\"line\">          <span class=\"string\">'field_job[und][0][value]'</span>: &#123;</div><div class=\"line\">              required: <span class=\"string\">'请输入职称'</span></div><div class=\"line\">          &#125;,</div><div class=\"line\">          <span class=\"string\">'field_address[und][0][value]'</span>: &#123;</div><div class=\"line\">              required: <span class=\"string\">'请输入通讯地址'</span></div><div class=\"line\">          &#125;,</div><div class=\"line\">          <span class=\"string\">'field_phone[und][0][value]'</span>: &#123;</div><div class=\"line\">              required: <span class=\"string\">'请输入电话或者手机号码'</span></div><div class=\"line\">          &#125;,</div><div class=\"line\">          <span class=\"string\">'field_location[und][0][value]'</span>: &#123;</div><div class=\"line\">              required: <span class=\"string\">'请选择地区'</span></div><div class=\"line\">          &#125;,</div><div class=\"line\">          <span class=\"string\">'field_company[und][0][value]'</span>: &#123;</div><div class=\"line\">              required: <span class=\"string\">'请选择工作单位'</span></div><div class=\"line\">          &#125;,</div><div class=\"line\">          <span class=\"string\">'field_department[und][0][value]'</span>: &#123;</div><div class=\"line\">              required: <span class=\"string\">'请选择所在科室'</span></div><div class=\"line\">          &#125;,</div><div class=\"line\">          <span class=\"string\">'field_email[und][0][value]'</span>: &#123;</div><div class=\"line\">              required: <span class=\"string\">'请输入电子邮箱'</span></div><div class=\"line\">          &#125;,</div><div class=\"line\">          <span class=\"string\">'files[field_file_und_0]'</span>: &#123;</div><div class=\"line\">              required: <span class=\"string\">'请上传文件'</span>,</div><div class=\"line\">              accept:<span class=\"string\">'不支持该文件类型'</span>,</div><div class=\"line\">              filesize:<span class=\"string\">'文件太大'</span></div><div class=\"line\">          &#125;</div><div class=\"line\">      &#125;,</div><div class=\"line\">      errorPlacement: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">error, element</span>)</span>&#123;</div><div class=\"line\">          error.appendTo(element.closest(<span class=\"string\">'放置错误信息的容器'</span>));</div><div class=\"line\">      &#125;,</div><div class=\"line\">      submitHandler:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">form</span>)</div><div class=\"line\">      </span>&#123;</div><div class=\"line\">          form.submit();</div><div class=\"line\">      &#125;</div><div class=\"line\">  &#125;);</div></pre></td></tr></table></figure>\n<h2 id=\"14-bxslider轮播图使用\"><a href=\"#14-bxslider轮播图使用\" class=\"headerlink\" title=\"14.bxslider轮播图使用\"></a><a name=\"bxslider轮播图使用\"></a>14.bxslider轮播图使用</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">'../lib/jquery.bxslider.js'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> slider = $(<span class=\"string\">'放置轮播图的容器'</span>);</div><div class=\"line\"><span class=\"keyword\">if</span> (slider.length) &#123;</div><div class=\"line\">    slider.bxSlider(&#123;</div><div class=\"line\">        auto:<span class=\"literal\">true</span>,</div><div class=\"line\">        minSlides: <span class=\"number\">1</span>,</div><div class=\"line\">        maxSlides: <span class=\"number\">1</span>,</div><div class=\"line\">        moveSlides: <span class=\"number\">1</span>,</div><div class=\"line\">        adaptiveHeight: <span class=\"literal\">true</span></div><div class=\"line\">    &#125;);</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"comment\">//详细API请见官网</span></div></pre></td></tr></table></figure>\n<h2 id=\"15-一般选项卡\"><a href=\"#15-一般选项卡\" class=\"headerlink\" title=\"15.一般选项卡\"></a><a name=\"一般选项卡\"></a>15.一般选项卡</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">'.tab .title'</span>).click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    $(<span class=\"keyword\">this</span>).addClass(<span class=\"string\">'active'</span>).siblings().removeClass(<span class=\"string\">'active'</span>);</div><div class=\"line\">    $(<span class=\"string\">'.tab .content'</span>).eq($(<span class=\"keyword\">this</span>).index()).show().siblings().hide();</div><div class=\"line\">&#125;).eq(<span class=\"number\">0</span>).click();</div></pre></td></tr></table></figure>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">      </div><div class=\"line\">//HTML</div><div class=\"line\"></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"tab\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"title\"</span>&gt;</span>title-1<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"title\"</span>&gt;</span>title-2<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"title\"</span>&gt;</span>title-3<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"container\"</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"content\"</span>&gt;</span>content-1<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"content\"</span>&gt;</span>content-2<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"content\"</span>&gt;</span>content-3<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<h2 id=\"16-新窗口打开页面\"><a href=\"#16-新窗口打开页面\" class=\"headerlink\" title=\"16.    新窗口打开页面\"></a><a name=\"新窗口打开页面\"></a>16.    新窗口打开页面</h2><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">//<span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"http://zanseven007.github.io\"</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"external\"</span>&gt;</span>open link<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">$(<span class=\"built_in\">document</span>).ready(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  $(<span class=\"string\">\"a[rel$='external']\"</span>).click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.target=<span class=\"string\">'_blank'</span>;    </div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<h2 id=\"17-滚动到指定位置滑动动画\"><a href=\"#17-滚动到指定位置滑动动画\" class=\"headerlink\" title=\"17. 滚动到指定位置滑动动画\"></a><a name=\"滚动到指定位置滑动动画\"></a>17. 滚动到指定位置滑动动画</h2><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">jQuery.fn.scrollTo = function(speed)&#123;</div><div class=\"line\">  var targetOffset = $(this).offset().top;</div><div class=\"line\">  $(html,body).stop().animate(&#123;scrollTop: targetOffset&#125;, speed);</div><div class=\"line\">&#125;</div><div class=\"line\">//使用</div><div class=\"line\"> $(#goTop).click(function()&#123;</div><div class=\"line\">  $(body).scrollTo(500); //返回顶部</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<h2 id=\"18-对话框控件使用\"><a href=\"#18-对话框控件使用\" class=\"headerlink\" title=\"18.对话框控件使用\"></a><a name=\"对话框控件使用\"></a>18.对话框控件使用</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> Dialog = <span class=\"built_in\">require</span>(<span class=\"string\">'./tool/dialog.js'</span>);</div><div class=\"line\">Dialog.show();</div><div class=\"line\">Dialog.alert();</div><div class=\"line\">Dialog.hide();</div><div class=\"line\">Dialog.tip();</div><div class=\"line\"><span class=\"comment\">//四个方法</span></div></pre></td></tr></table></figure>\n<p>现在已经被范同学优化,详细请见<a href=\"https://github.com/dxy-biz-developer/dxy-dialog\">dxy-dialog</a>    </p>\n<h2 id=\"19-移动端PPT使用\"><a href=\"#19-移动端PPT使用\" class=\"headerlink\" title=\"19.移动端PPT使用\"></a><a name=\"移动端PPT使用\"></a>19.移动端PPT使用</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> flash = $(<span class=\"string\">'.放置容器 iframe, .放置容器 object'</span>);  <span class=\"comment\">//获取PPT元素</span></div><div class=\"line\"><span class=\"keyword\">if</span> (isMobile &amp;&amp; flash.length) &#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> js = <span class=\"string\">'http://assets.dxycdn.com/templates/core/third-party/mobile-ppt/mobile-ppt.min.js'</span>;</div><div class=\"line\">    $.getScript(js, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        MobilePPT.init(<span class=\"string\">'biz'</span>, &#123;</div><div class=\"line\">            flash: flash,</div><div class=\"line\">            dataUrlBuilder: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">nid</span>) </span>&#123;</div><div class=\"line\">                <span class=\"keyword\">return</span> <span class=\"string\">'http://www.dxy.cn/topic/biz/ppt地址/'</span> + nid + <span class=\"string\">'/ps-data.js'</span>;  <span class=\"comment\">//有一个用node.js写的转换工具，需要向编辑人员要取PPT里面的所有图片，通过转换工具转换后将转换后的内容上传到FTP上，然后地址填写在这里即可</span></div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;);</div><div class=\"line\">    &#125;);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"20-即将离开丁香园提示框\"><a href=\"#20-即将离开丁香园提示框\" class=\"headerlink\" title=\"20.即将离开丁香园提示框\"></a><a name=\"即将离开丁香园提示框\"></a>20.即将离开丁香园提示框</h2><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">//css</div><div class=\"line\">.page-go-cmeflist .mask&#123; </div><div class=\"line\">    position: fixed;</div><div class=\"line\">    top: 0;</div><div class=\"line\">    right: 0;</div><div class=\"line\">    left: 0;</div><div class=\"line\">    bottom: 0;</div><div class=\"line\">    background: #000;filter:alpha(opacity=50); opacity: .6; z-index: 233333;</div><div class=\"line\"> &#125;</div><div class=\"line\">.link__panel&#123;</div><div class=\"line\">    width: 400px;</div><div class=\"line\">    height: auto;</div><div class=\"line\">    background: #fff;</div><div class=\"line\">    border-radius: 5px;</div><div class=\"line\">    box-shadow: 0 0 0 #555;</div><div class=\"line\">    border: 1px solid #999;</div><div class=\"line\">    position: fixed;</div><div class=\"line\">    top: 50%;</div><div class=\"line\">    left: 50%;</div><div class=\"line\">    margin-left: -200px;</div><div class=\"line\">    z-index: 2333333;</div><div class=\"line\">    margin-top: -100px;</div><div class=\"line\">&#125;</div><div class=\"line\">.link__panel .close&#123;</div><div class=\"line\">    position: absolute;</div><div class=\"line\">    width: 40px;</div><div class=\"line\">    height: 40px;</div><div class=\"line\">    top: 0;</div><div class=\"line\">    right: 5px;</div><div class=\"line\">    background: url(../img/icon-close.png?t=20160126) no-repeat center center;</div><div class=\"line\">    cursor: pointer;</div><div class=\"line\">&#125;</div><div class=\"line\">.link__panel_header&#123;</div><div class=\"line\">    height: 40px;</div><div class=\"line\">    border-bottom: 1px solid #ddd;</div><div class=\"line\">    padding: 0 15px;</div><div class=\"line\">    line-height: 40px;</div><div class=\"line\">    font-size: 14px;</div><div class=\"line\">    color: #666;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">.link__panel_body&#123;</div><div class=\"line\">    height: auto;</div><div class=\"line\">    border-bottom: 1px solid #ddd;</div><div class=\"line\">    padding: 15px;</div><div class=\"line\">    line-height: 1.8;</div><div class=\"line\">    font-size: 14px;</div><div class=\"line\">    color: #666;</div><div class=\"line\">&#125;</div><div class=\"line\">.link__panel_body a&#123;</div><div class=\"line\">    color: #4299D8;</div><div class=\"line\">    display: block;</div><div class=\"line\">&#125;</div><div class=\"line\">.link__panel_footer&#123;</div><div class=\"line\">    font-size: 14px;</div><div class=\"line\">    text-align: right;</div><div class=\"line\">    padding: 15px;</div><div class=\"line\">&#125;</div><div class=\"line\">.link__panel_footer .btn&#123;</div><div class=\"line\">    padding: 3px 10px;</div><div class=\"line\">    border: 1px solid #ddd;</div><div class=\"line\">    display: inline-block;</div><div class=\"line\">    vertical-align: top;</div><div class=\"line\">    font-weight: 500;</div><div class=\"line\">    border-radius: 3px;</div><div class=\"line\">    margin-right: 10px;</div><div class=\"line\">&#125;</div><div class=\"line\">.link__panel_footer .btn-goon&#123;</div><div class=\"line\">    background: #4299D8;</div><div class=\"line\">    color: #fff;</div><div class=\"line\">&#125;</div><div class=\"line\">.link__panel_footer .btn-close&#123;</div><div class=\"line\">    background: #eee;</div><div class=\"line\">    color: #666;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// js</span></div><div class=\"line\">$(<span class=\"string\">'a标签的父级元素'</span>).on(<span class=\"string\">'click'</span>, <span class=\"string\">'a'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event</span>) </span>&#123;</div><div class=\"line\">    event.preventDefault();</div><div class=\"line\">    <span class=\"keyword\">var</span> link = $(<span class=\"keyword\">this</span>).attr(<span class=\"string\">'href'</span>),</div><div class=\"line\">        text = $(<span class=\"keyword\">this</span>).html();</div><div class=\"line\">    $(<span class=\"string\">'body'</span>).append(<span class=\"string\">'&lt;div class=\"mask\"&gt;&lt;/div&gt;'</span>+</div><div class=\"line\">        <span class=\"string\">'&lt;div class=\"link__panel\"&gt;'</span>+</div><div class=\"line\">            <span class=\"string\">'&lt;div class=\"close\"&gt;&lt;/div&gt;'</span>+</div><div class=\"line\">            <span class=\"string\">'&lt;div class=\"link__panel_header\"&gt;提示：&lt;/div&gt;'</span>+</div><div class=\"line\">            <span class=\"string\">'&lt;div class=\"link__panel_body\"&gt;你将离开丁香园，进入其他页面:&lt;br&gt; &lt;a href=\"'</span>+ link +<span class=\"string\">'\"&gt;'</span>+ link +<span class=\"string\">'&lt;/a&gt;&lt;/div&gt;'</span>+</div><div class=\"line\">            <span class=\"string\">'&lt;div class=\"link__panel_footer\"&gt;'</span>+</div><div class=\"line\">                <span class=\"string\">'&lt;a href=\"'</span>+ link +<span class=\"string\">'\" class=\"btn  btn-goon\"&gt;继续访问&lt;/a&gt;'</span>+</div><div class=\"line\">                <span class=\"string\">'&lt;a href=\"\" class=\"btn  btn-close\"&gt;关闭&lt;/a&gt;'</span>+</div><div class=\"line\">            <span class=\"string\">'&lt;/div&gt;'</span>+</div><div class=\"line\">        <span class=\"string\">'&lt;/div&gt;'</span>);</div><div class=\"line\">    $(<span class=\"string\">'.link__panel .close, .link__panel .btn-close'</span>).on(<span class=\"string\">'click'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event</span>) </span>&#123;</div><div class=\"line\">        event.preventDefault();</div><div class=\"line\">        $(<span class=\"string\">'.mask, .link__panel'</span>).remove();</div><div class=\"line\">    &#125;);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h2 id=\"21-滚动条插件\"><a href=\"#21-滚动条插件\" class=\"headerlink\" title=\"21.滚动条插件\"></a><a name=\"滚动条插件\"></a>21.滚动条插件</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> IScroll  = <span class=\"built_in\">require</span>(<span class=\"string\">'./lib/iscroll.js'</span>);</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">initActivityIntro</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">var</span> el = $(<span class=\"string\">'.process__pic'</span>);</div><div class=\"line\">    <span class=\"keyword\">var</span> inel = $(<span class=\"string\">'.info'</span>);</div><div class=\"line\">    <span class=\"keyword\">if</span> (el.length) &#123;</div><div class=\"line\">      <span class=\"keyword\">new</span> IScroll(el[<span class=\"number\">0</span>], &#123;</div><div class=\"line\">        scrollbars: <span class=\"literal\">true</span>,</div><div class=\"line\">        scrollX:<span class=\"literal\">true</span></div><div class=\"line\">      &#125;);</div><div class=\"line\">      &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">initActivityIntro();</div></pre></td></tr></table></figure>\n<h2 id=\"22-微信分享\"><a href=\"#22-微信分享\" class=\"headerlink\" title=\"22.微信分享\"></a><a name=\"微信分享\"></a>22.微信分享</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> dxy_wechat_share = <span class=\"built_in\">require</span>(<span class=\"string\">'dxy-wechat-share'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">window</span>.wx_share = <span class=\"string\">'callback(具体地址看项目)'</span>;</div><div class=\"line\">dxy_wechat_share(&#123;</div><div class=\"line\">  title:<span class=\"string\">'这是一个标题'</span>,</div><div class=\"line\">  desc:<span class=\"string\">'这是一个摘要第一行\\n这是一个摘要第二行'</span>,</div><div class=\"line\">  imgUrl:<span class=\"string\">'这是一个分享图片地址'</span></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h2 id=\"23-移动端多行显示省略号\"><a href=\"#23-移动端多行显示省略号\" class=\"headerlink\" title=\"23.移动端多行显示省略号\"></a><a name=\"移动端多行显示省略号\"></a>23.移动端多行显示省略号</h2><p><code>display: -webkit-box;</code> 必须结合的属性 ，将对象作为弹性伸缩盒子模型显示 。<br><code>-webkit-box-orient</code> 必须结合的属性 ，设置或检索伸缩盒对象的子元素的排列方式 。<br><code>text-overflow: ellipsis;</code>，可以用来多行文本的情况下，用省略号“…”隐藏超出范围的文本 </p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">overflow</span> : <span class=\"selector-tag\">hidden</span>;</div><div class=\"line\"><span class=\"selector-tag\">text-overflow</span>: <span class=\"selector-tag\">ellipsis</span>;</div><div class=\"line\"><span class=\"selector-tag\">display</span>: <span class=\"selector-tag\">-webkit-box</span>;</div><div class=\"line\"><span class=\"selector-tag\">-webkit-line-clamp</span>: 2;</div><div class=\"line\"><span class=\"selector-tag\">-webkit-box-orient</span>: <span class=\"selector-tag\">vertical</span>;</div></pre></td></tr></table></figure>\n<h2 id=\"24-iframe高度自适应\"><a href=\"#24-iframe高度自适应\" class=\"headerlink\" title=\"24.iframe高度自适应\"></a><a name=\"iframe高度自适应\"></a>24.iframe高度自适应</h2><p>在商业项目中引入丁香客的微话题使用,请先 <code>npm install iframe-auto-height --save</code> 安装跑路宗坤写的一个包。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//在合适的地方引用，这个控件有个bug</span></div><div class=\"line\"><span class=\"comment\">//需要在parent.js里面跳过第一次执行onmessage函数，需从第二次开始执行</span></div><div class=\"line\"><span class=\"keyword\">var</span> AutoHeight = <span class=\"built_in\">require</span>(<span class=\"string\">'iframe-auto-height/parent'</span>);</div><div class=\"line\"><span class=\"keyword\">new</span> AutoHeight();</div></pre></td></tr></table></figure>"},{"title":"整理与一次团队分享","date":"2016-09-09T08:04:07.000Z","_content":"对于一次组内分享的整理，PPT资源放在了我的个人github pages上[点击这里查看](http://zanseven007.github.io/chrome-performance)（建议Timeline的时候使用隐身模式避免插件影响，快捷键command+shift+n）\n<!--more-->\n\n# Chrome 程序性能分析\n\n## Network\n\nNetwork主要有5个视窗，分别有不同的功能：\n\n* __Controls 工具栏__：用来控制Network的功能及外观。\n* __Filters 筛选栏__：根据筛选条件筛选请求列表，按住command/ctrl键可多选。\n* __Overviews 概览__：资源被加载过来的时间线，如果多条时间线垂直堆叠，表示多个资源被并行加载。\n* __Request Table 请求列表__：该视窗列出了所有的资源请求，默认按时间顺序排序，点击某个资源，可以查看更详细的信息。\n* __Summary 总览__：汇总了请求数量，传输数据大小，加载时间等信息。\n\n默认情况下，Request Table 请求列表展示如下信息，当然，在请求列表的表头右键可以配置请求列表显示的内容。\n\n* __Nam__e：资源的名称。\n* __Status__：HTTP的状态码。\n* __Type__：资源的MIME类型。\n* __Initiator__：表示请求的上游，即发起者。Parser表示是HTML解析器发起的请求；Redirect表示是HTTP跳转发起的请求；Script表示是由脚本发起的请求；Other表示是由其他动作发起的请求，比如用户跳转或者在导航栏输入地址等。\n* __Size__：请求的大小，包括响应头和响应体的内容。\n* __Time__：请求的时间，从请求开始到请求完全结束。\n* __Timeline__：请求的时间线。\n\n浏览器拿到网页后加载过程\n\n* 解析HTML结构。\n* 加载外部脚本和样式表文件。\n* 解析并执行脚本代码。// 部分脚本会阻塞页面的加载\n* DOM树构建完成。//DOMContentLoaded 事件\n* 加载图片等外部文件。\n* 页面加载完毕。//load 事件\n\n请求上下游\n\n按住Shift查看资源请求上下游\n其中绿色请求表示common.js的上游请求，即谁触发了V20160804a.js请求，红色请求表示common.js的下游请求，即common.js又触发了什么请求。\n![上下游](http://obw56kbo5.bkt.clouddn.com/pic.png)\n\nTimeline可以重新排序，主要有如下几个维度。\n\n* __Timline - Start Time__：按请求的发起时间排序。\n* __Timline - Response Time__：按请求的响应时间排序。\n* __Timline - End Time__：按请求的结束时间排序。\n* __Timline - Total Duration__：按请求的总耗时排序，可以快捷的找出耗时最多的资源。\n* __Timline - Latency__：按请求的延迟排序，延迟是指请求发起的时间到响应开始的时间，可以快捷的找出请求等待时间最长（TTFB）的资源。\n\n强大的过滤器功能\n\n* __domain__：筛选出指定域名的请求，不仅支持自动补全，还支持*匹配。\n* __has-response-header__：筛选出包含指定响应头的请求。\n* __is__：通过is:running找出WebSocket请求。\n* __larger-than__：筛选出请求大于指定字节大小的请求，其中1000表示1k。\n* __method__：筛选出指定HTTP方法的请求，比如GET请求、POST请求等。\n* __mime-type__：筛选出指定文件类型的请求。\n* __scheme__：筛选出指定协议的请求，比如scheme:http、scheme:https。\n* __set-cookie-domain__：筛选出指定cookie域名属性的包含Set-Cookie的请求。\n* __set-cookie-name__：筛选出指定cookie名称属性的包含Set-Cookie的请求。\n* __set-cookie-value__：筛选出指定cookie值属性的包含Set-Cookie的请求。\n* __status-code__：筛选出指定HTTP状态码的请求。\n\n## Timeline\n\nTimeline的四个视图窗\n\n* __Controls 工具栏__：提供了录制，清除记录，配置录制过程中需要捕捉哪些数据的功能。\n* __Overview 概览__：页面性能的概览图，通过此图可以大致的分析页面。\n* __Flame Chart 火焰图__：展示了JavaScript的调用堆栈信息。其中蓝线表示DOMConentLoaded事件，绿线表示第一次绘制，红线表示load事件，由此也可以看出DOMContentLoaded事件比load事件要早不少。\n* __Details 详情__：选中某个事件，会显示该事件的信息，如果没有选中任何事件，就会显示选中时间区段的帧信息。\n\n### 为什么是60帧\n\n我们的目标是保证页面要有高于每秒60fps(帧)的刷新频率，这和目前大多数显示器的刷新率相吻合(60Hz)。如果网页动画能够做到每秒60帧，就会跟显示器同步刷新，达到最佳的视觉效果。这意味着，一秒之内进行60次重新渲染，每次重新渲染的时间不能超过16.66毫秒(包括：执行js，处理事件，修改DOM，更改样式和布局，绘制页面等。)\n\n### 渲染分几步\n\n![渲染分几步](https://developers.google.com/web/fundamentals/performance/rendering/images/intro/frame-full.jpg)\n\n* __JavaScript__：JavaScript实现动画效果，DOM元素操作等。\n* __Style（计算样式）__：确定每个DOM元素应该应用什么CSS规则。\n* __Layout（布局）__：计算每个DOM元素在最终屏幕上显示的大小和位置。由于web页面的元素布局是相对的，所以其中任意一个元素的位置发生变化，都会联动的引起其他元素发生变化，这个过程叫reflow。\n* __Paint（绘制）__：在多个层上绘制DOM元素的的文字、颜色、图像、边框和阴影等。\n* __Composite（渲染层合并）__：按照合理的顺序合并图层然后显示到屏幕上。\n\n### 优化方法\n\n#### ___requestAnimationFrame___\n\n *跟着浏览器的绘制走，如果浏览设备绘制间隔是16.7ms，那我就这个间隔绘制；如果浏览设备绘制间隔是10ms，我就10ms绘制*\n\n ---\n\n#### ___Web Workers___\n *在后台单独起一个线程来执行JS，不占用浏览器主线程，可以针对耗时且不操作dom的JS文件*\n\n ---\n\n#### ___使用flexbox代替传统布局___ \n *同样对1300个元素的布局，传统DIV布局13.7ms，flexbox仅需3.4ms*\n\n ---\n\n#### ___避免强制同步布局___\n*优化插件：fastdom*\n\n ---\n\n#### ___提升动画效果中的元素___\n*耗电*","source":"_posts/整理与一次团队分享.md","raw":"---\ntitle: 整理与一次团队分享\ndate: 2016-09-09 16:04:07\ntags:\n    - 前端\n    - 丁香园\n    - 性能\n---\n对于一次组内分享的整理，PPT资源放在了我的个人github pages上[点击这里查看](http://zanseven007.github.io/chrome-performance)（建议Timeline的时候使用隐身模式避免插件影响，快捷键command+shift+n）\n<!--more-->\n\n# Chrome 程序性能分析\n\n## Network\n\nNetwork主要有5个视窗，分别有不同的功能：\n\n* __Controls 工具栏__：用来控制Network的功能及外观。\n* __Filters 筛选栏__：根据筛选条件筛选请求列表，按住command/ctrl键可多选。\n* __Overviews 概览__：资源被加载过来的时间线，如果多条时间线垂直堆叠，表示多个资源被并行加载。\n* __Request Table 请求列表__：该视窗列出了所有的资源请求，默认按时间顺序排序，点击某个资源，可以查看更详细的信息。\n* __Summary 总览__：汇总了请求数量，传输数据大小，加载时间等信息。\n\n默认情况下，Request Table 请求列表展示如下信息，当然，在请求列表的表头右键可以配置请求列表显示的内容。\n\n* __Nam__e：资源的名称。\n* __Status__：HTTP的状态码。\n* __Type__：资源的MIME类型。\n* __Initiator__：表示请求的上游，即发起者。Parser表示是HTML解析器发起的请求；Redirect表示是HTTP跳转发起的请求；Script表示是由脚本发起的请求；Other表示是由其他动作发起的请求，比如用户跳转或者在导航栏输入地址等。\n* __Size__：请求的大小，包括响应头和响应体的内容。\n* __Time__：请求的时间，从请求开始到请求完全结束。\n* __Timeline__：请求的时间线。\n\n浏览器拿到网页后加载过程\n\n* 解析HTML结构。\n* 加载外部脚本和样式表文件。\n* 解析并执行脚本代码。// 部分脚本会阻塞页面的加载\n* DOM树构建完成。//DOMContentLoaded 事件\n* 加载图片等外部文件。\n* 页面加载完毕。//load 事件\n\n请求上下游\n\n按住Shift查看资源请求上下游\n其中绿色请求表示common.js的上游请求，即谁触发了V20160804a.js请求，红色请求表示common.js的下游请求，即common.js又触发了什么请求。\n![上下游](http://obw56kbo5.bkt.clouddn.com/pic.png)\n\nTimeline可以重新排序，主要有如下几个维度。\n\n* __Timline - Start Time__：按请求的发起时间排序。\n* __Timline - Response Time__：按请求的响应时间排序。\n* __Timline - End Time__：按请求的结束时间排序。\n* __Timline - Total Duration__：按请求的总耗时排序，可以快捷的找出耗时最多的资源。\n* __Timline - Latency__：按请求的延迟排序，延迟是指请求发起的时间到响应开始的时间，可以快捷的找出请求等待时间最长（TTFB）的资源。\n\n强大的过滤器功能\n\n* __domain__：筛选出指定域名的请求，不仅支持自动补全，还支持*匹配。\n* __has-response-header__：筛选出包含指定响应头的请求。\n* __is__：通过is:running找出WebSocket请求。\n* __larger-than__：筛选出请求大于指定字节大小的请求，其中1000表示1k。\n* __method__：筛选出指定HTTP方法的请求，比如GET请求、POST请求等。\n* __mime-type__：筛选出指定文件类型的请求。\n* __scheme__：筛选出指定协议的请求，比如scheme:http、scheme:https。\n* __set-cookie-domain__：筛选出指定cookie域名属性的包含Set-Cookie的请求。\n* __set-cookie-name__：筛选出指定cookie名称属性的包含Set-Cookie的请求。\n* __set-cookie-value__：筛选出指定cookie值属性的包含Set-Cookie的请求。\n* __status-code__：筛选出指定HTTP状态码的请求。\n\n## Timeline\n\nTimeline的四个视图窗\n\n* __Controls 工具栏__：提供了录制，清除记录，配置录制过程中需要捕捉哪些数据的功能。\n* __Overview 概览__：页面性能的概览图，通过此图可以大致的分析页面。\n* __Flame Chart 火焰图__：展示了JavaScript的调用堆栈信息。其中蓝线表示DOMConentLoaded事件，绿线表示第一次绘制，红线表示load事件，由此也可以看出DOMContentLoaded事件比load事件要早不少。\n* __Details 详情__：选中某个事件，会显示该事件的信息，如果没有选中任何事件，就会显示选中时间区段的帧信息。\n\n### 为什么是60帧\n\n我们的目标是保证页面要有高于每秒60fps(帧)的刷新频率，这和目前大多数显示器的刷新率相吻合(60Hz)。如果网页动画能够做到每秒60帧，就会跟显示器同步刷新，达到最佳的视觉效果。这意味着，一秒之内进行60次重新渲染，每次重新渲染的时间不能超过16.66毫秒(包括：执行js，处理事件，修改DOM，更改样式和布局，绘制页面等。)\n\n### 渲染分几步\n\n![渲染分几步](https://developers.google.com/web/fundamentals/performance/rendering/images/intro/frame-full.jpg)\n\n* __JavaScript__：JavaScript实现动画效果，DOM元素操作等。\n* __Style（计算样式）__：确定每个DOM元素应该应用什么CSS规则。\n* __Layout（布局）__：计算每个DOM元素在最终屏幕上显示的大小和位置。由于web页面的元素布局是相对的，所以其中任意一个元素的位置发生变化，都会联动的引起其他元素发生变化，这个过程叫reflow。\n* __Paint（绘制）__：在多个层上绘制DOM元素的的文字、颜色、图像、边框和阴影等。\n* __Composite（渲染层合并）__：按照合理的顺序合并图层然后显示到屏幕上。\n\n### 优化方法\n\n#### ___requestAnimationFrame___\n\n *跟着浏览器的绘制走，如果浏览设备绘制间隔是16.7ms，那我就这个间隔绘制；如果浏览设备绘制间隔是10ms，我就10ms绘制*\n\n ---\n\n#### ___Web Workers___\n *在后台单独起一个线程来执行JS，不占用浏览器主线程，可以针对耗时且不操作dom的JS文件*\n\n ---\n\n#### ___使用flexbox代替传统布局___ \n *同样对1300个元素的布局，传统DIV布局13.7ms，flexbox仅需3.4ms*\n\n ---\n\n#### ___避免强制同步布局___\n*优化插件：fastdom*\n\n ---\n\n#### ___提升动画效果中的元素___\n*耗电*","slug":"整理与一次团队分享","published":1,"updated":"2016-09-10T07:22:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cizj7zm6u000boz3sjvmzwwem","content":"<p>对于一次组内分享的整理，PPT资源放在了我的个人github pages上<a href=\"http://zanseven007.github.io/chrome-performance\" target=\"_blank\" rel=\"external\">点击这里查看</a>（建议Timeline的时候使用隐身模式避免插件影响，快捷键command+shift+n）<br><a id=\"more\"></a></p>\n<h1 id=\"Chrome-程序性能分析\"><a href=\"#Chrome-程序性能分析\" class=\"headerlink\" title=\"Chrome 程序性能分析\"></a>Chrome 程序性能分析</h1><h2 id=\"Network\"><a href=\"#Network\" class=\"headerlink\" title=\"Network\"></a>Network</h2><p>Network主要有5个视窗，分别有不同的功能：</p>\n<ul>\n<li><strong>Controls 工具栏</strong>：用来控制Network的功能及外观。</li>\n<li><strong>Filters 筛选栏</strong>：根据筛选条件筛选请求列表，按住command/ctrl键可多选。</li>\n<li><strong>Overviews 概览</strong>：资源被加载过来的时间线，如果多条时间线垂直堆叠，表示多个资源被并行加载。</li>\n<li><strong>Request Table 请求列表</strong>：该视窗列出了所有的资源请求，默认按时间顺序排序，点击某个资源，可以查看更详细的信息。</li>\n<li><strong>Summary 总览</strong>：汇总了请求数量，传输数据大小，加载时间等信息。</li>\n</ul>\n<p>默认情况下，Request Table 请求列表展示如下信息，当然，在请求列表的表头右键可以配置请求列表显示的内容。</p>\n<ul>\n<li><strong>Nam</strong>e：资源的名称。</li>\n<li><strong>Status</strong>：HTTP的状态码。</li>\n<li><strong>Type</strong>：资源的MIME类型。</li>\n<li><strong>Initiator</strong>：表示请求的上游，即发起者。Parser表示是HTML解析器发起的请求；Redirect表示是HTTP跳转发起的请求；Script表示是由脚本发起的请求；Other表示是由其他动作发起的请求，比如用户跳转或者在导航栏输入地址等。</li>\n<li><strong>Size</strong>：请求的大小，包括响应头和响应体的内容。</li>\n<li><strong>Time</strong>：请求的时间，从请求开始到请求完全结束。</li>\n<li><strong>Timeline</strong>：请求的时间线。</li>\n</ul>\n<p>浏览器拿到网页后加载过程</p>\n<ul>\n<li>解析HTML结构。</li>\n<li>加载外部脚本和样式表文件。</li>\n<li>解析并执行脚本代码。// 部分脚本会阻塞页面的加载</li>\n<li>DOM树构建完成。//DOMContentLoaded 事件</li>\n<li>加载图片等外部文件。</li>\n<li>页面加载完毕。//load 事件</li>\n</ul>\n<p>请求上下游</p>\n<p>按住Shift查看资源请求上下游<br>其中绿色请求表示common.js的上游请求，即谁触发了V20160804a.js请求，红色请求表示common.js的下游请求，即common.js又触发了什么请求。<br><img src=\"http://obw56kbo5.bkt.clouddn.com/pic.png\" alt=\"上下游\"></p>\n<p>Timeline可以重新排序，主要有如下几个维度。</p>\n<ul>\n<li><strong>Timline - Start Time</strong>：按请求的发起时间排序。</li>\n<li><strong>Timline - Response Time</strong>：按请求的响应时间排序。</li>\n<li><strong>Timline - End Time</strong>：按请求的结束时间排序。</li>\n<li><strong>Timline - Total Duration</strong>：按请求的总耗时排序，可以快捷的找出耗时最多的资源。</li>\n<li><strong>Timline - Latency</strong>：按请求的延迟排序，延迟是指请求发起的时间到响应开始的时间，可以快捷的找出请求等待时间最长（TTFB）的资源。</li>\n</ul>\n<p>强大的过滤器功能</p>\n<ul>\n<li><strong>domain</strong>：筛选出指定域名的请求，不仅支持自动补全，还支持*匹配。</li>\n<li><strong>has-response-header</strong>：筛选出包含指定响应头的请求。</li>\n<li><strong>is</strong>：通过is:running找出WebSocket请求。</li>\n<li><strong>larger-than</strong>：筛选出请求大于指定字节大小的请求，其中1000表示1k。</li>\n<li><strong>method</strong>：筛选出指定HTTP方法的请求，比如GET请求、POST请求等。</li>\n<li><strong>mime-type</strong>：筛选出指定文件类型的请求。</li>\n<li><strong>scheme</strong>：筛选出指定协议的请求，比如scheme:http、scheme:https。</li>\n<li><strong>set-cookie-domain</strong>：筛选出指定cookie域名属性的包含Set-Cookie的请求。</li>\n<li><strong>set-cookie-name</strong>：筛选出指定cookie名称属性的包含Set-Cookie的请求。</li>\n<li><strong>set-cookie-value</strong>：筛选出指定cookie值属性的包含Set-Cookie的请求。</li>\n<li><strong>status-code</strong>：筛选出指定HTTP状态码的请求。</li>\n</ul>\n<h2 id=\"Timeline\"><a href=\"#Timeline\" class=\"headerlink\" title=\"Timeline\"></a>Timeline</h2><p>Timeline的四个视图窗</p>\n<ul>\n<li><strong>Controls 工具栏</strong>：提供了录制，清除记录，配置录制过程中需要捕捉哪些数据的功能。</li>\n<li><strong>Overview 概览</strong>：页面性能的概览图，通过此图可以大致的分析页面。</li>\n<li><strong>Flame Chart 火焰图</strong>：展示了JavaScript的调用堆栈信息。其中蓝线表示DOMConentLoaded事件，绿线表示第一次绘制，红线表示load事件，由此也可以看出DOMContentLoaded事件比load事件要早不少。</li>\n<li><strong>Details 详情</strong>：选中某个事件，会显示该事件的信息，如果没有选中任何事件，就会显示选中时间区段的帧信息。</li>\n</ul>\n<h3 id=\"为什么是60帧\"><a href=\"#为什么是60帧\" class=\"headerlink\" title=\"为什么是60帧\"></a>为什么是60帧</h3><p>我们的目标是保证页面要有高于每秒60fps(帧)的刷新频率，这和目前大多数显示器的刷新率相吻合(60Hz)。如果网页动画能够做到每秒60帧，就会跟显示器同步刷新，达到最佳的视觉效果。这意味着，一秒之内进行60次重新渲染，每次重新渲染的时间不能超过16.66毫秒(包括：执行js，处理事件，修改DOM，更改样式和布局，绘制页面等。)</p>\n<h3 id=\"渲染分几步\"><a href=\"#渲染分几步\" class=\"headerlink\" title=\"渲染分几步\"></a>渲染分几步</h3><p><img src=\"https://developers.google.com/web/fundamentals/performance/rendering/images/intro/frame-full.jpg\" alt=\"渲染分几步\"></p>\n<ul>\n<li><strong>JavaScript</strong>：JavaScript实现动画效果，DOM元素操作等。</li>\n<li><strong>Style（计算样式）</strong>：确定每个DOM元素应该应用什么CSS规则。</li>\n<li><strong>Layout（布局）</strong>：计算每个DOM元素在最终屏幕上显示的大小和位置。由于web页面的元素布局是相对的，所以其中任意一个元素的位置发生变化，都会联动的引起其他元素发生变化，这个过程叫reflow。</li>\n<li><strong>Paint（绘制）</strong>：在多个层上绘制DOM元素的的文字、颜色、图像、边框和阴影等。</li>\n<li><strong>Composite（渲染层合并）</strong>：按照合理的顺序合并图层然后显示到屏幕上。</li>\n</ul>\n<h3 id=\"优化方法\"><a href=\"#优化方法\" class=\"headerlink\" title=\"优化方法\"></a>优化方法</h3><h4 id=\"requestAnimationFrame\"><a href=\"#requestAnimationFrame\" class=\"headerlink\" title=\"requestAnimationFrame\"></a><strong><em>requestAnimationFrame</em></strong></h4><p> <em>跟着浏览器的绘制走，如果浏览设备绘制间隔是16.7ms，那我就这个间隔绘制；如果浏览设备绘制间隔是10ms，我就10ms绘制</em></p>\n<hr>\n<h4 id=\"Web-Workers\"><a href=\"#Web-Workers\" class=\"headerlink\" title=\"Web Workers\"></a><strong><em>Web Workers</em></strong></h4><p> <em>在后台单独起一个线程来执行JS，不占用浏览器主线程，可以针对耗时且不操作dom的JS文件</em></p>\n<hr>\n<h4 id=\"使用flexbox代替传统布局\"><a href=\"#使用flexbox代替传统布局\" class=\"headerlink\" title=\"使用flexbox代替传统布局\"></a><strong><em>使用flexbox代替传统布局</em></strong></h4><p> <em>同样对1300个元素的布局，传统DIV布局13.7ms，flexbox仅需3.4ms</em></p>\n<hr>\n<h4 id=\"避免强制同步布局\"><a href=\"#避免强制同步布局\" class=\"headerlink\" title=\"避免强制同步布局\"></a><strong><em>避免强制同步布局</em></strong></h4><p><em>优化插件：fastdom</em></p>\n<hr>\n<h4 id=\"提升动画效果中的元素\"><a href=\"#提升动画效果中的元素\" class=\"headerlink\" title=\"提升动画效果中的元素\"></a><strong><em>提升动画效果中的元素</em></strong></h4><p><em>耗电</em></p>\n","excerpt":"<p>对于一次组内分享的整理，PPT资源放在了我的个人github pages上<a href=\"http://zanseven007.github.io/chrome-performance\">点击这里查看</a>（建议Timeline的时候使用隐身模式避免插件影响，快捷键command+shift+n）<br>","more":"</p>\n<h1 id=\"Chrome-程序性能分析\"><a href=\"#Chrome-程序性能分析\" class=\"headerlink\" title=\"Chrome 程序性能分析\"></a>Chrome 程序性能分析</h1><h2 id=\"Network\"><a href=\"#Network\" class=\"headerlink\" title=\"Network\"></a>Network</h2><p>Network主要有5个视窗，分别有不同的功能：</p>\n<ul>\n<li><strong>Controls 工具栏</strong>：用来控制Network的功能及外观。</li>\n<li><strong>Filters 筛选栏</strong>：根据筛选条件筛选请求列表，按住command/ctrl键可多选。</li>\n<li><strong>Overviews 概览</strong>：资源被加载过来的时间线，如果多条时间线垂直堆叠，表示多个资源被并行加载。</li>\n<li><strong>Request Table 请求列表</strong>：该视窗列出了所有的资源请求，默认按时间顺序排序，点击某个资源，可以查看更详细的信息。</li>\n<li><strong>Summary 总览</strong>：汇总了请求数量，传输数据大小，加载时间等信息。</li>\n</ul>\n<p>默认情况下，Request Table 请求列表展示如下信息，当然，在请求列表的表头右键可以配置请求列表显示的内容。</p>\n<ul>\n<li><strong>Nam</strong>e：资源的名称。</li>\n<li><strong>Status</strong>：HTTP的状态码。</li>\n<li><strong>Type</strong>：资源的MIME类型。</li>\n<li><strong>Initiator</strong>：表示请求的上游，即发起者。Parser表示是HTML解析器发起的请求；Redirect表示是HTTP跳转发起的请求；Script表示是由脚本发起的请求；Other表示是由其他动作发起的请求，比如用户跳转或者在导航栏输入地址等。</li>\n<li><strong>Size</strong>：请求的大小，包括响应头和响应体的内容。</li>\n<li><strong>Time</strong>：请求的时间，从请求开始到请求完全结束。</li>\n<li><strong>Timeline</strong>：请求的时间线。</li>\n</ul>\n<p>浏览器拿到网页后加载过程</p>\n<ul>\n<li>解析HTML结构。</li>\n<li>加载外部脚本和样式表文件。</li>\n<li>解析并执行脚本代码。// 部分脚本会阻塞页面的加载</li>\n<li>DOM树构建完成。//DOMContentLoaded 事件</li>\n<li>加载图片等外部文件。</li>\n<li>页面加载完毕。//load 事件</li>\n</ul>\n<p>请求上下游</p>\n<p>按住Shift查看资源请求上下游<br>其中绿色请求表示common.js的上游请求，即谁触发了V20160804a.js请求，红色请求表示common.js的下游请求，即common.js又触发了什么请求。<br><img src=\"http://obw56kbo5.bkt.clouddn.com/pic.png\" alt=\"上下游\"></p>\n<p>Timeline可以重新排序，主要有如下几个维度。</p>\n<ul>\n<li><strong>Timline - Start Time</strong>：按请求的发起时间排序。</li>\n<li><strong>Timline - Response Time</strong>：按请求的响应时间排序。</li>\n<li><strong>Timline - End Time</strong>：按请求的结束时间排序。</li>\n<li><strong>Timline - Total Duration</strong>：按请求的总耗时排序，可以快捷的找出耗时最多的资源。</li>\n<li><strong>Timline - Latency</strong>：按请求的延迟排序，延迟是指请求发起的时间到响应开始的时间，可以快捷的找出请求等待时间最长（TTFB）的资源。</li>\n</ul>\n<p>强大的过滤器功能</p>\n<ul>\n<li><strong>domain</strong>：筛选出指定域名的请求，不仅支持自动补全，还支持*匹配。</li>\n<li><strong>has-response-header</strong>：筛选出包含指定响应头的请求。</li>\n<li><strong>is</strong>：通过is:running找出WebSocket请求。</li>\n<li><strong>larger-than</strong>：筛选出请求大于指定字节大小的请求，其中1000表示1k。</li>\n<li><strong>method</strong>：筛选出指定HTTP方法的请求，比如GET请求、POST请求等。</li>\n<li><strong>mime-type</strong>：筛选出指定文件类型的请求。</li>\n<li><strong>scheme</strong>：筛选出指定协议的请求，比如scheme:http、scheme:https。</li>\n<li><strong>set-cookie-domain</strong>：筛选出指定cookie域名属性的包含Set-Cookie的请求。</li>\n<li><strong>set-cookie-name</strong>：筛选出指定cookie名称属性的包含Set-Cookie的请求。</li>\n<li><strong>set-cookie-value</strong>：筛选出指定cookie值属性的包含Set-Cookie的请求。</li>\n<li><strong>status-code</strong>：筛选出指定HTTP状态码的请求。</li>\n</ul>\n<h2 id=\"Timeline\"><a href=\"#Timeline\" class=\"headerlink\" title=\"Timeline\"></a>Timeline</h2><p>Timeline的四个视图窗</p>\n<ul>\n<li><strong>Controls 工具栏</strong>：提供了录制，清除记录，配置录制过程中需要捕捉哪些数据的功能。</li>\n<li><strong>Overview 概览</strong>：页面性能的概览图，通过此图可以大致的分析页面。</li>\n<li><strong>Flame Chart 火焰图</strong>：展示了JavaScript的调用堆栈信息。其中蓝线表示DOMConentLoaded事件，绿线表示第一次绘制，红线表示load事件，由此也可以看出DOMContentLoaded事件比load事件要早不少。</li>\n<li><strong>Details 详情</strong>：选中某个事件，会显示该事件的信息，如果没有选中任何事件，就会显示选中时间区段的帧信息。</li>\n</ul>\n<h3 id=\"为什么是60帧\"><a href=\"#为什么是60帧\" class=\"headerlink\" title=\"为什么是60帧\"></a>为什么是60帧</h3><p>我们的目标是保证页面要有高于每秒60fps(帧)的刷新频率，这和目前大多数显示器的刷新率相吻合(60Hz)。如果网页动画能够做到每秒60帧，就会跟显示器同步刷新，达到最佳的视觉效果。这意味着，一秒之内进行60次重新渲染，每次重新渲染的时间不能超过16.66毫秒(包括：执行js，处理事件，修改DOM，更改样式和布局，绘制页面等。)</p>\n<h3 id=\"渲染分几步\"><a href=\"#渲染分几步\" class=\"headerlink\" title=\"渲染分几步\"></a>渲染分几步</h3><p><img src=\"https://developers.google.com/web/fundamentals/performance/rendering/images/intro/frame-full.jpg\" alt=\"渲染分几步\"></p>\n<ul>\n<li><strong>JavaScript</strong>：JavaScript实现动画效果，DOM元素操作等。</li>\n<li><strong>Style（计算样式）</strong>：确定每个DOM元素应该应用什么CSS规则。</li>\n<li><strong>Layout（布局）</strong>：计算每个DOM元素在最终屏幕上显示的大小和位置。由于web页面的元素布局是相对的，所以其中任意一个元素的位置发生变化，都会联动的引起其他元素发生变化，这个过程叫reflow。</li>\n<li><strong>Paint（绘制）</strong>：在多个层上绘制DOM元素的的文字、颜色、图像、边框和阴影等。</li>\n<li><strong>Composite（渲染层合并）</strong>：按照合理的顺序合并图层然后显示到屏幕上。</li>\n</ul>\n<h3 id=\"优化方法\"><a href=\"#优化方法\" class=\"headerlink\" title=\"优化方法\"></a>优化方法</h3><h4 id=\"requestAnimationFrame\"><a href=\"#requestAnimationFrame\" class=\"headerlink\" title=\"requestAnimationFrame\"></a><strong><em>requestAnimationFrame</em></strong></h4><p> <em>跟着浏览器的绘制走，如果浏览设备绘制间隔是16.7ms，那我就这个间隔绘制；如果浏览设备绘制间隔是10ms，我就10ms绘制</em></p>\n<hr>\n<h4 id=\"Web-Workers\"><a href=\"#Web-Workers\" class=\"headerlink\" title=\"Web Workers\"></a><strong><em>Web Workers</em></strong></h4><p> <em>在后台单独起一个线程来执行JS，不占用浏览器主线程，可以针对耗时且不操作dom的JS文件</em></p>\n<hr>\n<h4 id=\"使用flexbox代替传统布局\"><a href=\"#使用flexbox代替传统布局\" class=\"headerlink\" title=\"使用flexbox代替传统布局\"></a><strong><em>使用flexbox代替传统布局</em></strong></h4><p> <em>同样对1300个元素的布局，传统DIV布局13.7ms，flexbox仅需3.4ms</em></p>\n<hr>\n<h4 id=\"避免强制同步布局\"><a href=\"#避免强制同步布局\" class=\"headerlink\" title=\"避免强制同步布局\"></a><strong><em>避免强制同步布局</em></strong></h4><p><em>优化插件：fastdom</em></p>\n<hr>\n<h4 id=\"提升动画效果中的元素\"><a href=\"#提升动画效果中的元素\" class=\"headerlink\" title=\"提升动画效果中的元素\"></a><strong><em>提升动画效果中的元素</em></strong></h4><p><em>耗电</em></p>"}],"PostAsset":[],"PostCategory":[],"PostTag":[{"post_id":"cizj7zm640000oz3s9mflqyt8","tag_id":"cizj7zm6d0002oz3su07nzl4w","_id":"cizj7zm6z000doz3srnejzlf1"},{"post_id":"cizj7zm640000oz3s9mflqyt8","tag_id":"cizj7zm6n0006oz3s72c8fgzc","_id":"cizj7zm70000eoz3s6bq28d6f"},{"post_id":"cizj7zm640000oz3s9mflqyt8","tag_id":"cizj7zm6s0009oz3smqsye12b","_id":"cizj7zm70000goz3su0cdu45l"},{"post_id":"cizj7zm690001oz3sshql7286","tag_id":"cizj7zm6d0002oz3su07nzl4w","_id":"cizj7zm71000joz3s9p7rgnln"},{"post_id":"cizj7zm690001oz3sshql7286","tag_id":"cizj7zm6n0006oz3s72c8fgzc","_id":"cizj7zm71000koz3sl8yb5ve9"},{"post_id":"cizj7zm690001oz3sshql7286","tag_id":"cizj7zm70000hoz3swtxi33m8","_id":"cizj7zm72000moz3s7qnnsrx6"},{"post_id":"cizj7zm6g0003oz3scbcy3hhf","tag_id":"cizj7zm6d0002oz3su07nzl4w","_id":"cizj7zm73000poz3sb92cebp4"},{"post_id":"cizj7zm6g0003oz3scbcy3hhf","tag_id":"cizj7zm6n0006oz3s72c8fgzc","_id":"cizj7zm73000qoz3sa9fojtwf"},{"post_id":"cizj7zm6g0003oz3scbcy3hhf","tag_id":"cizj7zm72000noz3sqf7qaq2q","_id":"cizj7zm73000soz3sds715gry"},{"post_id":"cizj7zm6h0004oz3spdlcu0y3","tag_id":"cizj7zm6d0002oz3su07nzl4w","_id":"cizj7zm73000uoz3somdyi77h"},{"post_id":"cizj7zm6h0004oz3spdlcu0y3","tag_id":"cizj7zm72000ooz3sah2bpuo2","_id":"cizj7zm73000voz3sbw68oans"},{"post_id":"cizj7zm6h0004oz3spdlcu0y3","tag_id":"cizj7zm73000roz3srj7pseq8","_id":"cizj7zm74000xoz3sg2s8zlll"},{"post_id":"cizj7zm6l0005oz3sb2woldcw","tag_id":"cizj7zm73000toz3sibxbxpyx","_id":"cizj7zm750010oz3sisrm28p4"},{"post_id":"cizj7zm6l0005oz3sb2woldcw","tag_id":"cizj7zm6n0006oz3s72c8fgzc","_id":"cizj7zm750011oz3sm7e212p4"},{"post_id":"cizj7zm6l0005oz3sb2woldcw","tag_id":"cizj7zm70000hoz3swtxi33m8","_id":"cizj7zm760013oz3sfvsgsn9d"},{"post_id":"cizj7zm6o0007oz3sp0z9egkj","tag_id":"cizj7zm6d0002oz3su07nzl4w","_id":"cizj7zm760014oz3sv9z1rsa8"},{"post_id":"cizj7zm6o0007oz3sp0z9egkj","tag_id":"cizj7zm6n0006oz3s72c8fgzc","_id":"cizj7zm770016oz3stj4q9bjo"},{"post_id":"cizj7zm6o0007oz3sp0z9egkj","tag_id":"cizj7zm74000zoz3siih35pls","_id":"cizj7zm770017oz3s49bdrq6t"},{"post_id":"cizj7zm6p0008oz3scdsnrvxo","tag_id":"cizj7zm6d0002oz3su07nzl4w","_id":"cizj7zm7a0019oz3sbiuh4q61"},{"post_id":"cizj7zm6p0008oz3scdsnrvxo","tag_id":"cizj7zm72000noz3sqf7qaq2q","_id":"cizj7zm7b001aoz3sglej0ilz"},{"post_id":"cizj7zm6p0008oz3scdsnrvxo","tag_id":"cizj7zm6n0006oz3s72c8fgzc","_id":"cizj7zm7b001coz3so4aal75r"},{"post_id":"cizj7zm6s000aoz3smvrf29ei","tag_id":"cizj7zm6d0002oz3su07nzl4w","_id":"cizj7zm7b001doz3s6n898mv4"},{"post_id":"cizj7zm6s000aoz3smvrf29ei","tag_id":"cizj7zm760015oz3s5kos37kj","_id":"cizj7zm7c001foz3swks60nh3"},{"post_id":"cizj7zm6s000aoz3smvrf29ei","tag_id":"cizj7zm72000noz3sqf7qaq2q","_id":"cizj7zm7c001goz3st7vdf8jh"},{"post_id":"cizj7zm6u000boz3sjvmzwwem","tag_id":"cizj7zm6d0002oz3su07nzl4w","_id":"cizj7zm7c001hoz3se1ep96ra"},{"post_id":"cizj7zm6u000boz3sjvmzwwem","tag_id":"cizj7zm760015oz3s5kos37kj","_id":"cizj7zm7c001ioz3sf6oynfur"},{"post_id":"cizj7zm6u000boz3sjvmzwwem","tag_id":"cizj7zm7b001eoz3sljvjyrpd","_id":"cizj7zm7c001joz3sl7yj6mj1"}],"Tag":[{"name":"前端","_id":"cizj7zm6d0002oz3su07nzl4w"},{"name":"个人","_id":"cizj7zm6n0006oz3s72c8fgzc"},{"name":"chrome","_id":"cizj7zm6s0009oz3smqsye12b"},{"name":"生活","_id":"cizj7zm70000hoz3swtxi33m8"},{"name":"复制粘贴专用","_id":"cizj7zm72000noz3sqf7qaq2q"},{"name":"github","_id":"cizj7zm72000ooz3sah2bpuo2"},{"name":"网络","_id":"cizj7zm73000roz3srj7pseq8"},{"name":"猫","_id":"cizj7zm73000toz3sibxbxpyx"},{"name":"mac","_id":"cizj7zm74000zoz3siih35pls"},{"name":"丁香园","_id":"cizj7zm760015oz3s5kos37kj"},{"name":"性能","_id":"cizj7zm7b001eoz3sljvjyrpd"}]}}